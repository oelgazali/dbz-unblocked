/*!
 * 
 * Copyright (C) Yolla Media 2025
 * https://portal.yollamedia.com
 * Version: 3.3.0 / 8.52.2 / prod / newpreroll
 * Release: 2025-03-12T13:37:20.836Z
 *
 */(()=>{"use strict";const e="ON_LOCATION_CHANGED";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,n||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function o(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){return t=e,n="String",Object.prototype.toString.call(t)==="[object "+n+"]";var t,n}function r(e){if(!e)return!0;if((t=e)&&Array.isArray(t)||i(e))return!(e.length>0);var t;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function a(e){return new Promise(((t,n)=>{window.__tcfapi?window.__tcfapi("getTCData",2,(function(n,o){e&&e(n),t(n)})):window.__cmp?window.__cmp("getConsentData",null,(function(n){e&&e(n),t(n)})):(e&&e(null),t(null))}))}async function s(){let e=await a(),t="unknown";return e&&(t=e.eventStatus+"|","tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus?t+="pending":!function(e){if(r(e))return!0;const t=r(e.publisher)||r(e.publisher.consents)&&r(e.publisher.legitimateInterests),n=r(e.purpose)||r(e.purpose.consents)&&r(e.purpose.legitimateInterests),o=r(e.vendor)||r(e.vendor.consents);return t&&n&&o}(e)?t+="accecpt_some":t+="reject_all"),t}const c=window.location!==window.parent.location,d=function(e){let t=(e=e.toString()).match(/^(https?\:\/\/)?([^\/?#]+)(?:[\/?#]|$)/i);return t?t[2].replace(/^www\./,""):""}(window.location)||window.location.hostname,u=window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?window.location.ancestorOrigins[0]:"",l=c?u||window.document.referrer:d;/^https:/.test(window.location.href),encodeURIComponent(window.location.host);function p(){return"hidden"===document.visibilityState||document.hidden?0:1}function f(){return 0===p()}const h={sendBeacon:(e,t)=>(fetch(e,{mode:"no-cors",method:"POST",headers:{"Content-Type":"application/json"},body:t}),!0)},v=["v","uuid","session_id","language","country","domain_id","hostname","dimension3","dimension7","dimension8","dimension10","dimension11","dimension22","utm_id","utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_source_platform"],m={pageviewId:"pvid",userId:"uid",hitType:"t",hostname:"dh",page_location:"dl",page_title:"dt",page_referrer:"ref",document_referrer:"dr",eventCategory:"category",eventAction:"action",eventLabel:"label",eventValue:"value"};function _(e){let t="";return m.hasOwnProperty(e)?t=m[e]:/^dimension\d+$/.test(e)?(t=e.replace("dimension","cd"),m[e]=t):/^metric\d+$/.test(e)&&(t=e.replace("metric","cm"),m[e]=t),t}const g=v.map((e=>_(e)||e));function w(e){return["dimension20","pageviewId"].indexOf(e)>-1||v.indexOf(e)>-1||/^p(d|m)\d+$/.test(e)}function y(e){let t=Object.assign({},e);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let o=_(n);o?(t[o]=e[n]+"",delete t[n]):t[n]=e[n]+""}return["ts","domain_id"].forEach((e=>{t[e]=+t[e]})),t}const b=class{constructor(){o(this,"_name","yolla"),o(this,"_url","https://analytics.yollamedia.com:8443/v0/pv"),o(this,"_adapter",h),window.addEventListener("beforeunload",(()=>{this._adapter=navigator.sendBeacon?navigator:h}))}get name(){return this._name}_sendBeacon(e){this._adapter.sendBeacon(this._url,JSON.stringify(e))}config(e,t){}pageview(e){Object.assign(e,{eventCategory:"pageview",eventLabel:"pageview",eventValue:1}),this.send("pageview",e)}set(){}get(){}consent(){}exec(){}send(e,t){Object.assign(t,{eventAction:e,ts:Date.now()});let n=y(t);this._sendBeacon(n)}};const O=Array.isArray;const D="object"==typeof global&&global&&global.Object===Object&&global;var P="object"==typeof self&&self&&self.Object===Object&&self;const E=D||P||Function("return this")();const A=E.Symbol;var M=Object.prototype,C=M.hasOwnProperty,S=M.toString,B=A?A.toStringTag:void 0;const R=function(e){var t=C.call(e,B),n=e[B];try{e[B]=void 0;var o=!0}catch(e){}var i=S.call(e);return o&&(t?e[B]=n:delete e[B]),i};var j=Object.prototype.toString;const T=function(e){return j.call(e)};var L=A?A.toStringTag:void 0;const Y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?R(e):T(e)};const I=function(e){return null!=e&&"object"==typeof e};const $=function(e){return"symbol"==typeof e||I(e)&&"[object Symbol]"==Y(e)};var q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/;const U=function(e,t){if(O(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||(N.test(e)||!q.test(e)||null!=t&&e in Object(t))};const V=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const x=function(e){if(!V(e))return!1;var t=Y(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const W=E["__core-js_shared__"];var k,F=(k=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";const z=function(e){return!!F&&F in e};var H=Function.prototype.toString;const G=function(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var K=/^\[object .+?Constructor\]$/,J=Function.prototype,X=Object.prototype,Q=J.toString,Z=X.hasOwnProperty,ee=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const te=function(e){return!(!V(e)||z(e))&&(x(e)?ee:K).test(G(e))};const ne=function(e,t){return null==e?void 0:e[t]};const oe=function(e,t){var n=ne(e,t);return te(n)?n:void 0};const ie=oe(Object,"create");const re=function(){this.__data__=ie?ie(null):{},this.size=0};const ae=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var se=Object.prototype.hasOwnProperty;const ce=function(e){var t=this.__data__;if(ie){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return se.call(t,e)?t[e]:void 0};var de=Object.prototype.hasOwnProperty;const ue=function(e){var t=this.__data__;return ie?void 0!==t[e]:de.call(t,e)};const le=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ie&&void 0===t?"__lodash_hash_undefined__":t,this};function pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}pe.prototype.clear=re,pe.prototype.delete=ae,pe.prototype.get=ce,pe.prototype.has=ue,pe.prototype.set=le;const fe=pe;const he=function(){this.__data__=[],this.size=0};const ve=function(e,t){return e===t||e!=e&&t!=t};const me=function(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1};var _e=Array.prototype.splice;const ge=function(e){var t=this.__data__,n=me(t,e);return!(n<0)&&(n==t.length-1?t.pop():_e.call(t,n,1),--this.size,!0)};const we=function(e){var t=this.__data__,n=me(t,e);return n<0?void 0:t[n][1]};const ye=function(e){return me(this.__data__,e)>-1};const be=function(e,t){var n=this.__data__,o=me(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};function Oe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Oe.prototype.clear=he,Oe.prototype.delete=ge,Oe.prototype.get=we,Oe.prototype.has=ye,Oe.prototype.set=be;const De=Oe;const Pe=oe(E,"Map");const Ee=function(){this.size=0,this.__data__={hash:new fe,map:new(Pe||De),string:new fe}};const Ae=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Me=function(e,t){var n=e.__data__;return Ae(t)?n["string"==typeof t?"string":"hash"]:n.map};const Ce=function(e){var t=Me(this,e).delete(e);return this.size-=t?1:0,t};const Se=function(e){return Me(this,e).get(e)};const Be=function(e){return Me(this,e).has(e)};const Re=function(e,t){var n=Me(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};function je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}je.prototype.clear=Ee,je.prototype.delete=Ce,je.prototype.get=Se,je.prototype.has=Be,je.prototype.set=Re;const Te=je;function Le(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=e.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(Le.Cache||Te),n}Le.Cache=Te;const Ye=Le;var Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$e=/\\(\\)?/g;const qe=function(e){var t=Ye(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ie,(function(e,n,o,i){t.push(o?i.replace($e,"$1"):n||e)})),t}));const Ne=function(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i};var Ue=A?A.prototype:void 0,Ve=Ue?Ue.toString:void 0;const xe=function e(t){if("string"==typeof t)return t;if(O(t))return Ne(t,e)+"";if($(t))return Ve?Ve.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const We=function(e){return null==e?"":xe(e)};const ke=function(e,t){return O(e)?e:U(e,t)?[e]:qe(We(e))};const Fe=function(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const ze=function(e,t){for(var n=0,o=(t=ke(t,e)).length;null!=e&&n<o;)e=e[Fe(t[n++])];return n&&n==o?e:void 0};const He=function(){try{var e=oe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const Ge=function(e,t,n){"__proto__"==t&&He?He(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ke=Object.prototype.hasOwnProperty;const Je=function(e,t,n){var o=e[t];Ke.call(e,t)&&ve(o,n)&&(void 0!==n||t in e)||Ge(e,t,n)};var Xe=/^(?:0|[1-9]\d*)$/;const Qe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Xe.test(e))&&e>-1&&e%1==0&&e<t};const Ze=function(e,t,n,o){if(!V(e))return e;for(var i=-1,r=(t=ke(t,e)).length,a=r-1,s=e;null!=s&&++i<r;){var c=Fe(t[i]),d=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var u=s[c];void 0===(d=o?o(u,c,s):void 0)&&(d=V(u)?u:Qe(t[i+1])?[]:{})}Je(s,c,d),s=s[c]}return e};const et=function(e,t,n){for(var o=-1,i=t.length,r={};++o<i;){var a=t[o],s=ze(e,a);n(s,a)&&Ze(r,ke(a,e),s)}return r};const tt=function(e,t){return null!=e&&t in Object(e)};const nt=function(e){return I(e)&&"[object Arguments]"==Y(e)};var ot=Object.prototype,it=ot.hasOwnProperty,rt=ot.propertyIsEnumerable;const at=nt(function(){return arguments}())?nt:function(e){return I(e)&&it.call(e,"callee")&&!rt.call(e,"callee")};const st=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const ct=function(e,t,n){for(var o=-1,i=(t=ke(t,e)).length,r=!1;++o<i;){var a=Fe(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++o!=i?r:!!(i=null==e?0:e.length)&&st(i)&&Qe(a,i)&&(O(e)||at(e))};const dt=function(e,t){return null!=e&&ct(e,t,tt)};const ut=function(e,t){return et(e,t,(function(t,n){return dt(e,n)}))};const lt=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e};var pt=A?A.isConcatSpreadable:void 0;const ft=function(e){return O(e)||at(e)||!!(pt&&e&&e[pt])};const ht=function e(t,n,o,i,r){var a=-1,s=t.length;for(o||(o=ft),r||(r=[]);++a<s;){var c=t[a];n>0&&o(c)?n>1?e(c,n-1,o,i,r):lt(r,c):i||(r[r.length]=c)}return r};const vt=function(e){return(null==e?0:e.length)?ht(e,1):[]};const mt=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var _t=Math.max;const gt=function(e,t,n){return t=_t(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,r=_t(o.length-t,0),a=Array(r);++i<r;)a[i]=o[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=o[i];return s[t]=n(a),mt(e,this,s)}};const wt=function(e){return function(){return e}};const yt=He?function(e,t){return He(e,"toString",{configurable:!0,enumerable:!1,value:wt(t),writable:!0})}:function(e){return e};var bt=Date.now;const Ot=function(e){var t=0,n=0;return function(){var o=bt(),i=16-(o-n);if(n=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(yt);const Dt=function(e){return Ot(gt(e,void 0,vt),e+"")}((function(e,t){return null==e?{}:ut(e,t)}));const Pt=class{constructor(){o(this,"_name","debug"),o(this,"_url","https://analytics.yollamedia.com:8443/v1/de"),o(this,"_que",[]),o(this,"_adapter",h),o(this,"_timer",null),this._send=this._send.bind(this),this.checkReady()||this.init()}get name(){return this._name}checkReady(){return!!this._timer}_sendBeacon(e){if(e.length<1)return;let t=Dt(e[0],g),n=this._url+"?".concat(new URLSearchParams(t).toString());this._adapter.sendBeacon(n,JSON.stringify(e))}_send(){const e=this._que.slice();this._que.length=0,e.length>0&&this._sendBeacon(e)}init(){this._timer=setInterval(this._send,5e3),window.addEventListener("beforeunload",(()=>{navigator.sendBeacon.bind(this),this._adapter=navigator.sendBeacon?navigator:h,this._send()}))}config(e,t){}pageview(e){Object.assign(e,{eventCategory:"pageview",eventLabel:"pageview",eventValue:1}),this.send("pageview",e)}set(){}get(){}consent(){}exec(){}send(e,t){Object.assign(t,{eventAction:e,ts:Date.now()});let n=y(t);["ympbReady","onPlayerRequestVast","onVideoStarted"].indexOf(e)>-1?this._sendBeacon([n]):(this._que.push(n),this._que.length>=20&&this._send())}};const Et=class{get name(){return this._name}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"console";o(this,"_name",void 0),o(this,"_adapter",null),this._name=e}_sendBeacon(e){window.console.log("Yolla Tracker:: ".concat(e.category," | ").concat(e.label," | ").concat(e.action," | ").concat(e.value),e)}config(e,t){}pageview(e){Object.assign(e,{eventCategory:"pageview",eventLabel:"pageview",eventValue:1}),this.send("pageview",e)}set(){}get(){}consent(){}exec(){}send(e,t){Object.assign(t,{eventAction:e,ts:Date.now()});let n=y(t);this._sendBeacon(n)}};class At{constructor(){o(this,"_startedAt",Date.now()),o(this,"_configs",{api:"v1",id:"",allowed_categories:[]}),o(this,"_sharedParams",null),o(this,"$options",null),o(this,"$wrappers",[]),window.yaqData=window.yaqData||[],window.yaq=window.yaq||function(){window.yaqData.push(arguments)},this.initial()}get initialed(){return this.$wrappers.length>0}getCommonParams(){let e=[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0].join("x"),t={document_referrer:document.referrer,page_referrer:l,browser_size:e,bs:e,sp:[Math.floor(document.documentElement.scrollLeft),Math.floor(document.documentElement.scrollTop)].join(","),ts:Date.now(),dimension27:p(),metric12:Math.round((Date.now()-this._startedAt)/1e3)};return Object.assign(t,this._sharedParams),t}async _consent(){let e="false";e=await s(),this._set({dimension10:e})}_config(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this._configs.hasOwnProperty(t)&&(this._configs[t]=e[t])}_set(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&w(t)&&(this._sharedParams[t]=e[t])}addWrapper(e){this.$wrappers.push(e)}getWrapper(e){return this.$wrappers.find((t=>t.name===e))}send(e,t,n){let o=this.getWrapper(e);if(!o)return!1;if(this._configs.allowed_categories.length>0){const e=n.eventCategory||t;if(this._configs.allowed_categories.indexOf(e)<0)return!1}let i=Object.assign({page_path:document.location.pathname,page_location:document.location.href,page_title:document.title||""},n||{},this.getCommonParams());return"page_view"===t?(i.type="pageview",o.pageview(i)):(i.type="event",o.send(t,i)),!0}execQue(){if(!(window.yaqData.length<1)&&this.initialed){window.yaqData.sort((e=>"event"===e[0]&&"page_view"===e[1]?-1:0)),window.yaqData.sort((e=>"set"===e[0]?-1:0)),window.yaqData.sort((e=>"init"===e[0]?-1:0)),window.yaqData.sort((e=>"config"===e[0]?-1:0));for(let e=0;e<window.yaqData.length;e++){const t=window.yaqData[e];window.yaqData.push(t)}window.yaqData.length=0}}init(e){if(this.initialed)return;this.$options=e,this._sharedParams={v:1,pageviewId:Date.now(),uuid:e.$userSession.uuid,session_id:e.$userSession.createdAt,language:navigator.language,country:e.$geoInfo.values.countryCode,domain_id:e.getOption("DOMAIN_ID"),hostname:window.location.hostname,dimension3:e.getOption("YMPB_VARIANT"),dimension7:d,dimension8:l,dimension10:"",dimension11:c,dimension20:"",dimension22:e.$geoInfo.isValid()},e.$geoInfo.values.is_gdpr&&this._consent(),e.$userSession.isNew&&window.yaq("event",e.getOption("YMPB_VARIANT"),{eventCategory:"Variant",eventLabel:window.location.hostname,eventValue:1});let t=e.getOption("DEBUG");!t||t.enableTracker?(this.addWrapper(new b),this.addWrapper(new Pt)):(this.addWrapper(new Et("yolla")),this.addWrapper(new Et("debug"))),this.execQue()}initial(){var e=this;if(window.yaq.ready=!0,window.yaqData.push=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];let i=n[0];if(i.length<2)return;if(!e.initialed)return void("init"===i[0]?e.init(i[1]):Array.prototype.push.apply(window.yaqData,n));const r=i[0].match(/[^|\.](\w+)/g);if(!r||r.length<1)return;const a=r[0],s=r[1]||"yolla";r[2];switch(a){case"config":"yaq"===i[1]&&e._config(i[2]);break;case"set":"yaq"===i[1]&&e._set(i[2]);break;case"get":default:break;case"consent":e._consent();break;case"event":e.send(s,i[1],i[2])}},!this.initialed){window.yaq("event","page_view",{dimension4:0});let e=window.yaqData.findIndex((e=>"init"===e[0]));if(e>-1){let t=window.yaqData.splice(e,1);this.init(t[0][1])}}}}var Mt=/\s/;const Ct=function(e){for(var t=e.length;t--&&Mt.test(e.charAt(t)););return t};var St=/^\s+/;const Bt=function(e){return e?e.slice(0,Ct(e)+1).replace(St,""):e};var Rt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Tt=/^0o[0-7]+$/i,Lt=parseInt;const Yt=function(e){if("number"==typeof e)return e;if($(e))return NaN;if(V(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=V(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Bt(e);var n=jt.test(e);return n||Tt.test(e)?Lt(e.slice(2),n?2:8):Rt.test(e)?NaN:+e};var It=1/0;const $t=function(e){return e?(e=Yt(e))===It||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};const qt=function(e){var t=$t(e),n=t%1;return t==t?n?t-n:t:0};var Nt=E.isFinite,Ut=Math.min;const Vt=function(e){var t=Math[e];return function(e,n){if(e=Yt(e),(n=null==n?0:Ut(qt(n),292))&&Nt(e)){var o=(We(e)+"e").split("e"),i=t(o[0]+"e"+(+o[1]+n));return+((o=(We(i)+"e").split("e"))[0]+"e"+(+o[1]-n))}return t(e)}}("round");function xt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"floor";if(t<=0)throw new Error("invalid roundTo");if(e<=t)return e;let o=e,i=1,r=0;for(;!Number.isSafeInteger(t);)i*=10,t*=10,r++;let a=Math[n](e*i/t);return a>0&&(o=a*t/i),Vt(o,r)}const Wt={AUTOPLAY:1,AUTOPLAY_MUTED:2,CLICK_TO_PLAY:3,CLICK_TO_PLAY_MUTED:4,VIEWABLE:5,VIEWABLE_MUTED:6},kt={};function Ft(e){let t=Math.floor(e);return t=t>5?xt(t-1,5):0,e>1?"".concat(t+1,"-").concat(t+5):0}function zt(e){return e.map((e=>"".concat(Math.round(e.y),",").concat(Math.round(e.y+e.height),",").concat(Math.round(e.x),",").concat(Math.round(e.x+e.width)))).join("|")}function Ht(e){var t;let n=e.bidWon||e.bid,o=(null==n?void 0:n.bidder)||(e.isAdxWon?"AdX":""),i=(null==n?void 0:n.parentBidderCode)||(e.isAdxWon?"AdX":""),r={tp:zt([e.position]),dimension1:o,dimension2:(null==n||null===(t=n.adserverTargeting)||void 0===t?void 0:t.hb_pb)||0,dimension4:e.refreshCounter,dimension5:e.slotFillType,dimension14:e.inviewDuration>=2,dimension17:Ft(e.inviewDuration),dimension23:e.isImpOnSwap?1:0,dimension24:e.adUnitCode,dimension25:e.ympbId,dimension26:e.status,dimension28:JSON.stringify(e.targetings),dimension30:zt(e.lastSwapPosition),dimension31:e.isSwapping?1:0,dimension33:e.creativeType,dimension34:i,dimension35:e.closeReason||-1,dimension37:e.slotSize?e.slotSize.join("x"):"",dimension38:e.groupType,dimension39:n&&n.__retry?n.__retry:0,dimension40:e.refreshType,dimension41:e.formatType,metric3:e.isUsePrebidRender?1:0,metric4:e.isEmpty?1:0,metric5:n?n.originalCpm||n.cpm:0,metric6:e.hasError?1:0,metric8:e.inviewDuration,metric11:e.swapCounter,metric13:e.counter};if(e.hasError&&(r.dimension6=e.errorMessage||"unknown"),e.isImpressed&&(r.dimension19=e.isAdxWon?"AdX":null==n?void 0:n.bidder),e.isVideoAdData){let t=-1;var a,s;if(t=e.autoplay?e.muted||0===e.volume?Wt.AUTOPLAY_MUTED:Wt.AUTOPLAY:e.muted||0===e.volume?Wt.CLICK_TO_PLAY_MUTED:Wt.CLICK_TO_PLAY,Object.assign(r,{dimension12:e.videoAdStatus,dimension13:t,dimension15:Ft(e.videoAdInViewDuration),dimension16:Ft(e.currentTime),dimension21:e.waterfallIndex,metric7:Math.floor(e.videoAdDuration),metric8:Math.floor(e.videoAdInViewDuration),metric9:Math.floor(e.currentTime)}),e.adSystem)r.dimension19="".concat(e.adSystem,"|").concat(null===(a=e.adWrapperSystems)||void 0===a?void 0:a.join(","),"|").concat(null===(s=e.adWrapperIds)||void 0===s?void 0:s.join(","))}let d=YMPB.getSlotPositions(e.adUnitCode);return r.dimension32=zt(d),c||(r.dimension29=YMPB.checkSlotIsCovered(e.adUnitCode)),r}function Gt(e){let t=e.parentBidderCode,n={dimension1:e.ymAlias||e.alias||e.bidder,dimension5:("mediaTypes"in e?Object.keys(e.mediaTypes):[e.mediaType]).join("|"),dimension24:e.adUnitCode,dimension25:e.auctionId,dimension34:t},o=function(e){return kt.hasOwnProperty(e)?kt[e]:kt[e]=YMPB.checkBidderConsent(e)}(e.bidder);return o?(n.dimension19=o.gvlid,n.dimension26=o.consents?"true":"false",n.dimension28=o.legitimateInterests?"true":"false"):n.dimension19=0,n}let Kt="",Jt=0;const Xt={};function Qt(e){let t="";if(!e)return t;for(let n=0;n<e.length;n++){const o=e[n].match(/^pb_(.+)/);o&&(t=o[1])}return t}function Zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0){if(Date.now()-Jt<18e5)return;Jt=Date.now()}Object.assign(t,{eventCategory:"Yolla",eventLabel:l,eventValue:Math.round(100*e)}),window.yaq("event",Kt,t)}function en(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.eventCategory="TCF_"+t.replace(/[\W\.]+/g,"_"),o.eventLabel=n,o.eventValue=1,window.yaq("event",e,o)}function tn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Ht(t);Object.assign(o,{eventCategory:"Debug",eventLabel:t.adUnitCode.replace(/-\d+$/,""),eventValue:1},n),window.yaq("event.debug",e,o)}function nn(){YMPB.$e.on("YMPB_ALL_SET",(e=>{let t={eventCategory:"Debug",eventLabel:e&&e.detail?e.detail.blocker?"blocker":"normal":"n/a",eventValue:1,dimension20:""};e.detail&&e.detail.options.GDPR_ENABLED?a().then((e=>{t.dimension20=e.tcString,window.yaq("event.debug","ympbReady",t)})).catch((()=>{t.dimension20="(error)",window.yaq("event.debug","ympbReady",t)})):window.yaq("event.debug","ympbReady",t)})),YMPB.onEvent("auctionInit",(function(e){var t;let n=null===(t=YMPB.getConfig("floors"))||void 0===t||null===(t=t.data)||void 0===t?void 0:t.values;Xt[e.auctionId]=Object.assign({},n||{})})),YMPB.onEvent("auctionEnd",(function(e){"completed"===e.auctionStatus&&(e.bidderRequests.forEach((t=>{t.bids.forEach((t=>{let n=t.adUnitCode.replace(/-\d+$/,""),o=Gt(t);o.metric7=e.auctionStart,o.dimension36=Xt[e.auctionId]&&Xt[e.auctionId][n]||0,Object.assign(o,{eventCategory:"Debug",eventLabel:n,eventValue:1}),window.yaq("event.debug","bidRequested",o)}))})),e.bidsReceived.forEach((t=>{if(!t.__adUnitCode){let n=t.adUnitCode.replace(/-\d+$/,""),o=function(e){let t=Gt(e);return Object.assign(t,{dimension2:e.cpm.toFixedNoRounding(2),dimension16:e.timeToRespond,metric5:e.originalCpm||e.cpm,metric7:e.responseTimestamp}),t}(t);o.metric8=e.auctionEnd,o.dimension36=Xt[e.auctionId]&&Xt[e.auctionId][n]||0,Object.assign(o,{eventCategory:"Debug",eventLabel:n,eventValue:1}),window.yaq("event.debug","bidResponse",o)}})),delete Xt[e.auctionId])})),YMPB.$e.on("ON_AD_UNIT_ERROR",(e=>{tn("onAdUnitError",e.detail.statusData,{})})),YMPB.$e.on("ON_PREBID_RENDER_SUCCESS",(e=>{let t=e.detail.statusData,n=t.bidWon||t.bid;if(n){let e=Ht(t);Object.assign(e,{eventCategory:"RenderWithoutPlatform",eventLabel:l,eventValue:Math.floor(100*n.cpm)}),window.yaq("event",YMPB.getOption("YMPB_VARIANT"),e)}})),YMPB.$e.on("ON_PREBID_RENDER_ERROR",(e=>{let t=e.detail.statusData,n=Ht(t);Object.assign(n,{eventCategory:"Error",eventLabel:l,eventValue:1,dimension6:t.errorMessage||"unknown"}),window.yaq("event","Prebid Render Error",n)}))}let on=0,rn=Date.now(),an=0;function sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=on>0?Date.now()-on:0;if(an+=t,on=f()?0:Date.now(),t<100)return;let n=Object.assign({eventCategory:"Duration",eventLabel:"duration",eventValue:t,dimension15:Math.floor(an/1e3),dimension16:Math.floor((Date.now()-rn)/1e3)},e);window.yaq("event","Duration",n)}function cn(){f()?sn():on=Date.now()}function dn(){sn({eventLabel:"leave"})}let un=location.href,ln=0;if(window.YMPB=window.YMPB||{},window.YMPB.command=window.YMPB.command||[],!0!==window.yaq.ready){!function(){const t=new MutationObserver((function(t){const n=new URL(un);if(location.pathname!==n.pathname){let t={$prevURL:n,$currentURL:new URL(location.href),counter:++ln};un=location.href,window.YMPB&&window.YMPB.$e&&window.YMPB.$e.qd(e,t)}}));t.observe(document,{subtree:!0,childList:!0}),window.addEventListener("beforeunload",(function(e){t.disconnect()}))}();new At;window.YMPB.command.push((function(){window.addEventListener("visibilitychange",cn),window.addEventListener("beforeunload",dn),cn(),YMPB.$e.on("ON_STORAGE_ERROR",(e=>{let t=e.detail;window.yaq("event","Storage Error",{eventCategory:"Error",eventLabel:l,eventValue:Math.round(t.usedStorageSize),dimension6:t.message.replace(/(YOLLA_CACHE).[0-9a-z]+/,"")})})),YMPB.$e.on("ON_HEAVY_ADS_ERROR",(e=>{let t=e.detail,n=t.type||"(empty)",o=t.data,i=(null==o?void 0:o.hbBidder)||"AdX";window.yaq("event","Heavy Ads",{eventCategory:"Error",eventLabel:l,eventValue:1,dimension1:i,dimension2:(null==o?void 0:o.hbPb)||"0",dimension6:n,dimension34:i,metric5:o&&o.hbPb?Math.floor(100*+o.hbPb):0})})),YMPB.$e.on("ON_YOLLA_AUCTION_ERROR",(e=>{let t=e.detail.message;e.detail.datas.forEach((e=>{window.yaq("event","Auction Error",{eventCategory:"Error",eventLabel:l,eventValue:1,dimension5:e.slotFillType,dimension6:t||"(empty)",metric6:1})}))})),YMPB.$e.on("ON_AD_UNIT_STALLED",(e=>{let t=e.detail.statusData,n=Ht(t);Object.assign(n,{eventCategory:"Error",eventLabel:l,eventValue:1,dimension6:t.errorMessage||"stalled"}),window.yaq("event","Stalled",n)})),YMPB.$e.on("ON_TCF_LOADED",(function(e){window.yaq("consent","update",{})})),YMPB.$e.on("ON_TCF_TIMEOUT",(function(e){window.yaq("consent","update",{});let t=e.detail;en("timeout",t.version,t.layout,{dimension17:xt(Date.now()-t.startedAt,1e3)})})),YMPB.$e.on("ON_TCF_SHOW",(e=>{let t=e.detail;en("Saw Choice",t.version,t.layout,{dimension17:xt(Date.now()-t.startedAt,1e3)})})),YMPB.$e.on("ON_TCF_REJECTED_ALL",(e=>{let t=e.detail;en("Reject All",t.version,t.layout)})),YMPB.$e.on("ON_TCF_ACCEPTED_SOME",(e=>{let t=e.detail;en("Accept Some",t.version,t.layout)})),Kt=YMPB.getOption("YMPB_EVENT_CATEGORY"),YMPB.$e.on("ON_SET_BID",(function(e){let t=e.detail.statusData;if(!t.isUseGAM&&t.bid){let e=Ht(t);e.metric1=1,Zt(t.bid.cpm,e)}})),YMPB.onEvent("setTargeting",(function(e){let t=0,n=0,o=0;for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let r=YMPB.getStatusData?YMPB.getStatusData(i):null;const a=e[i],s=a&&a.hb_pb?+a.hb_pb:0;if(r&&r.isVideoAdData){let e=Ht(r);e.metric1=1,Zt(s,e)}else o+=1,t+=s,r&&r.bid&&(n+=r.bid.originalCpm||r.bid.cpm)}o>0&&Zt(t,{metric1:o,metric5:n})})),nn(),async function(){YMPB.$e.on("ads-request",(e=>{tn("onPlayerRequestVast",e.detail.statusData)})),YMPB.$e.on("ON_PLAYER_ADS_LOADED",(e=>{tn("onVideoLoaded",e.detail.statusData,{dimension24:Qt(e.detail.statusData.adWrapperIds)})})),YMPB.$e.on("ON_PLAYER_ADS_STARTED",(e=>{tn("onVideoStarted",e.detail.statusData,{dimension24:Qt(e.detail.statusData.adWrapperIds)})}))}(),YMPB.getOption("ENABLE_CUSTOM_TRACKER")&&(YMPB.$e.on("ON_BEFORE_AD_UNIT_REQUEST",(e=>{tn("beforeSlotRequest",e.detail.statusData)})),YMPB.$e.on("ON_DFP_RENDER_ENDED",(e=>{tn("slotRenderEnded",e.detail.statusData)})),YMPB.$e.on("ON_DFP_IMPRESSION",(e=>{tn("impressionViewable",e.detail.statusData)})),YMPB.$e.on("ON_PREBID_IMPRESSION",(e=>{tn("prebidViewable",e.detail.statusData)})),YMPB.$e.on("ON_AD_UNIT_ENDED",(e=>{tn("onAdUnitEnded",e.detail.statusData)})),YMPB.$e.on("ON_USER_CLICK_CLOSE",(e=>{tn("onUserClickClose",e.detail.statusData)}))),window.YMPB.$e.addEventListener(e,(function(e){var t;sn({eventLabel:"path_changed",page_path:(t=e.detail).$prevURL.pathname,page_location:t.$prevURL.href}),on=0,rn=Date.now(),an=0,cn(),window.yaq("set","yaq",{pageviewId:Date.now()}),window.yaq("event","page_view",{dimension4:e.detail.counter||0})}))}))}})();