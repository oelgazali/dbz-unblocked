/*!
 * 
 * Copyright (C) Yolla Media 2025
 * https://portal.yollamedia.com
 * Version: 3.3.0 / 8.52.2 / prod / newpreroll
 * Release: 2025-02-04T13:27:20.298Z
 *
 */(()=>{var e,t,i={5522:(e,t,i)=>{"use strict";i.d(t,{OG:()=>l,T_:()=>c,ix:()=>a});var n=i(75);const r="__tcfapiLocator";let s={};function o(e){let t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}const i=t.__tcfapiReturn;i&&"function"==typeof s[i.callId]&&s[i.callId](i.returnValue,i.success)}function a(){const e=window;let t,i=e;for(;i;){try{if(i.frames[r]){t=i;break}}catch(e){}if(i===e.top)break;i=i.parent}return t}function d(){const e=window,t=e.document,i=!!e.frames[r];if(!i)if(t.body){const e=t.createElement("iframe");e.style.cssText="display:none",e.name=r,t.body.appendChild(e)}else setTimeout(d,5);return!i}function c(){s={},window.removeEventListener("message",o,!1);const e=[],t=window;let i;d(),t.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return e;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(i=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:i,cmpLoaded:!1,cmpStatus:"stub"}):e.push(n)},t.addEventListener("message",(function(e){const t="string"==typeof e.data;let i={};if(t)try{i=JSON.parse(e.data)}catch(e){}else i=e.data;const n="object"==typeof i?i.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(i,r){let s={__tcfapiReturn:{returnValue:i,success:r,callId:n.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(s):s,"*")}),n.parameter)}),!1)}function l(){let e=a();n.rE?function(e){let t=[],i=!1;window.__tcfapi=function(n,r,o,a){if(!arguments.length)return t;if("init"!==arguments[0])if(e){const t=Math.random()+"",i={__tcfapiCall:{command:n,parameter:a,version:r,callId:t}};s[t]=o,e.postMessage(i,"*")}else"function"==typeof o&&o({msg:"CMP not found"},!1);else i||(arguments[2]=function(){i=!0},a&&a.coreConfig&&(a.coreConfig.displayUi="never"),t.push(arguments))},window.addEventListener("message",o,!1)}(e):e||c()}},9027:(e,t,i)=>{"use strict";i.d(t,{V:()=>Ed,A:()=>Ud});var n=i(8058),r=i(9703),s=i(8916),o=i(3149),a=i(5707),d=i(5396),c=i(8593),l=Math.max;const u=function(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var r=null==i?0:(0,c.A)(i);return r<0&&(r=l(n+r,0)),(0,a.A)(e,(0,d.A)(t,3),r)};const p=function(e){return void 0===e};var h=i(4453),f=i(9137),g=i(1788),m=i(2049),v=i(8446),b=i(1200),y=i(7271),A=i(4749),_=Object.prototype.hasOwnProperty;const E=function(e){if(null==e)return!0;if((0,v.A)(e)&&((0,m.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,b.A)(e)||(0,A.A)(e)||(0,g.A)(e)))return!e.length;var t=(0,f.A)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,y.A)(e))return!(0,h.A)(e).length;for(var i in e)if(_.call(e,i))return!1;return!0};var I=i(2080),w=i(2641),S=i(4171);const C=function(e,t,i){"__proto__"==t&&S.A?(0,S.A)(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i};var T=i(6984),O=Object.prototype.hasOwnProperty;const x=function(e,t,i){var n=e[t];O.call(e,t)&&(0,T.A)(n,i)&&(void 0!==i||t in e)||C(e,t,i)};const R=function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,o=t.length;++s<o;){var a=t[s],d=n?n(i[a],e[a],a,i,e):void 0;void 0===d&&(d=e[a]),r?C(i,a,d):x(i,a,d)}return i};var D=i(7422);const U=function(e,t){return e&&R(t,(0,D.A)(t),e)};var B=i(2505);const k=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t};var P=Object.prototype.hasOwnProperty;const $=function(e){if(!(0,o.A)(e))return k(e);var t=(0,y.A)(e),i=[];for(var n in e)("constructor"!=n||!t&&P.call(e,n))&&i.push(n);return i};const M=function(e){return(0,v.A)(e)?(0,B.A)(e,!0):$(e)};const L=function(e,t){return e&&R(t,M(t),e)};var N=i(1917),j="object"==typeof exports&&exports&&!exports.nodeType&&exports,F=j&&"object"==typeof module&&module&&!module.nodeType&&module,z=F&&F.exports===j?N.A.Buffer:void 0,q=z?z.allocUnsafe:void 0;const V=function(e,t){if(t)return e.slice();var i=e.length,n=q?q(i):new e.constructor(i);return e.copy(n),n};var G=i(9759),W=i(4792);const H=function(e,t){return R(e,(0,W.A)(e),t)};var Y=i(6912);const J=(0,i(367).A)(Object.getPrototypeOf,Object);var K=i(3153);const Q=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,Y.A)(t,(0,W.A)(e)),e=J(e);return t}:K.A;const X=function(e,t){return R(e,Q(e),t)};var Z=i(9042),ee=i(3831);const te=function(e){return(0,ee.A)(e,M,Q)};var ie=Object.prototype.hasOwnProperty;const ne=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&ie.call(e,"index")&&(i.index=e.index,i.input=e.input),i};var re=i(3988);const se=function(e){var t=new e.constructor(e.byteLength);return new re.A(t).set(new re.A(e)),t};const oe=function(e,t){var i=t?se(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)};var ae=/\w*$/;const de=function(e){var t=new e.constructor(e.source,ae.exec(e));return t.lastIndex=e.lastIndex,t};var ce=i(241),le=ce.A?ce.A.prototype:void 0,ue=le?le.valueOf:void 0;const pe=function(e){return ue?Object(ue.call(e)):{}};const he=function(e,t){var i=t?se(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)};const fe=function(e,t,i){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return se(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return oe(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return he(e,i);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return de(e);case"[object Symbol]":return pe(e)}};var ge=Object.create;const me=function(){function e(){}return function(t){if(!(0,o.A)(t))return{};if(ge)return ge(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();const ve=function(e){return"function"!=typeof e.constructor||(0,y.A)(e)?{}:me(J(e))};var be=i(3098);const ye=function(e){return(0,be.A)(e)&&"[object Map]"==(0,f.A)(e)};var Ae=i(2789),_e=i(4841),Ee=_e.A&&_e.A.isMap;const Ie=Ee?(0,Ae.A)(Ee):ye;const we=function(e){return(0,be.A)(e)&&"[object Set]"==(0,f.A)(e)};var Se=_e.A&&_e.A.isSet;const Ce=Se?(0,Ae.A)(Se):we;var Te="[object Arguments]",Oe="[object Function]",xe="[object Object]",Re={};Re[Te]=Re["[object Array]"]=Re["[object ArrayBuffer]"]=Re["[object DataView]"]=Re["[object Boolean]"]=Re["[object Date]"]=Re["[object Float32Array]"]=Re["[object Float64Array]"]=Re["[object Int8Array]"]=Re["[object Int16Array]"]=Re["[object Int32Array]"]=Re["[object Map]"]=Re["[object Number]"]=Re[xe]=Re["[object RegExp]"]=Re["[object Set]"]=Re["[object String]"]=Re["[object Symbol]"]=Re["[object Uint8Array]"]=Re["[object Uint8ClampedArray]"]=Re["[object Uint16Array]"]=Re["[object Uint32Array]"]=!0,Re["[object Error]"]=Re[Oe]=Re["[object WeakMap]"]=!1;const De=function e(t,i,n,r,s,a){var d,c=1&i,l=2&i,u=4&i;if(n&&(d=s?n(t,r,s,a):n(t)),void 0!==d)return d;if(!(0,o.A)(t))return t;var p=(0,m.A)(t);if(p){if(d=ne(t),!c)return(0,G.A)(t,d)}else{var h=(0,f.A)(t),g=h==Oe||"[object GeneratorFunction]"==h;if((0,b.A)(t))return V(t,c);if(h==xe||h==Te||g&&!s){if(d=l||g?{}:ve(t),!c)return l?X(t,L(d,t)):H(t,U(d,t))}else{if(!Re[h])return s?t:{};d=fe(t,h,c)}}a||(a=new I.A);var v=a.get(t);if(v)return v;a.set(t,d),Ce(t)?t.forEach((function(r){d.add(e(r,i,n,r,t,a))})):Ie(t)&&t.forEach((function(r,s){d.set(s,e(r,i,n,s,t,a))}));var y=u?l?te:Z.A:l?M:D.A,A=p?void 0:y(t);return(0,w.A)(A||t,(function(r,s){A&&(r=t[s=r]),x(d,s,e(r,i,n,s,t,a))})),d};const Ue=function(e){return De(e,5)};var Be=i(5215),ke=i(6021),Pe=i(7693),$e=i(75),Me=i(4467);const Le=function(e){return function(t,i,n){var r=Object(t);if(!(0,v.A)(t)){var s=(0,d.A)(i,3);t=(0,D.A)(t),i=function(e){return s(r[e],e,r)}}var o=e(t,i,n);return o>-1?r[s?t[o]:o]:void 0}}(u),Ne={rendererUrl:"https://portal.cdn.yollamedia.com/customNativeRender.js",ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]}},je=88,Fe=31,ze=[220,90],qe=20,Ve="fluid",Ge=[[970,250],[970,90],[728,90]],We=window.YMPB.const.ALL_SUPPORTED_DISPLAY_SIZES&&window.YMPB.const.ALL_SUPPORTED_DISPLAY_SIZES.length>0?window.YMPB.const.ALL_SUPPORTED_DISPLAY_SIZES:[[970,250],[970,90],[728,90],[320,250],[336,280],[320,100],[320,50],[300,600],[300,250],[300,100],[300,50],[160,600],[120,600]],He=[[960,540]],Ye=[400,225],Je=[[1,1]],Ke=[[728,90]],Qe=window.YMPB.const.DEFAULT_MOBILE_LEADERBODARD_SIZES&&window.YMPB.const.DEFAULT_MOBILE_LEADERBODARD_SIZES.length>0?window.YMPB.const.DEFAULT_MOBILE_LEADERBODARD_SIZES:[[320,50],[320,100],[300,50],[300,100],[292,30],[220,90],[300,31],[234,60]],Xe=[[300,250]],Ze=[[300,250]],et=9/16,tt=1,it=2,nt=3,rt=4,st={allowSmallerSizes:!0,api:[2],context:"instream",linearity:1,minduration:1,maxduration:30,mimes:["video/mp4","video/webm","application/javascript"],protocols:[2,3,5,6,7,8],playerSize:[960,540]},ot={context:"outstream",linearity:2,mimes:["video/mp4","video/webm","video/x-ms-wmv","application/javascript"],protocols:[1,2,3,4,5,6,7,8],api:[1,2,7],playerSize:[960,540],playbackmethod:[6],pos:1,skip:0,minduration:5,maxduration:41,placement:5,startdelay:0};const at=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)};const dt=function(e,t){for(var i=null==e?0:e.length;i--&&!1!==t(e[i],i,e););return e};const ct=(0,i(3013).A)(!0);const lt=function(e,t){return e&&ct(e,t,D.A)};const ut=(0,i(3641).A)(lt,!0);var pt=i(7541);const ht=function(e,t){return((0,m.A)(e)?dt:ut)(e,(0,pt.A)(t))};function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ympb",i=t.split("=");const n=null!==function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;const i=e.replace(/[[\]]/g,"\\$&"),n=new RegExp("[?&]".concat(i,"(=([^&#]*)|&|#|$)")).exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}(i[0],e);if(n){if(i.length>1){let t=new RegExp("&?(".concat(i[0],"=)[^&s]*"),"ig");e=e.replace(t,"$1".concat(i[1]))}}else e.indexOf("?")>0?e=e.replace("?","?".concat(t,"&")):e.indexOf("#")>0?e=e.replace("#","?".concat(t,"#")):e+="?".concat(t);return e}function gt(e){return/^https?:/i.test(e)}function mt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=(e=e.split(/[?#]/)[0]).replace(/\/$/,""),t&&(e+="/"),e}(t,!1);return/\/.+\.[a-z0-9]{2,4}$/.test(n)?i?n:t:((n.replace("//","").indexOf("/")>0||e)&&(n+="/"),n)}function vt(){let e=window.googletag.pubads().get("page_url");return e&&mt(!1,e,!1)===mt(!1,window.location.href,!1)||(e=window.location.href),e}function bt(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}function yt(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}function At(){return 0==("hidden"===document.visibilityState||document.hidden?0:1)}class _t{constructor(e,t){(0,Me.A)(this,"x",void 0),(0,Me.A)(this,"y",void 0),this.x=e,this.y=t}get top(){return this.y}get left(){return this.x}equals(e,t){return this.x===+e&&this.y===+t}isZero(){return 0===this.x&&0===this.y}set(e,t){return this.x=e,this.y=t,this}getCoordinate(){return{x:this.x,y:this.y}}clone(){return new _t(this.x,this.y)}toString(){return"(".concat(this.x,", ").concat(this.y,")")}map(e){return this.x=e.call(this,this.x),this.y=e.call(this,this.y),this}add(e,t){return this.x+=e,this.y+=t,this}subtract(e,t){return this.x-=e,this.y-=t,this}symmetry(e,t){return this.x=e-this.x,this.y=t-this.y,this}scale(e){return this.x*=e,this.y*=e,this}distance(e){return{x:e.x-this.x,y:e.y-this.y}}}const Et=_t;class It{constructor(e,t,i,n){(0,Me.A)(this,"left",void 0),(0,Me.A)(this,"top",void 0),(0,Me.A)(this,"right",void 0),(0,Me.A)(this,"bottom",void 0),this.left=e,this.top=t,this.right=e+i,this.bottom=t+n}get y(){return this.top}set y(e){const t=this.top-e;this.top=e,this.bottom-=t}get size(){return[this.width,this.height]}get x(){return this.left}set x(e){const t=this.left-e;this.left=e,this.right-=t}get width(){return this.right-this.left}set width(e){this.right=this.left+e}get height(){return this.bottom-this.top}set height(e){this.bottom=this.top+e}static fromRect(e){return new It(e.left,e.top,e.right-e.left,e.bottom-e.top)}isEmpty(){return this.left>=this.right||this.top>=this.bottom}equals(e){return null!=e&&(this.isEmpty()&&e.isEmpty()||this.top===e.top&&this.left===e.left&&this.bottom===e.bottom&&this.right===e.right)}contains(e){return!this.isEmpty()&&(e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom)}intersect(e){return this.clone().restrictTo(e)}intersects(e){if(this.isEmpty()||e.isEmpty())return!1;const t=Math.max(this.left,e.left),i=Math.min(this.right,e.right),n=Math.max(this.top,e.top),r=Math.min(this.bottom,e.bottom);return t<i&&n<r}toString(){return"["+this.x+","+this.y+","+this.width+","+this.height+"]"}clone(){return new It(this.left,this.top,this.right-this.left,this.bottom-this.top)}center(){if(this.isEmpty())throw new Error("Empty rectangles do not have centers");return new Et(this.left+(this.right-this.left)/2,this.top+(this.bottom-this.top)/2)}copyFrom(e){return this.top=e.top,this.left=e.left,this.bottom=e.bottom,this.right=e.right,this}setRect(e,t,i,n){return this.left=e,this.top=t,this.right=e+i,this.bottom=t+n,this}setBounds(e,t,i,n){return this.top=t,this.left=e,this.bottom=n,this.right=i,this}setCenter(e){return this.setBounds(e.left-this.width/2,e.top-this.height/2,e.left+this.width/2,e.top+this.height/2),this}round(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this}union(e){return this.clone().expandToContain(e)}translate(e,t){return this.left+=e,this.right+=e,this.top+=t,this.bottom+=t,this}translateInside(e){let t=0;this.left<=e.left?t=e.left-this.left:this.right>e.right&&(t=e.right-this.right);let i=0;return this.top<=e.top?i=e.top-this.top:this.bottom>e.bottom&&(i=e.bottom-this.bottom),this.translate(t,i)}restrictTo(e){if(this.isEmpty()||e.isEmpty())return this.setRect(0,0,0,0);const t=Math.max(this.left,e.left),i=Math.min(this.right,e.right),n=Math.max(this.top,e.top),r=Math.min(this.bottom,e.bottom);return this.setRect(t,n,Math.max(0,i-t),Math.max(0,r-n))}expandToContain(e){if(this.isEmpty())return this.copyFrom(e);if(e.isEmpty())return this;const t=Math.min(this.left,e.left),i=Math.max(this.right,e.right),n=Math.min(this.top,e.top),r=Math.max(this.bottom,e.bottom);return this.setRect(t,n,i-t,r-n)}map(e){return this.left=e.call(this,this.left),this.top=e.call(this,this.top),this.right=e.call(this,this.right),this.bottom=e.call(this,this.bottom),this}subtract(e){const t=new It(0,0,0,0);let i=[];return(e=e.intersect(this)).isEmpty()?[this.clone()]:(t.setBounds(this.left,this.top,e.left,this.bottom),t.isEmpty()||i.push(t.clone()),t.setBounds(e.left,this.top,e.right,e.top),t.isEmpty()||i.push(t.clone()),t.setBounds(e.left,e.bottom,e.right,this.bottom),t.isEmpty()||i.push(t.clone()),t.setBounds(e.right,this.top,this.right,this.bottom),t.isEmpty()||i.push(t.clone()),i)}scale(e,t){return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this}blend(e,t){return new It(this.left+(e.left-this.left)*t,this.top+(e.top-this.top)*t,this.width+(e.width-this.width)*t,this.height+(e.height-this.height)*t)}inflate(e,t){const i=(this.width*e-this.width)/2,n=arguments.length>1?t:e,r=(this.height*n-this.height)/2;return this.left-=i,this.right+=i,this.top-=r,this.bottom+=r,this}inflateFixed(e){return this.left-=e,this.right+=e,this.top-=e,this.bottom+=e,this}area(){return this.width*this.height}distance(e){let t={x:0,y:0};return this.intersect(e).isEmpty()&&(this.bottom<e.top?t.y=this.bottom-e.top:this.top>e.bottom&&(t.y=this.top-e.bottom),this.right<e.left?t.x=this.right-e.left:this.left>e.right&&(t.x=this.left-e.right)),t}snapTo(e,t){let i=e.center(),n=this.center();if("bottom"===t){let t=this.bottom-e.bottom;n.set(i.left,n.top-t)}else if("top"===t){let t=this.top-e.top;n.set(i.left,n.top-t)}else if("right"===t){let t=this.right-e.right;n.set(n.left-t,i.top)}else if("left"===t){let t=this.left-e.left;n.set(n.left-t,i.top)}this.setCenter(n)}}const wt=It;class St extends wt{static updateViewPort(){St.$vp.setBounds(0,0,bt(),yt())}constructor(e){super(0,0,0,0),(0,Me.A)(this,"_el",void 0),(0,Me.A)(this,"_updateAt",0),(0,Me.A)(this,"viewbilityStatus",-1),(0,Me.A)(this,"isInvisible",!1),this._el=e,this.update()}update(){if(Date.now()-this._updateAt>=100){St.updateViewPort();let e=this._el.getBoundingClientRect();this.setBounds(e.left,e.top,e.right,e.bottom),this._updateAt=Date.now()}}viewbility(){if(St.$vp.contains(this))return 1;if(!this.area())return 0;return St.$vp.clone().restrictTo(this).area()/this.area()}getPosition(){return{x:this.x,y:this.y,width:this.width,height:this.height}}distanceToVp(){return this.update(),this.distance(St.$vp)}}(0,Me.A)(St,"$vp",new wt(0,0,bt(),yt()));const Ct=St;var Tt=i(1694),Ot=i(8182),xt=N.A.isFinite,Rt=Math.min;const Dt=function(e){var t=Math[e];return function(e,i){if(e=(0,Tt.A)(e),(i=null==i?0:Rt((0,c.A)(i),292))&&xt(e)){var n=((0,Ot.A)(e)+"e").split("e"),r=t(n[0]+"e"+(+n[1]+i));return+((n=((0,Ot.A)(r)+"e").split("e"))[0]+"e"+(+n[1]-i))}return t(e)}}("round");function Ut(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"floor";if(t<=0)throw new Error("invalid roundTo");if(e<=t)return e;let n=e,r=1,s=0;for(;!Number.isSafeInteger(t);)r*=10,t*=10,s++;let o=Math[i](e*r/t);return o>0&&(n=o*t/r),Dt(n,s)}let Bt=!1;function kt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt;Bt=e;let t=$e.rE?mt(Ud.getOption("EMBEDDED_URL_TAIL_SLASH")):vt();return e&&(t=ft(t,"ympb")),t!==vt()&&(window.googletag.pubads().set("page_url",t),!0)}function Pt(){window.googletag.pubads().get("page_url")&&kt()}let $t=0;function Mt(e){$t=e,googletag.pubads().setPrivacySettings({nonPersonalizedAds:1===e})}function Lt(e){let t=Ud.getOptionInstanse().getOptions();return e=e.replace(/-\d+$/,""),"/".concat(t.DFP_NETWORK,"/").concat(t.DFP_PUBLISHER_UNIT,"/").concat(e)}function Nt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Lt(e),n=window.googletag.defineOutOfPageSlot(i,t?googletag.enums.OutOfPageFormat.GAME_MANUAL_INTERSTITIAL:googletag.enums.OutOfPageFormat.INTERSTITIAL);return n&&(n.addService(googletag.pubads()),window.googletag.enableServices()),n}function jt(e,t,i){let n=Ud.getOptionInstanse().getOptions(),r=Lt(e),s=window.googletag.defineSlot(r,i,t);return s.addService(window.googletag.pubads()).setCollapseEmptyDiv(n.YMPB_COLLAPSE_EMPTY),window.googletag.enableServices(),window.googletag.display(t),s}function Ft(e){if(!window.googletag||!window.googletag.apiReady)return null;let t=googletag.pubads().getSlots(),i=null;return(0,n.A)(t,(t=>{if(t.getSlotElementId()===e)return i=t,!1})),i}function zt(e){e&&(googletag.pubads().clear([e]),googletag.destroySlots([e]))}function qt(e){if(!e)return null;let t=e.getSlotId().getId();return document.getElementById("google_ads_iframe_".concat(t,"__container__"))}function Vt(e){return function(e){if(!e)return null;let t=e.getSlotId().getId();return document.getElementById("google_ads_iframe_".concat(t))}(Ft(e))}function Gt(e){let t=e.getTargetingMap(),i={};for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n&&n.length>0&&(i[e]=n[0])}return i}function Wt(){window.googletag.pubads().setTargeting("scrnsz",function(){let e=[Ct.$vp.width,Ct.$vp.height];return e[0]<400?e[0]="NARROW":e[0]>1400?e[0]="WIDE":e[0]=Ut(+e[0],50),e[1]<400?e[1]="SHORT":e[1]>1e3?e[1]="TALL":e[1]=Ut(+e[1],50),e.join("x")}())}var Ht=i(8711);function Yt(e){return void 0===e}function Jt(e){const t=e.getBoundingClientRect();let i=t.width||t.right-t.left,n=t.height||t.top-t.bottom;if(i<=0&&n<=0)return!1;return"visible"===window.getComputedStyle(e).visibility}class Kt{constructor(){(0,Me.A)(this,"delegate",document.createDocumentFragment()),(0,Me.A)(this,"on",void 0),(0,Me.A)(this,"off",void 0),this.on=this.addEventListener,this.off=this.removeEventListener}one(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=t[1],r=e=>{try{n(e)}catch(e){}finally{this.delegate.removeEventListener.apply(this.delegate,t),n=null,r=null}};return t[1]=r,this.delegate.addEventListener.apply(this.delegate,t)}qd(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}addEventListener(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.delegate.addEventListener.apply(this.delegate,t)}dispatchEvent(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.delegate.dispatchEvent.apply(this.delegate,t)}removeEventListener(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.delegate.removeEventListener.apply(this.delegate,t)}destroy(){this.delegate=null}}const Qt=window.YMPB.$e||(window.YMPB.$e=new Kt);var Xt=i(5716);function Zt(e){return e&&Array.isArray(e)}function ei(e){return Number.isInteger(e)}function ti(e){return!(!e||!Zt(e)||2!==e.length)&&(ei(e[0])&&ei(e[1]))}function ii(e){return!(!e||!Zt(e))&&(ti(e)&&+e[0]>=je&&+e[1]>=Fe)}function ni(e){return!(!ti(e)||!Le(We,(t=>t[0]===e[0]&&t[1]===e[1])))}function ri(e){return e&&e.hasOwnProperty("$yollaPlayer")}var si=i(1882);const oi=function(e,t,i){for(var n=-1,r=e.length;++n<r;){var s=e[n],o=t(s);if(null!=o&&(void 0===a?o==o&&!(0,si.A)(o):i(o,a)))var a=o,d=s}return d};const ai=function(e,t){return e>t};const di=function(e,t){return e&&e.length?oi(e,(0,d.A)(t,2),ai):void 0};var ci=i(6070),li=i(3474);const ui=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?(0,li.A)(e,void 0,t):[]};var pi=i(2955);const hi=function(e,t){return(0,pi.A)(e,t)};var fi=i(9610),gi=i(5572),mi=i(6318),vi=i(1806);const bi=function(e,t){var i=-1,n=(0,v.A)(e)?Array(e.length):[];return(0,vi.A)(e,(function(e,r,s){n[++i]=t(e,r,s)})),n};const yi=function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e};const Ai=function(e,t){if(e!==t){var i=void 0!==e,n=null===e,r=e==e,s=(0,si.A)(e),o=void 0!==t,a=null===t,d=t==t,c=(0,si.A)(t);if(!a&&!c&&!s&&e>t||s&&o&&d&&!a&&!c||n&&o&&d||!i&&d||!r)return 1;if(!n&&!s&&!c&&e<t||c&&i&&r&&!n&&!s||a&&i&&r||!o&&r||!d)return-1}return 0};const _i=function(e,t,i){for(var n=-1,r=e.criteria,s=t.criteria,o=r.length,a=i.length;++n<o;){var d=Ai(r[n],s[n]);if(d)return n>=a?d:d*("desc"==i[n]?-1:1)}return e.index-t.index};var Ei=i(9008);const Ii=function(e,t,i){t=t.length?(0,gi.A)(t,(function(e){return(0,m.A)(e)?function(t){return(0,mi.A)(t,1===e.length?e[0]:e)}:e})):[Ei.A];var n=-1;t=(0,gi.A)(t,(0,Ae.A)(d.A));var r=bi(e,(function(e,i,r){return{criteria:(0,gi.A)(t,(function(t){return t(e)})),index:++n,value:e}}));return yi(r,(function(e,t){return _i(e,t,i)}))};const wi=function(e,t,i,n){return null==e?[]:((0,m.A)(t)||(t=null==t?[]:[t]),i=n?void 0:i,(0,m.A)(i)||(i=null==i?[]:[i]),Ii(e,t,i))};var Si=i(574),Ci=i(52),Ti=i(5488),Oi=i(5797),xi=i(2627),Ri=i(5205);const Di=function(e,t){for(var i=-1,n=e.length;++i<n&&(0,Ri.A)(t,e[i],0)>-1;);return i};var Ui=i(6299);const Bi=function(e,t,i){if((e=(0,Ot.A)(e))&&(i||void 0===t))return(0,Ti.A)(e);if(!e||!(t=(0,Ci.A)(t)))return e;var n=(0,Ui.A)(e),r=(0,Ui.A)(t),s=Di(n,r),o=(0,xi.A)(n,r)+1;return(0,Oi.A)(n,s,o).join("")};var ki=i(8043),Pi=i(1392),$i=i(6768),Mi=i(3533);const Li=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const Ni=(0,$i.A)((function(e,t){var i=Li(t);return(0,Mi.A)(i)&&(i=void 0),(0,Mi.A)(e)?(0,ki.A)(e,(0,Pi.A)(t,1,Mi.A,!0),void 0,i):[]}));function ji(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Fi(e){return ji(e,"String")}function zi(e){let t=mn(e);const i=Ud.getOptionInstanse(),n=i.$deviceDetector.slotType;let r="medrec";if(!i.$deviceDetector.isMobile){let e=function(e){if(!ii(e))return[];if(ni(e))return e;let t=Le(We,(t=>{let i=!(e[0]>0)||t[0]<=e[0],n=!(e[1]>0)||t[1]<=e[1];return i&&n}));if(t)return t;return[]}(t);Le(Ge,(t=>t[0]===e[0]&&t[1]===e[1]))&&(r="leaderboard")}return[n,r]}var qi=i(8218),Vi=i(3269);function Gi(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Wi(e){return 1!==e.nodeType||window.getComputedStyle&&"inline"===window.getComputedStyle(e).display}const Hi="inited",Yi=["subtype","refreshrate","ym_floor","enableclose"],Ji=["style"];const Ki="ympb_target",Qi="ympb_target_delay",Xi="ympb_target_multi",Zi="ympb_target_group",en="ympb_hide",tn="ympb_flex",nn=".ympb_target_delay[data-type]:not([data-status])",rn=".ympb_target_multi[data-type]:not([data-ympb-id])",sn=".".concat("ympb_target_fullscreen","[data-type]:not([data-status])");function on(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{class:Ki,dataset:{}},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ki;e=e||window.document.body;let n={};t.dataset&&Object.assign(n,t.dataset),t.class&&(i=t.class);let r=(0,qi.el)("div",{class:i,dataset:n,style:t.style||{}});return(0,qi.Or)(e,r),r}function an(e){let t=".ympb_anchor[data-type]:not([data-status])".replace(/data-type/i,'data-type^="'.concat(e,'"')),i=(0,Vi.I)(t);return(0,n.A)(i,(e=>{let t=e.dataset.type;t&&function(e,t){let i="";e.dataset.ympbId?i=e.dataset.ympbId:(i=at(),e.dataset.ympbId=i);let r={class:Qi,dataset:{type:t,groupId:i}};(0,n.A)(Yi,(t=>{e.dataset[t]&&(r.dataset[t]=e.dataset[t])})),(0,n.A)(Ji,(t=>{e.hasAttribute(t)&&(r[t]=e.getAttribute(t))})),e.dataset.status=Hi;let s=7;e.dataset.maxcount&&Gi(e.dataset.maxcount)&&(s=parseInt(e.dataset.maxcount,10));let o=1;e.dataset.spacer&&Gi(e.dataset.spacer)&&+e.dataset.spacer>1&&(o=parseFloat(e.dataset.spacer));let a="";e.dataset.video&&"false"!==e.dataset.video&&"disabled"!==e.dataset.video&&(a=e.dataset.video);let d=0,c=0,l=Math.ceil(o*$e.s9),u=e.parentNode,p=u.offsetTop,h=u.childNodes,f=!1;for(let t=0;t<h.length&&!(d>=s);t++){let i=h[t],n=t===h.length-1,s=i.offsetTop;if(f=n&&0===d,c=s>0?s:c,i.offsetHeight<1&&!n)continue;if(c-p<l&&!f)continue;if(!n&&Wi(i)&&t>0&&Wi(h[t-1]))continue;p=i.offsetTop,d++;let o=Ue(r);o.dataset.groupIndex=d,e.innerHTML&&(o.innerHTML=e.innerHTML),a&&1===d&&(o.class+=" ympb_target_video",o.dataset.type=a,o.dataset.videoType="outstream",delete o.dataset.subtype),(0,qi.Or)(e.parentNode,(0,qi.el)("div",o),i)}}(e,t)})),i.length}function dn(e,t){return e?(t||(t=Yo.codeTypeContains(e,"desktop")?"desktop":"mobile"),Yo.codeTypeContains(e,"medrec")||Yo.codeTypeContains(e,"sticky")?"mobile"===t?Ze:Xe:Yo.codeTypeContains(e,"oop")?Je:Yo.codeTypeContains(e,"preroll")||Yo.codeTypeContains(e,"outstream")?He:"mobile"===t?Qe:Ke):[]}function cn(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=e.replace(/data-type/i,'data-type^="'.concat(t,'"'));return(0,n.A)(s,(e=>{a+="[".concat(e,"]")})),(0,n.A)(o,(e=>{a+=":not([".concat(e,"])")})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,Vi.I)(e).filter((e=>{var n;let r=(null===(n=e.dataset)||void 0===n?void 0:n.type)||"";return t.reduce(((e,t)=>e&&r.indexOf(t)>-1),!0)&&i.reduce(((e,t)=>e&&r.indexOf(t)<0),!0)}))}(a,i,r)}function ln(e){return cn(".ympb_target[data-type]:not([data-status])",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])}function un(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r.unshift("data-gid"),function(e){return cn(rn,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])}(e,t,i,n,r)}function pn(e){return ti(e)?"".concat(e[0],"x").concat(e[1]):""}function hn(e){if(!Fi(e))return[];let t=e.match(/^(\d+)\s*x\s*(\d+)$/);return t?[+t[1],+t[2]]:[]}function fn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=[];return e.split(",").forEach((e=>{if((e=Bi(e))===Ve)t&&i.unshift(e);else{let t=hn(e);ti(t)&&i.push(t)}})),i}function gn(e){return fn(e,!1)}function mn(e){let t=e.reduce(((e,t)=>[Math.max(e[0],t[0]),Math.max(e[1],t[1])]),[0,0]);return[Math.floor(t[0]),Math.floor(t[1])]}function vn(e){if(!e)return null;let t=mn(gn(e));return ii(t)?t:null}const bn=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,Me.A)(this,"$adTag",void 0),(0,Me.A)(this,"_subtype",[]),(0,Me.A)(this,"_defaultSizes",[]),(0,Me.A)(this,"_cachedSizes",[]),(0,Me.A)(this,"_maxAllowedSize",[]),(0,Me.A)(this,"_isUsingFluid",!1),(0,Me.A)(this,"_usingContainerSize",!1),(0,Me.A)(this,"_usingSmallerSize",!1),(0,Me.A)(this,"_usingBetterAdsRule",!1),this.$adTag=e;let n=this.$adTag.el.dataset.subtype;if(n){let e=fn(n);e.length>0&&(e[0]===Ve&&(this.isUsingFluid=!0,e.shift()),this._subtype=e)}if(i){let e=this._subtype.slice();e.push(this.$adTag.slotAreaRect.size);let i=zi(e);t=dn(i.join("-"),i[0])}this._defaultSizes=t,this.setCachedSizes()}get isUsingFluid(){return this._isUsingFluid}set isUsingFluid(e){this._isUsingFluid=e}get subtype(){return this._subtype}set subtype(e){this._subtype=e}get maxAllowedSize(){return this._maxAllowedSize}get cachedSizes(){return this._cachedSizes}enableSmallerSize(){this._usingSmallerSize=!0}enableContainerSize(){this._usingContainerSize=!0}enableBetterAdsRule(){this._usingBetterAdsRule=!0}getDefaultSizes(){return this._defaultSizes.slice()}getOrignalSizes(){return this._subtype.length>0?this._subtype.slice():this.getDefaultSizes()}getSizes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._usingSmallerSize,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._usingContainerSize,i=this.getOrignalSizes();if(e){let e=t?this._maxAllowedSize:mn(i),r=(n=e,We.filter((e=>e[0]<=n[0]&&e[1]<=n[1])));i=i.concat(r)}var n;return ui(i,hi)}setMaxAllowedSize(e){this._maxAllowedSize=e&&ti(e)?e:this.getOriginalMaxAllowedSize()}getOriginalMaxAllowedSize(){let e=this.getOrignalSizes(),t=mn(e);this._usingContainerSize&&e.push(this.$adTag.slotAreaRect.size);let i=mn(e);return this._usingBetterAdsRule&&(i[1]=Math.max(i[1],$e.AT)),t[0]<=580&&(i[0]=Math.min(580,i[0])),i}getOriginalMinAllowedSize(){let e=this.getOrignalSizes();return e.reduce(((e,t)=>[Math.min(e[0],t[0]),Math.min(e[1],t[1])]),e[0])}setCachedSizes(e,t){const i=this.getCachedSizes();ii(e)?(this.setMaxAllowedSize(e),this._cachedSizes=t||this.getSizes(!0,!0)):(this.setMaxAllowedSize(),this._cachedSizes=this.getSizes());const n=this.getCachedSizes(),r=Ni(n,i,hi),s=Ni(i,n,hi);return r.concat(s).length>0}getCachedSizes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._cachedSizes.slice();return ii(this._maxAllowedSize)&&(t=t.filter((e=>+e[0]<=this._maxAllowedSize[0]&&+e[1]<=this._maxAllowedSize[1]))),e&&this._isUsingFluid&&t.push(Ve),t}};const yn=function(e){return null===e};const An=function(e,t){return((0,m.A)(e)?gi.A:bi)(e,(0,d.A)(t,3))};function _n(e){return e.replace(/(desktop-|mobile-|tablet-|-template)/g,"")}var En,In,wn,Sn,Cn;function Tn(e){Be.Ay.setConfig(new Object(e))}function On(){let e=Ud.getOptionInstanse().getOptions(),t={bidderTimeout:e.YMPB_AUCTION_TIMEOUT,consentManagement:{},timeoutBuffer:e.TIMEOUT_BUFFER,maxRequestsPerOrigin:e.MAX_REQUESTS_PER_ORIGIN,disableAjaxTimeout:e.DISABLE_AJAX_TIMEOUT,enableTIDs:e.ENABLE_TIDS,enableSendAllBids:e.ENABLE_SEND_ALL_BIDS,enableSendAllVideoBids:e.ENABLE_SEND_ALL_VIDEO_BIDS,eventHistoryTTL:e.EVENT_HISTORY_TTL,minBidCacheTTL:e.MIN_BID_CACHE_TTL,targetingControls:{alwaysIncludeDeals:e.YMPB_INCLUDE_DEALS},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0},useBidCache:e.USE_PBJS_BID_CACHE,priceGranularity:{buckets:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:100,increment:.25}]},userSync:e.USER_SYNC_CONFIG||{},firstPartyData:{skipValidations:!0,skipEnrichments:!1},paapi:e.PAAPI_CONFIG||{},floors:e.FLOOR_CONFIG||{},gptPreAuction:{enabled:!!e.ENABLE_GPID,customGptSlotMatching:e=>function(t){let i=Ud.findAdUnit({adUnitCode:t});return null!=i&&i.isUseGAM?e.getAdUnitPath()===t||e.getSlotElementId()===t:null},customPreAuction:(e,t)=>{let i=Ud.findAdUnit({adUnitCode:e.code});return i&&i.adgpid?i.adgpid:_n(e.code)},useDefaultPreAuction:!1},bidCacheFilterFunction:function(e){return"video"===e.mediaType&&e.cpm>=.01}};e.ENUM_SCHAIN_VALIDATION&&"disabled"!==e.ENUM_SCHAIN_VALIDATION&&(t.schain={validation:e.ENUM_SCHAIN_VALIDATION,config:{ver:"1.0",complete:1,nodes:[{asi:"yollamedia.com",sid:e.YMPB_PUBLISHER_ID||e.SCHAIN_ID||"",hp:1}]}}),e.ENABLE_S2S&&(t.s2sConfig=e.S2S_CONFIG,t.s2sConfig.enabled=!0),e.YMPB_USP&&(t.consentManagement.usp={cmpApi:"iab",timeout:0,allowAuctionWithoutConsent:!0}),e.GDPR_ENABLED&&(t.consentManagement.gdpr={cmpApi:"iab",defaultGdprScope:!0,timeout:$e.eY}),t.floors&&(t.floors.additionalSchemaFields=t.floors.additionalSchemaFields||{},t.floors.additionalSchemaFields.code=function(e){return e.adUnitCode.replace(/-\d+$/,"")}),$e.rE&&(t.pageUrl=vt()),E(t.consentManagement)&&delete t.consentManagement;let i={standard:{storageAllowed:!0,adserverTargeting:[{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbCg}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_source",val:function(e){return e.source}},{key:"hb_format",val:function(e){return e.mediaType}},{key:"hb_deal",val:function(e){return e.dealId}},{key:"ym_sfloor",val:function(t){let i="video"===t.mediaType?e.YMPB_VIDEO_SFLOOR:e.YMPB_SFLOOR;if(e.YMPB_SFLOOR<.01)return null;let n=t.pbCg?+t.pbCg:0;if(n-=e.YMPB_PB_REDUCE,n=Math.max(n,0),n>=20)n=20;else if(n>=i)try{n=Ut(n-.01,i)}catch(e){n=0}return n&&n>0?n.toFixedNoRounding(2):null}},{key:"ub",val:function(e){let t=+(e.originalCpm||e.cpm);return t>20&&(t=Ut(t,.05)),t.toFixedNoRounding(2)}},{key:"yalias",val:function(e){return e.ymAlias||e.bidder}}]}};E(e.BIDSADJUSTMENT)||(0,n.A)(e.BIDSADJUSTMENT,((e,t)=>{e&&(0,fi.A)(e.bidCpmAdjustment)&&(i[t]=i[t]||{},i[t].bidCpmAdjustment=e.bidCpmAdjustment)})),(0,o.A)(e.DEBUG)&&!E(e.DEBUG)?(t.debug=!0,t.debugging=e.DEBUG):t.debug=!1,Tn(t),function(e,t){(0,r.A)(e)&&(e=[e]),Be.Ay.setBidderConfig({bidders:e,config:t})}("rubicon",{netRevenue:!1}),function(e){Be.Ay.bidderSettings=e}(i)}function xn(e){return e.hasOwnProperty("$adTag")}function Rn(e){let t=e.$adTag.sizerEl,i=e.$adTag.getSizerPosition(),n=new wt(i.x,i.y,i.width,i.height);try{let e=n.center();return function(e,t){if($e.rE)return-1;if(Yt(document.elementFromPoint))return-1;let i=-1,n=document.elementFromPoint(t[0],t[1]);return i=n?(n.id.indexOf("google_ads_iframe")>-1||n.id.indexOf("ympb")>-1||n.className.indexOf&&n.className.indexOf("ympb")>-1)&&(n===e||e.contains(n))?0:1:0,i}(t,[e.left,e.top])}catch(e){return 0}}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Ud.getOptionInstanse(),n=i.getOptions(),r="";r=t.url?t.url:vt();let s={url:encodeURIComponent(r),iu:encodeURIComponent(Lt(e.adUnitCode)),output:"vast",sz:"400x300",vpa:"click",vpmute:0,npa:$t,trt:2,tfcd:0,vpos:"preroll",ad_type:"video_text",vad_type:"linear",description_url:encodeURIComponent(mt(n.EMBEDDED_URL_TAIL_SLASH,r,!1))},o=i.getOption("GAM_VIDEO_CONIFG");return o&&Object.assign(s,o),xn(e)&&(s.cust_params=i.getTrackingValues(),s.cust_params.yrefreshcount=e.$status.refreshCounter+"",s.cust_params.yrefreshview=e.$status.lastAdImpressed+"",s.cust_params.yoverlay=Rn(e)+""),e.adUnitTemplate.mediaTypes.video.playerSize&&(s.sz=e.adUnitTemplate.mediaTypes.video.playerSize.join("x")),n.PREROLL_MAX_DURATION>1&&(s.max_ad_duration=n.PREROLL_MAX_DURATION),n.CHILD_DIRECTED_TREATMENT&&(s.tfcd=1),s}function Un(e){return e.replace(/hb_pb%3Dnull/i,"")}!function(e){e.BIDDER_LABELS_INITING="initing",e.BIDDER_LABELS_PRECACHING="precaching",e.BIDDER_LABELS_PRECACHING_2="precaching_2",e.BIDDER_LABELS_REFRESHING="refreshing",e.BIDDER_LABELS_INITCACHING="initcaching",e.BIDDER_LABELS_PREFETCHING="prefetching"}(En||(En={})),function(e){e.UNSET="",e.NORMAL="normal",e.FULLSCREEN="fullscreen"}(In||(In={})),function(e){e.UNSET="",e.ACTIVE="active",e.INVISIBLE="invisible"}(wn||(wn={})),function(e){e.UNSET="",e.IDLE="idle",e.ACTIVE="active"}(Sn||(Sn={})),function(e){e.TARGET="target",e.ANCHOR="anchor",e.MULTI="target_multi",e.DYNAMIC="target_dynamic",e.VIDEO="target_video",e.DELAY="target_delay"}(Cn||(Cn={}));var Bn=i(3942),kn=i(331);function Pn(e,t){e.adUnitCode=t,e.rubiconTargeting&&e.rubiconTargeting.rpfl_elemid&&(e.rubiconTargeting.rpfl_elemid=e.adUnitCode)}function $n(e,t){return e.cpm>t.cpm?-1:e.cpm<t.cpm?1:e.__expiresAt>t.__expiresAt?-1:0}function Mn(e,t){return!!e&&e.mediaType===t}function Ln(e){return Mn(e,"video")}function Nn(e){return function(e){return Mn(e,"banner")}(e)||function(e){return Mn(e,"native")}(e)}function jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="",r=Dn(e,i);return n=Be.Ay.adServers.dfp.buildVideoUrl({adUnit:e.adUnitTemplate,params:r,noTargeting:i.noTargeting||!1}),yn(t)||(Be.Ay.markWinningBidAsUsed(t),xn(e)&&e.$status.onBidWon(t,!1)),xn(e)&&e.$status.hasEverRefreshed()&&(n=n.replace(/%26ym_Sfloor%3D\d+\.\d{2}/i,"")),n=Un(n),n}function Fn(e,t){let i=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return E(e)?Promise.resolve({from:"prebid",data:{},message:"No Valid AdUnits"}):(E(t)&&(t=[En.BIDDER_LABELS_INITING,En.BIDDER_LABELS_REFRESHING]),new Promise((function(n){Be.Ay.requestBids({labels:t,adUnitCodes:e,timeout:i||Ud.getOptionInstanse().getOption("YMPB_AUCTION_TIMEOUT"),bidsBackHandler:function(e,i,r){n({from:"prebid",auctionId:r,labels:t,hasTimeout:i,data:e})}})})))}(An(e,(e=>e.adUnitCode)),t);return Promise.all([i])}function zn(e,t){let i=[],r=[],s=[],o=[];ht(e,((n,a)=>{if(n.$status.onRequestStarted(),n.isVideoSlot){let c=!1;if(!n.isFloatingOutstream&&n.hasBanner){let e=[];t.length>0&&t[0].data[n.adUnitCode]&&t[0].data[n.adUnitCode].bids&&(e=t[0].data[n.adUnitCode].bids),e.sort($n),(e.length<1||Nn(e[0]))&&(c=!0),c?ht(d=e,((e,t)=>{Ln(e)&&(d.splice(t,1),ke.n.removeBidReceived(e))})):function(e){ht(e,((t,i)=>{Ln(t)||(e.splice(i,1),ke.n.removeBidReceived(t))}))}(e)}c?(n.switchMode("display"),n.isUseGAM&&n.dfpSlot?(r.push(n.adUnitCode),i.push(n.dfpSlot)):o=o.concat(e.splice(a,1))):(n.switchMode("video"),s=s.concat(e.splice(a,1)))}else n.isUseGAM&&n.dfpSlot?(r.push(n.adUnitCode),i.push(n.dfpSlot)):o=o.concat(e.splice(a,1));var d})),r.length>0&&Be.Ay.setTargetingForGPTAsync(r),(0,n.A)(e,(e=>{var t,i,n;null===(t=e.dfpSlot)||void 0===t||t.setTargeting("yrefreshcount",e.$status.refreshCounter+""),null===(i=e.dfpSlot)||void 0===i||i.setTargeting("yrefreshview",e.$status.lastAdImpressed+""),null===(n=e.dfpSlot)||void 0===n||n.setTargeting("yoverlay",Rn(e)+"")})),i.length>0&&window.googletag.pubads().refresh(i),s.length>0&&(0,n.A)(s,(e=>{e.$adTag.renderAds()}))}function qn(e){let t=Ud.getScroller(),i=function(e){return cn(nn,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])}(Ud.getDeviceSlotType());if(i.length<1)return[];let r=[];return(0,n.A)(i,(i=>{let n=new Ct(i),s=n.distanceToVp();if(0!==s.x)return!0;let o=!1;if(e.y<0){let t=n.y,i=t+n.height,r=Ct.$vp.height,s=t<0?0:t>r?r:t,a=(i<0?0:i>r?r:i)-s;0===a&&s>0&&s<=r&&(a=r-s),(t<=0&&i>=r||t>=0&&i<=r)&&(o=!0),o||(o=a>0&&a>=Math.abs(e.y))}else o=0===s.y;o||(t.lastScroll.y<0&&s.y<0||t.lastScroll.y>=0&&s.y>0)&&(o=Math.abs(s.y)<e.y),o&&r.push(i)})),r}function Vn(e){if(!e)return!0;if(Zt(e)||Fi(e))return!(e.length>0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Gn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.ortb2Imp=e.ortb2Imp||{},t.isInterstitial&&(e.ortb2Imp.instl=1),e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};const i=Be.Ay.getConfig("floors");if(i&&i.enabled){let t=e.code.replace(/-\d+$/,""),i=Ud.getOptionInstanse().getOptions();i.ORTB2IMP_DATA&&i.ORTB2IMP_DATA[t]&&(e.ortb2Imp.ext.prebid=i.ORTB2IMP_DATA[t]||{})}return e}const Wn=class{constructor(e,t){(0,Me.A)(this,"_mediaTypeTemplate",{}),(0,Me.A)(this,"_adUnitTemplate",void 0),(0,Me.A)(this,"_id",void 0),(0,Me.A)(this,"_inited",!1),(0,Me.A)(this,"_hasOutstream",!1),(0,Me.A)(this,"_hasInstream",!1),(0,Me.A)(this,"_hasNative",!1),(0,Me.A)(this,"_isOop",!1),(0,Me.A)(this,"_isPreroll",!1),(0,Me.A)(this,"_isOutstream",!1),(0,Me.A)(this,"_isUseGAM",!1),this._id="".concat(e.code,"-").concat(e.index),this._adUnitTemplate=e,this._adUnitTemplate.code=this._id,this.codeTypeLike("oop")&&(this._isOop=!0),this.codeTypeLike("preroll")&&(this._isPreroll=!0),this.codeTypeLike("outstream")&&(this._isOutstream=!0),(0,n.A)(this._adUnitTemplate.mediaTypes,((e,i)=>{(0,r.A)(e)?this.addMediaType(e,t):this.addMediaType(i,t,e)}))}get id(){return this._id}get adUnitCode(){return this._adUnitTemplate.code}get adUnitTemplate(){return this._adUnitTemplate}get isVideoSlot(){return this._isPreroll||this._isOutstream}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this._inited){if(Pt(),this._inited=!0,this._adUnitTemplate.mediaTypes=this._mediaTypeTemplate,this.isVideoSlot){let t=this._mediaTypeTemplate.video.playerSize;t&&t.length>0&&(e=ei(t[0])?[t]:t)}(0,n.A)(this._adUnitTemplate.mediaTypes,((t,i)=>{"native"===i?t.image&&E(t.image.sizes)&&(t.image.sizes=E(e)?this._adUnitTemplate.defaultSizes:e):"video"===i?(E(e)||(t.playerSize=e[0]),delete this._adUnitTemplate.video):this._isOop?t.sizes=Je:t.sizes=E(e)?this._adUnitTemplate.defaultSizes:e})),Gn(this._adUnitTemplate,{isInterstitial:!1,isUseGam:this._isUseGAM}),Be.Ay.addAdUnits(this._adUnitTemplate)}}addMediaType(e,t,i){let n=i||{};"native"===e?(this._hasNative=!0,Object.assign(n,Ne,t.NATIVE_CONFIG)):"video"===e&&(this.codeTypeLike("outstream")?(Object.assign(n,ot,t.OUTSTREAM_CONFIG),this._hasOutstream=!0):(Object.assign(n,st,t.PREROLL_CONFIG),this._hasInstream=!0),n.w=n.playerSize[0],n.h=n.playerSize[1]),this._mediaTypeTemplate[e]=Ue(n)}codeTypeLike(e){return Yo.codeTypeContains(this._adUnitTemplate.code,e)}delete(){Be.Ay.removeAdUnit(this.id),this._mediaTypeTemplate=null,this._adUnitTemplate=null}};let Hn=!0,Yn=0;function Jn(){return!!Hn&&(0===Yn||(Hn=Date.now()-Yn<=3500,Hn))}function Kn(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.forEach((e=>{e.adUnitCode=e.adUnitCode.replace(/-\d+$/,"")}));let n=e.slice();if(i>0)for(let t=0;t<i;t++)n=n.concat(e.slice());return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Vn(e))return Promise.reject(!1);Vn(t)&&(Jn()?0===t.length&&t.push(En.BIDDER_LABELS_INITING):t.push(En.BIDDER_LABELS_REFRESHING));let i=Ud.getOptionInstanse().getOptions(),n=[];if(e.forEach((e=>{let t=Ud.getAdUnitTemplate({code:e.adUnitCode});if(t){let r=new Wn(t,i);r.init(e.sizes),n.push(r)}})),Vn(n))return Promise.reject(!1);{let e=Fn(n,t);return e.finally((()=>{n.forEach((e=>{e.delete()})),n.length=0})),e}}(n,t)}function Qn(){let e=Ud.getDeviceSlotType(),t=[];return t.push({adUnitCode:e+"-outstream",sizes:[]}),Kn(t,[],0)}function Xn(e,t){let i=Ud.getAdUnitTemplate({code:e});if(!i)return Promise.reject(!1);let r=[];Jn()?r.push(En.BIDDER_LABELS_INITING):r.push(En.BIDDER_LABELS_REFRESHING);let s=new Wn(i,t);return s.init(),new Promise(((e,t)=>{Fn([s],[]).then((t=>{let i=function(e,t){let i={};return(0,n.A)(e,(e=>{var n;let r=[];t.length>0&&null!==(n=t[0])&&void 0!==n&&n.data[e.adUnitCode]&&(r=t[0].data[e.adUnitCode].bids);let s=di(r,"cpm");i[e.adUnitCode]=jn(e,s)})),i}([s],t);e(i[s.adUnitCode])})).catch((()=>{t(!1)})).finally((()=>{s.delete(),s=null,i=null}))}))}const Zn=2;let er=[];function tr(e,t){if(!e)return!1;let i=Ud.getCacheInstanse();if(!t)return!1;if(e.getBidsReceivedByUnitCode){let n=e.getBidsReceivedByUnitCode(t.adUnitCode),r=Le(n,{bidderCode:t.bidderCode});if(r){if(r.cpm>=t.cpm)return i.releaseBid(t),i.lockBid(r),!0;i.releaseBid(r),ke.n.removeBidReceived(r)}}return ke.n.removeBidReceived(t),t.auctionId=e.getAuctionId(),delete t.status,e.addBidReceived(t),i.lockBid(t),!0}function ir(e,t){let i=Ud.getCacheInstanse();Pn(t,e.adUnitCode),e.preSelectedAdId=t.adId,i.lockBid(t)}function nr(e,t){t.forEach((t=>{tr(e,t)}))}function rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Ud.getCacheInstanse();return e.forEach((e=>{if(e.preSelectedAdId)return!0;let n=i.pickByUnit(e,t);n&&ir(e,n)})),e}function sr(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],r=Ud.getCacheInstanse();t.length<1&&(Jn()?t.push(En.BIDDER_LABELS_INITING):t.push(En.BIDDER_LABELS_REFRESHING)),rr(e),e.forEach((e=>{let t=e.preSelectedAdId?r.pickByAdId(e.preSelectedAdId):null;t&&(ir(e,t),n.push(t)),e.preSelectedAdId=""}));let s={adUnits:e.map((e=>e.adUnitTemplate)),adUnitCodes:e.map((e=>e.adUnitTemplate.code)),callback:t=>{zn(e,t,{})},cbTimeout:1e3,labels:t},o=ke.n.createAuction(s);if(i.auctionId){const t=ke.n.getAuction(i.auctionId);e.forEach((e=>{t.getBidsReceivedByUnitCode(e.adUnitCode).forEach((e=>{"rendered"!==e.status&&(e.auctionId=o.getAuctionId(),o.addBidReceived(e))}))}))}return e.forEach((e=>{Si.iS.setLatestAuctionForAdUnit(e.adUnitTemplate.code,o.getAuctionId())})),nr(o,n),setTimeout((()=>{o.executeCallback(!1,!0)})),o}function or(e,t){let i=Ud.getOptionInstanse().getOptions(),r=[];if(i.YMPB_USE_CACHE_POSTAUCTION)r=e.slice();else{rr(e);let i=(0,ci.A)(e,(e=>!!e.preSelectedAdId));r=(0,ci.A)(e,(e=>!e.preSelectedAdId)),sr(i,t)}Fn(e,t).then((s=>{!function(e,t){if(e.length<0)return null;let i=t[0],r=ke.n.getAuction(i.auctionId),s=Ud.getCacheInstanse();(0,n.A)(i.data,((t,i)=>{if(t&&t.bids){let n=Le(e,{adUnitCode:i});ht(t.bids,((e,i)=>{n&&(e.width>n.$adSizeConfig.maxAllowedSize[0]||e.height>n.$adSizeConfig.maxAllowedSize[1])&&(ke.n.removeBidReceived(e),t.bids.splice(i,1))}))}}));let o=[],a=[];(0,n.A)(i.data,(e=>{let t=di(e.bids,"cpm");t&&a.push(t)})),(0,n.A)(e,(e=>{let t=e.preSelectedAdId?s.pickByAdId(e.preSelectedAdId):s.pickByUnit(e,a);t&&(ir(e,t),o.push(t)),e.preSelectedAdId=""})),o.length?(nr(r,o),(0,n.A)(e,(e=>{i.data[e.adUnitCode]=i.data[e.adUnitCode]||{bids:[]},i.data[e.adUnitCode].bids=r.getBidsReceivedByUnitCode(e.adUnitCode)}))):(0,n.A)(a,(e=>{s.lockBid(e)})),zn(e,t)}(r,s),t.indexOf(En.BIDDER_LABELS_INITING)>-1&&function(e,t){t.YMPB_ENABLE_ADDITIONAL_BIDS<0?Promise.resolve([]):Kn(e.map((e=>({adUnitCode:e.adUnitTemplate.code,sizes:e.$adSizeConfig.cachedSizes}))),[En.BIDDER_LABELS_INITCACHING],t.YMPB_ENABLE_ADDITIONAL_BIDS)}(e,i)})).catch((t=>{let i=t&&t.message?t.message:"",r=[];(0,n.A)(e,(e=>{e.$status&&(e.$status.onError("prebid_auction_"+i),r.push(e.$status.getStatusData()))})),r.length>0&&Qt.dispatchEvent(new CustomEvent(Ht.DK,{detail:{datas:r,message:i}}))}))}function ar(e){let t=Ud.getCacheInstanse(),i=Ud.getAdUnitInstanse(),r={},s=[],o={},a=qn({y:Ct.$vp.height*e.DYNAMIC_LOAD_SCREEN_VH});function d(e,t){r[e]=r[e]||0,r[e]+=1,o[e]?(t=o[e].sizes.concat(t),o[e].sizes=ui(t,hi)):o[e]={adUnitCode:e,sizes:t}}(0,n.A)(a,(e=>{if(e.dataset.type){let t=e.dataset.type,i=[];e.dataset.subtype&&(i=gn(e.dataset.subtype)),d(t,i)}})),i.forEach((e=>{if(!e.isVideoSlot){d(e.adUnitCode.replace(/-\d+$/,""),e.$adSizeConfig.getCachedSizes())}}));for(let i in r)if(Object.prototype.hasOwnProperty.call(r,i)){let n=r[i],o=Ud.findRawAdUnitTemplate({code:i});if(o){let r=o.bids.map((e=>e.bidder));if(r.length){t.countByUnitType(i,o.mediaTypes,r,[],(function(t){return t.cpm>=e.YMPB_FILTER_MIN_CPM&&t.__expiresAt-Date.now()>=1e3*e.YMPB_FILTER_MIN_TTL}))<e.YMPB_PRECACHE_MAX_BIDS*n&&s.push(i)}}}s.length>0&&Kn(s.map((e=>o[e])),e.LABELS,e.YMPB_PRECACHE_MULTIPLIER)}function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Ud.getOptionInstanse().getOptions();!function(e){if(0===Yn)return(0,ci.A)(e,(e=>!e.isVideoSlot))&&(Yn=Date.now()),Yn=Date.now(),!0}(e),Jn()?t.push(En.BIDDER_LABELS_INITING):t.push(En.BIDDER_LABELS_REFRESHING);let n=[],r=i.BIDDER_LABELS_PREFETCHING;r.length>0&&(n=e.map((e=>({adUnitCode:e.adUnitCode,sizes:e.$adSizeConfig.getCachedSizes()})))),i.YMPB_USE_CACHE_POSTAUCTION&&r.length>0?Kn(n,[En.BIDDER_LABELS_PREFETCHING]).finally((()=>{or(e,t)})):(or(e,t),r.length>0&&Kn(n,[En.BIDDER_LABELS_PREFETCHING]))}function cr(e){let t=!1;if((0,fi.A)(YMPB.pub.checkElViewableInFullscreen)){Ud.getOptionInstanse().$deviceDetector.isFullscreenMode&&(t=!!YMPB.pub.checkElViewableInFullscreen(e.$adTag.el))}return t}function lr(e){let t=e.$status.isInView&&e.$status.$position.viewbilityStatus>$e.g4;if(t){Ud.getOptionInstanse().$deviceDetector.isFullscreenMode&&(t=cr(e))}return t}function ur(){let e=Ud.getAdUnitInstanse();return(0,ci.A)(e,(e=>lr(e)))}function pr(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=ur().map((t=>t.isOop||t.isVideoSlot?[0,0]:e?t.$adSizeConfig.getOriginalMaxAllowedSize():t.$adSizeConfig.maxAllowedSize));return ui((0,ci.A)(t,(e=>ii(e))),hi)}function hr(e){let t=!1;if(!e.isVideoSlot&&!e.isOop&&!e.isCompanion){let i=Ud.getOption("SWAP_OVERLAP")||.5,n=Ud.getOption("SWAP_SIZE_ON_INIT"),r=Jn();if(i>=$e.g4&&(!r||!Vn(n))){let s;if(ji(n,"Object")&&(e.isLeaderboard?s=n.leaderboard:e.isMedrec&&(s=n.medrec)),s&&!Vn(s)){let n=[];r?lr(e)||(n=s):(n=pr(),Vn(n)&&(n=s)),n.length>0&&(t=e.applyDynamicSizes(n,i))}else if(lr(e))t=e.recoverFromDynamicSizes();else{let n=pr();t=e.applyDynamicSizes(n,i)}}}return t}function fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{attachPageUrlFlag:!1,enableQuickRequest:!1,enableSwap:!1,auctionId:""};if((e=function(e){let t=(0,fi.A)(YMPB.pub.isFullscreen)&&YMPB.pub.isFullscreen(),i=Ud.getOption("YMPB_DEFAULT_REFRESHRATE"),n=e.filter((e=>!window.YMPB.pub.checkElIsFsSlot||!window.YMPB.pub.checkElIsFsSlot(e.$adTag.el))),r=[];if(t){let t=e.filter((e=>!!window.YMPB.pub.checkElIsFsSlot&&window.YMPB.pub.checkElIsFsSlot(e.$adTag.el)));if(er=er.filter((e=>Date.now()-e<1e3*i)),n.length>0&&er.length<Zn&&i>=15){let e=t.map((e=>e.adUnitCode.replace(/-\d+$/,"")));n.sort(((t,i)=>{let n=e.indexOf(t.adUnitCode.replace(/-\d+$/,""))<0?-1:1,r=e.indexOf(i.adUnitCode.replace(/-\d+$/,""))<0?-1:1;if(n===r){let e=t.$status.$position.viewbility();return i.$status.$position.viewbility()-e}return r-n})),n.forEach((e=>{if(er.length>=Zn)return!1;er.push(Date.now()),r.push(e)}))}r=r.concat(t)}else r=n;return r}(e)).length<1)return[];e=wi(e,[function(e){e.$status.updatePosition();let t=e.$status.$position.distanceToVp();return Math.abs(t.y)}],["asc"]);let r=[];(0,n.A)(e,(e=>{if(e.isDynamicInsertEnabled){let t=Ud.destroySlotByParentId(e.ympbId);r=r.concat(t)}})),ht(e,((t,i)=>{(r.indexOf(t.adUnitCode)>-1||null===t.$status)&&e.splice(i,1)}));let s=[],o=[],a=i.enableSwap,d=Ud.getOption("YMPB_DESTROY_BEFORE_REFRESH");return(0,n.A)(e,(e=>{s.push(e.$status.getStatusData()),a&&hr(e)?d=!0:d&&(d=e.$status.hasEverRefreshed()),e.clearSlot(d),e.$status.onAuctionStarted(),o.push(e.$status.$responseDeferred.promise)})),Promise.all(o).then((e=>{Qt.dispatchEvent(new CustomEvent(Ht._n,{detail:e}))})),i.enableQuickRequest?sr(e,t,i):dr(e,t),e}const gr=class{constructor(e,t){(0,Me.A)(this,"$adUnitTag",void 0),(0,Me.A)(this,"_counter",-1),(0,Me.A)(this,"_refreshCounter",0),(0,Me.A)(this,"_status","closed"),(0,Me.A)(this,"_statusChangeAt",Date.now()),(0,Me.A)(this,"_closeReason",0),(0,Me.A)(this,"_readyAt",0),(0,Me.A)(this,"_auctionAt",0),(0,Me.A)(this,"_requestStartAt",0),(0,Me.A)(this,"_requestEndAt",0),(0,Me.A)(this,"_renderAt",0),(0,Me.A)(this,"_loadAt",0),(0,Me.A)(this,"_impressedAt",0),(0,Me.A)(this,"_inviewAt",0),(0,Me.A)(this,"_endAt",0),(0,Me.A)(this,"_inviewDuration",0),(0,Me.A)(this,"_inviewDurationSinceRendered",0),(0,Me.A)(this,"_impressDuration",0),(0,Me.A)(this,"_refreshrate",-1),(0,Me.A)(this,"_refreshrateNofill",0),(0,Me.A)(this,"_refreshrateMin",$e.cq),(0,Me.A)(this,"_isFluidAds",!1),(0,Me.A)(this,"_isLastAdxWon",!1),(0,Me.A)(this,"_isDfpEmpty",!1),(0,Me.A)(this,"_lastAdImpressed",!1),(0,Me.A)(this,"_swapCounter",0),(0,Me.A)(this,"_swapAt",0),(0,Me.A)(this,"_swapWith",""),(0,Me.A)(this,"_isSwapIntoView",!1),(0,Me.A)(this,"_isImpOnSwap",!1),(0,Me.A)(this,"_lastSwapPosition",[]),(0,Me.A)(this,"_forceOnNextRefresh",!1),(0,Me.A)(this,"_prebidRenderError",""),(0,Me.A)(this,"_prebidRenderSuccess",null),(0,Me.A)(this,"_creativeType",0),(0,Me.A)(this,"_adUnitMode",void 0),(0,Me.A)(this,"_isCompleted",!1),(0,Me.A)(this,"_isEnded",!1),(0,Me.A)(this,"_errorMessage",""),(0,Me.A)(this,"_creativeSize",[]),(0,Me.A)(this,"_requestingBid",void 0),(0,Me.A)(this,"_targetings",{}),(0,Me.A)(this,"_options",void 0),(0,Me.A)(this,"lastWonBid",null),(0,Me.A)(this,"$position",void 0),(0,Me.A)(this,"$responseDeferred",null),this.$adUnitTag=e,this._options=t,this.$position=new Ct(this.$adUnitTag.$adTag.sizerEl),this.status="pendding",t.YMPB_REFRESHRATE_MIN>$e.cq&&(this._refreshrateMin=t.YMPB_REFRESHRATE_MIN),this.refreshrate=Yt(e.slotDataset.refreshrate)?t.YMPB_DEFAULT_REFRESHRATE:+e.slotDataset.refreshrate,this.refreshrateNofill=t.YMPB_REFRESH_RATE_NOFILL,this._adUnitMode=this.$adUnitTag.isVideoSlot?"video":"display"}get counter(){return this._counter}set counter(e){this._counter=e}get refreshCounter(){return this._refreshCounter+this._counter}set refreshCounter(e){this._refreshCounter=e}get swapCounter(){return this._swapCounter}get status(){return this._status}set status(e){"destroyed"!==this.status&&(this._status=e,this._statusChangeAt=Date.now(),this.$adUnitTag.isCloseable&&("dfp_impressed"===e||"prebid_impressed"===e||"dfp_empty"===e||"error"===e?(this.$adUnitTag.$closeBtn.show(),this.$adUnitTag.$closeBtn.stopCountdown()):"auctioning"===e&&(this.$adUnitTag.$closeBtn.hide(),this.$adUnitTag.$closeBtn.reset(),this.$adUnitTag.$closeBtn.startCountdown())),this.$adUnitTag.$adTag.el.dataset.status=e)}get statusDuartion(){return(Date.now()-this._statusChangeAt)/1e3}get requestDuration(){return this._requestStartAt<1?0:Math.floor(((this._requestEndAt||Date.now())-this._requestStartAt)/1e3)}get duration(){if(this._requestEndAt<1)return 0;let e=Date.now()-this._requestEndAt;return Math.floor(e/1e3)}get swapDuration(){let e=Date.now()-this._swapAt;return Math.floor(e/1e3)}get inviewDuration(){let e=this._inviewDuration;return this._inviewAt>0&&(e+=Date.now()-this._inviewAt),e/1e3}get inviewDurationSinceRendered(){let e=this._inviewDurationSinceRendered;return this._inviewAt>0&&this._renderAt>0&&(e+=Date.now()-Math.max(this._inviewAt,this._renderAt)),e/1e3}get renderedDuration(){return this._renderAt>0?(Date.now()-this._renderAt)/1e3:0}get impressDuration(){let e=this._impressDuration;return this._inviewAt>0&&this._impressedAt>0&&(e+=Date.now()-this._inviewAt),e/1e3}get errorMessage(){return this._errorMessage}get creativeSize(){return ti(this._creativeSize)?this._creativeSize:this.lastWonBid?[this.lastWonBid.width,this.lastWonBid.height]:this.$adUnitTag.dfpSlot?function(e){let t=qt(e);return t?[t.offsetWidth,t.offsetHeight]:[0,0]}(this.$adUnitTag.dfpSlot):this._creativeSize}set creativeSize(e){ti(e)&&(this._creativeSize=e)}set refreshrate(e){this._refreshrate=e>0?Math.max(e,this._refreshrateMin):0}get refreshrate(){return this._refreshrate}set refreshrateNofill(e){this._refreshrateNofill=e>0?Math.max(e,$e.cq):0}get refreshrateNofill(){return this._refreshrateNofill}get lastAdImpressed(){return this._lastAdImpressed}get forceOnNextRefresh(){return this._forceOnNextRefresh}set forceOnNextRefresh(e){this._forceOnNextRefresh=e}get creativeType(){return this._creativeType}get adUnitMode(){return this._adUnitMode}set adUnitMode(e){this._adUnitMode=e}set requestingBid(e){this._requestingBid=e,Qt.qd(Ht.Rx,{statusData:this.getStatusData()})}get requestingBid(){return this._requestingBid}get prebidRenderError(){return this._prebidRenderError}get isInVideoMode(){return"video"===this.adUnitMode}get isReady(){return"ready"===this.status}get isPendding(){return"pendding"===this.status}get isDisabled(){return"disabled"===this.status}get isDfpRendered(){return"dfp_rendered"===this.status||"dfp_impressed"===this.status}get isPrebidRender(){return"prebid_render"===this.status||"prebid_impressed"===this.status}set isFluidAds(e){this._isFluidAds=e}get isFluidAds(){return this._isFluidAds}get isReadyForClose(){return"closed"===this.status}get isReadyForDestroy(){return"destroyed"===this.status}get isDestroyable(){return this.isReadyForClose||this.isReadyForDestroy}get isRequesting(){return"requesting"===this.status||"auctioning"===this.status}get isSwapping(){return this._swapAt>0}get isSwapIntoView(){return this._isSwapIntoView}get isInView(){return this._inviewAt>0}get isSlotLoaded(){return this._loadAt>0&&this.isDfpRendered}get isDirectRender(){return 3===this.creativeType}get isSlotRendered(){return this.isDirectRender?!0===this._prebidRenderSuccess:this.isDfpRendered}get isImpressed(){return"dfp_impressed"===this.status||"prebid_impressed"===this.status}set isDfpEmpty(e){this._requestEndAt=Date.now(),this._isDfpEmpty=e}get isDfpEmpty(){return this._isDfpEmpty}get hasError(){return"error"===this.status}get isDfpNoFill(){return this.isDfpEmpty||this.hasError}get isSlotNofill(){return"dfp_empty"===this.status||(this.isDirectRender?this.hasError||!1===this._prebidRenderSuccess:this.isDfpNoFill)}get isFail(){return!this.isRequesting&&this.isSlotNofill}get endAt(){return this._endAt}hasEverRequested(){return this.counter>-1}hasEverRefreshed(){return this.counter>0}checkForceRefresh(){if(this.isReady||this.isPendding||this.isDisabled||this.isFail||this._requestStartAt<1)return!1;if(!this.$adUnitTag.isOutstream||!ri(this.$adUnitTag.$adTag))return!1;let e=this.$adUnitTag.$adTag.$yollaPlayer.$ima,t=e.duration<1||e.duration>this.refreshrate?this.refreshrate:e.duration;if(e.playing&&e.timeRemaining>0&&e.timeRemaining<2)return!1;let i=this._options.OUTSTREAM_SETTING.maxDuration,n=this._options.OUTSTREAM_SETTING.refreshBuff;e.adData.videoAdInViewDuration;if(!Yt(i)&&i>0&&(i=t>0?Math.min(t,i):i,e.currentTime>=i&&this.renderedDuration>0))return!0;if(t>0&&!Yt(n)&&n>=0&&(t+=n||0,!e.playing||e.currentTime<=0||e.currentTime>=2)){if((Date.now()-(this._renderAt||this._requestStartAt))/1e3>=t)return!0}return!1}checkHealthy(){let e=this.refreshrate;return!!(this.isDisabled||e<1)||(!(["auctioning","requesting","player_request_ads"].indexOf(this.status)>-1)||!(this.statusDuartion>e))}checkVideoHealthy(){if(ri(this.$adUnitTag.$adTag)&&this.$adUnitTag.isOutstream){var e;let t=null===(e=this.$adUnitTag.$adTag.$yollaPlayer)||void 0===e?void 0:e.$ima;if(t&&(t.playing||t.paused)){let e=t.adData;if(e.updatedAt&&(Date.now()-e.updatedAt)/1e3>10)return!1}}return!0}checkIsOnInitialRequest(){return 0===this.counter}checkReadyForRefreshBasicCondition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.hasEverRequested())return!1;if(this.$adUnitTag.isOop)return!1;if(this.$adUnitTag.isInterstitial)return!1;if(this.$adUnitTag.isGmi)return!1;if(this.isInVideoMode)return!1;if(this.isSwapping)return!1;if(this.isRequesting)return!1;if(this.refreshrate<1)return!1;if(e>0){if((Date.now()-this._requestStartAt)/1e3<e)return!1}return!0}checkReadyForRefreshOnSlotVibilityChange(){const e=this._options.YMPB_REFRESHRATE_MIN||0;if(this.checkReadyForRefreshBasicCondition(e)){if(this.impressDuration>0||this.isDfpEmpty)return!0;if(this.isSlotLoaded)if(this._options.YMPB_REFRESH_UNVIEWED){if(this.inviewDuration>=$e.M5)return!0}else if(this._options.YMPB_REFRESH_NOT_INVIEW)return!0}return!1}checkReadyForRefresh(){let e=Math.max(this._requestStartAt,this._auctionAt),t=e<1?0:(Date.now()-e)/1e3;if(this.isSwapping||this.isDisabled||this.isPendding)return!1;if(this.$adUnitTag.isVideoSlot&&ri(this.$adUnitTag.$adTag)){var i;let e=null===(i=this.$adUnitTag.$adTag)||void 0===i||null===(i=i.$yollaPlayer)||void 0===i?void 0:i.$ima;if(e&&e.playing)return!1}if(this.hasEverRequested()){if((this._forceOnNextRefresh||this.isReady)&&!this.isRequesting)return!0;if(this.$adUnitTag.isPreroll)return!1;if(this.$adUnitTag.isOutstream&&this.$adUnitTag.$status.isInVideoMode&&this.endAt<1)return!1;if(this.refreshrate<1)return!1;if(this._requestEndAt<1&&!this.isImpressed&&!this.hasError)return!1;if(this.$adUnitTag.isOop)return!1;if(this.$adUnitTag.isInterstitial)return!1;if(this.$adUnitTag.isGmi)return!1;if(this.$adUnitTag.isDynamicInstered)return!1}if(!this.isReady&&!this.isFail&&t<$e.cq)return!1;if(this.$position.viewbilityStatus>=$e.g4&&this.isSlotRendered&&this.inviewDuration<$e.M5)return!1;if(this.isFail){const e=this.refreshrateNofill>0&&t>this.refreshrateNofill;return e}let n=this._options.YMPB_FORCE_REFRESH_ACTIVE>0?this._options.YMPB_FORCE_REFRESH_ACTIVE:this._options.YMPB_FORCE_REFRESH;if(n>0&&!this.$adUnitTag.isVideoSlot){if(t>=Math.max(n,this.refreshrate))return!0}if(this.isRequesting)return!1;if(this.isReady)return!0;if(t<this.refreshrate)return!1;if(this.impressDuration>0)return!0;if(this.isSlotLoaded){if(this._isLastAdxWon&&this._options.REFRESH_IGNORE_ADX_VIEW_STATUS||this.lastWonBid&&this._options.REFRESH_IGNORE_VIEW_STATUS.indexOf(this.lastWonBid.bidderCode)>-1)return!0;if(this._options.YMPB_REFRESH_UNVIEWED){if(this.inviewDuration>=$e.M5)return!0}else if(this._options.YMPB_REFRESH_NOT_INVIEW)return!0}return!1}checkReadyForSwapIn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.$adUnitTag.isOop||this.isInVideoMode||this.isDisabled||this.isReadyForClose||this.isDestroyable||this.isSwapping||this.isRequesting)return!1;let i=this.isFail||this.isReady;if(!i&&this._impressedAt>0&&(i=this.impressDuration>=1),!i){const e=5;i=(this._renderAt>0?this.inviewDurationSinceRendered:this.inviewDuration)>e}return!!(i&&this.$position.viewbility()>=t)&&Jt(this.$adUnitTag.$adTag.slotAreaEl)}checkReadyForSwap(e,t){if(this.$adUnitTag.isOop||this.isInVideoMode||this.isFail||this.isDestroyable||this.isSwapping)return!1;if(!this.isSlotRendered)return!1;if(this._loadAt<1&&Date.now()-this._renderAt<5e3)return!1;if(this.lastWonBid&&t.indexOf(this.lastWonBid.bidderCode)>-1)return!1;if(this.$position.viewbility()>=$e.g4){return!!(Ud.getOptionInstanse().$deviceDetector.isFullscreenMode&&!cr(this.$adUnitTag)&&this.swapCounter<1)}return!(this.impressDuration>0)&&(this.swapCounter<1||(this.inviewDuration<e&&this.swapCounter<$e.lk||this.refreshrate>=e&&this.duration===this.refreshrate-e-1))}checkReadyForSwapBack(e){if(this.isSwapping&&this.isSwapIntoView){if(this.impressDuration>0&&this.impressDuration>Math.max(1,e-2))return!0;if(this.swapDuration>e)return!0}return!1}checkDirectRenderImpressionViewable(){if(!this.isDisabled&&this.isDirectRender&&!this.hasError&&this.impressDuration<=0){if(!this.$adUnitTag.isVideoSlot)return this.inviewDuration>=1;if("prebid_render"===this.$adUnitTag.$status.status)return this.inviewDuration>=1}return!1}increaseCounter(){this._counter+=1}reset(){var e;ri(this.$adUnitTag.$adTag)&&(null===(e=this.$adUnitTag.$adTag)||void 0===e||null===(e=e.$yollaPlayer)||void 0===e||null===(e=e.$ima)||void 0===e||e.resetAdManager());this.$responseDeferred&&this.$responseDeferred.pending&&this.$responseDeferred.reject();let t=Date.now();this._swapCounter=0,this._inviewAt>0&&(this._inviewAt=t),this._lastAdImpressed=this._impressedAt>0,this._forceOnNextRefresh=!1,this._isDfpEmpty=!1,this._targetings={},this._closeReason=0,this._swapAt=0,this._isImpOnSwap=!1,this._lastSwapPosition=[],this._auctionAt=0,this._requestStartAt=0,this._requestEndAt=0,this._renderAt=0,this._loadAt=0,this._impressedAt=0,this._inviewDuration=0,this._inviewDurationSinceRendered=0,this._impressDuration=0,this._creativeSize=[],this.lastWonBid=null,this._isLastAdxWon=!1,this._requestingBid=void 0,this._prebidRenderSuccess=null,this._prebidRenderError="",this._isCompleted=!1,this._isEnded=!1,this._isFluidAds=!1,this._creativeType=0,this._errorMessage="",this.$responseDeferred=new Xt.A,this.$responseDeferred.promise.catch((e=>{}))}updatePosition(){let e=this.$position.distanceToVp(),t=0,i=!1;e.x>=0&&e.y>=0&&(t=this.$position.viewbility(),i=!Jt(this.$adUnitTag.$adTag.wrapperEl),t>0&&i&&(t=0)),this.$position.viewbilityStatus!==t?t<$e.g4?this.onOutOfView(i):this.onInview():this._inviewAt>0&&t<$e.g4&&this.onOutOfView(i)}getDistanceToVp(){return this.$position.distanceToVp()}onReady(){this._readyAt<1&&(this._readyAt=Date.now()),this.status="ready"}onAuctionStarted(){this.increaseCounter(),Qt.qd(Ht.n,{statusData:this.getStatusData()}),this.reset(),this._auctionAt=Date.now(),this.status="auctioning"}onRequestStarted(){this._requestStartAt=Date.now(),this._requestEndAt=0,this.status="requesting"}onRequestEnded(){this._requestEndAt=Date.now(),this._targetings=function(e){const t=Ft(e);return t?Gt(t):{}}(this.$adUnitTag.adUnitCode)}onPlayerRequestVast(){this.status="player_request_ads",Qt.qd(Ht.l$,{statusData:this.getStatusData()})}onVideoAdsLoaded(e){Qt.qd(Ht.XC,{statusData:this.getStatusData()})}onVideoAdsStarted(){let e="dfp_rendered";this.isDirectRender&&(e="prebid_render"),this.status!==e&&(this._renderAt=Date.now(),this.status=e,this.onComplete(),Qt.qd(Ht.Zb,{statusData:this.getStatusData()}),this.isDirectRender&&(this.$adUnitTag.isPreroll&&(this._requestingBid?this.setRenderingBid(this._requestingBid):this.lastWonBid=null),this.onPrebidRenderSuccessed()))}onRenderEnded(e){this._renderAt=Date.now();const t=e&&e.isDirectRender,i=!t&&e&&!e.isDfpEmpty;if(this.status=t?"prebid_render":i?"dfp_rendered":"dfp_empty",this._inviewAt>0&&(this.resetInViewStatus(),this.onInview()),this.$adUnitTag.isOop)return this.onComplete(),!0;if(e){let t=ii(this.$adUnitTag.$adSizeConfig.maxAllowedSize)?this.$adUnitTag.$adSizeConfig.maxAllowedSize:this.$adUnitTag.$adSizeConfig.getOriginalMaxAllowedSize(),i=ii(e.size)?e.size:t;this.$adUnitTag.$adTag.unsetDfpContainerStyle(),this.$adUnitTag.$adTag.setAdSlotSize(i,this.isFluidAds)}return!this._isLastAdxWon&&t||this.onComplete(),!0}onSlotLoad(){this._loadAt=Date.now(),this.$adUnitTag.$adTag.syncSlotSizeWithIframe()}setRenderingBid(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.lastWonBid=e;let i=[this.lastWonBid.width,this.lastWonBid.height];"native"===this.lastWonBid.mediaType?(this._isFluidAds=!0,ti(i)||(i=ii(this.$adUnitTag.$adSizeConfig.maxAllowedSize)?this.$adUnitTag.$adSizeConfig.maxAllowedSize:this.$adUnitTag.$adSizeConfig.getOriginalMaxAllowedSize())):ii(i)&&(i[0]===this.creativeSize[0]&&i[1]===this.creativeSize[1]||(this.creativeSize=i)),t&&!this.$adUnitTag.$status.isInVideoMode&&this.$adUnitTag.$adTag.setAdSlotSize(i,this.isFluidAds)}onBidWon(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._creativeType<1&&(this._creativeType=2),this.setRenderingBid(e,t)}onAdxWon(){this._isLastAdxWon=!0,this._creativeType=1}onDirectRender(e){this.status="prebid_render",this._creativeType=3,this.requestingBid=e}onPrebidRenderSuccessed(e){if(this._prebidRenderSuccess=!0,this.isDirectRender){const e=this.getStatusData();Qt.qd(Ht.Zy,{statusData:e}),this.$adUnitTag.isOutstream||Qt.qd(Ht.AS,{statusData:e})}this.onComplete()}onPrebidRenderFailed(e){this._prebidRenderSuccess=!1,this._prebidRenderError=e,Qt.qd(Ht.hZ,{statusData:this.getStatusData()}),this.onError("prebid_render_"+e)}onEnterGmiFallback(){this._creativeType=6}onEnterDisplayFallback(){this._creativeType=4}_onImpressed(e){if(this.status===e)return!1;this.status=e,this.isSwapping&&(this._isImpOnSwap=!0),this._inviewAt>0&&(this.resetInViewStatus(),this.onInview()),this._impressedAt=Date.now(),this._impressDuration=1;let t={statusData:this.getStatusData()};return this.isDirectRender?Qt.qd(Ht.Bt,t):Qt.qd(Ht.lb,t),!0}onPrebidImpressed(){this._onImpressed("prebid_impressed")}onDfpImpressed(){this._onImpressed("dfp_impressed")}onError(e){if(e&&(this._errorMessage=e),"error"===this.status)return;this._requestEndAt=Date.now(),this.status="error";let t={statusData:this.getStatusData()};this.$adUnitTag.qd(Ht.UU,t),Qt.qd(Ht.UU,t),this.$adUnitTag.autodestroy&&this.onClose(5),this.onComplete()}dispatchViewableEvent(e,t){let i=!1;this.$position.isInvisible!==t&&(this.$position.isInvisible=t,i=!0),this.$position.viewbilityStatus!==e&&(this.$position.viewbilityStatus=e,this.$adUnitTag.qd(Ht.lY,{viewbility:e,hasInvisibleStatusChanged:i}))}resetInViewStatus(){if(this._inviewAt>0){let e=Date.now()-this._inviewAt;this._inviewDuration+=e,this._renderAt>0&&(this._inviewDurationSinceRendered+=e),this._impressedAt>0&&(this._impressDuration+=e)}this._inviewAt=0}onInview(){this.resetInViewStatus(),this._inviewAt=Date.now(),this.dispatchViewableEvent(1,!1)}onOutOfView(e){this.resetInViewStatus(),this.dispatchViewableEvent(0,e)}onSwapStart(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._swapAt=Date.now(),this._swapCounter+=1,this._swapWith=e.adUnitCode,this._isSwapIntoView=t,this.$adUnitTag.$adTag.el.dataset.swap=this._swapWith,t&&this._lastSwapPosition.push(this.$adUnitTag.$adTag.getSizerPosition())}onSwapEnd(){this._swapAt=0,this._swapWith="",this._isSwapIntoView=!1,this.$adUnitTag.autodestroy&&(this.isImpressed||this.swapCounter>=$e.lk)&&setTimeout((()=>{this.onClose(2)}),3e3),this.$adUnitTag.$adTag.el.removeAttribute("data-swap")}onDisable(){this.updateEndTime(),this.status="disabled"}onClose(e){this._closeReason=e,this.status="closed"}onDestroy(e){this._closeReason=e,this.status="destroyed"}onUserClose(){this.onDestroy(1),Qt.qd(Ht.E_,{statusData:this.getStatusData()})}getStatusData(){let e={adUnitCode:this.$adUnitTag.adUnitCode,isUseGAM:this.$adUnitTag.isUseGAM,parentId:this.$adUnitTag.parentId,ympbId:this.$adUnitTag.ympbId,groupId:this.$adUnitTag.groupId,counter:this.counter,refreshCounter:this.refreshCounter,swapCounter:this.swapCounter,status:this.status,closeReason:this._closeReason,slotFillType:this.$adUnitTag.slotFillType,creativeType:this._creativeType,refreshrate:Math.max(this.refreshrate,this._refreshrateMin),isFluidAds:this.isFluidAds,isVideoAds:this.isInVideoMode,requested:this._requestEndAt>0,slotRendered:!this.isFail&&this.isSlotRendered,prebidRendered:!0===this._prebidRenderSuccess,prebidRenderError:this._prebidRenderError,isSwapping:this.isSwapping,isDfpRendered:this.isDfpRendered,isDfpNoFill:this.isDfpNoFill,isDfpEmpty:this.isDfpEmpty,isSlotEmpty:this.isSlotNofill,isSlotNofill:this.isSlotNofill,isImpressed:this.isImpressed,isImpOnSwap:this._isImpOnSwap,isAdxWon:this._isLastAdxWon,isPrebidWon:this.isDfpRendered&&!!this.lastWonBid,errorMessage:this._errorMessage,targetings:Object.assign({},this._targetings),isDfpOrHbRendered:!this.isFail&&this.isDfpRendered,isUsePrebidRender:!this.isDfpRendered&&!0===this._prebidRenderSuccess||this.isDirectRender,isFail:this.isFail,isEmpty:this.isFail&&!this.hasError,hasError:this.hasError,bid:this._requestingBid?Ue(this._requestingBid):null,bidWon:this.lastWonBid,swapWith:this._swapWith,position:this.$adUnitTag.$adTag.getSizerPosition(),slotSize:[Math.round(this.$adUnitTag.$adTag.sizerEl.offsetWidth),Math.round(this.$adUnitTag.$adTag.sizerEl.offsetHeight)],lastSwapPosition:this._lastSwapPosition,inviewDuration:this.inviewDuration,groupType:this.$adUnitTag.groupType};if(ri(this.$adUnitTag.$adTag)&&this.$adUnitTag.$adTag.$yollaPlayer){let t=this.$adUnitTag.$adTag.$yollaPlayer.$ima.getCurrentAdData();t.videoConfig=this.$adUnitTag.$adTag.$yollaPlayer.videoConfig,Object.assign(e,t)}let t=Ud.getAdUnitByParentId(e.ympbId);return e.children=t.map((e=>e.$status.getStatusData())),e}onComplete(){if(this._isCompleted||this.isReady)return;this._isCompleted=!0;let e=this.getStatusData();this.$responseDeferred&&this.$responseDeferred.resolve(e),Qt.qd(Ht.Rm,{statusData:e})}updateEndTime(){this._requestEndAt<1&&this.onRequestEnded(),this._endAt=Date.now()}onPendding(){this.status="pendding"}onEnd(e){if(!this._isEnded){if(this._isEnded=!0,this.updateEndTime(),e.statusData=this.getStatusData(),ri(this.$adUnitTag.$adTag)&&this.$adUnitTag.$adTag.$yollaPlayer){let t=this.$adUnitTag.$adTag.$yollaPlayer.$ima.currentError;t&&t.getError&&(e.error=t.getError())}this.$adUnitTag.qd(Ht.uq,e),Qt.qd(Ht.uq,e)}}};function mr(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(;e.parentElement;){let n=e.parentElement;if(t(n))return i?e:n;if((e=n)===document.body)break}return null}function vr(e){return mr(e,(function(e){return e.childElementCount>1}),!0)||e}function br(e){if(Fi(e)){let t=e.match(/^(\d+)px$/i);if(t)return+t[1]}}function yr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,qi.JW)("svg",{width:t?4*e.width:e.width,height:e.height,viewBox:"0 0 ".concat(t?300:78," 78")},(0,qi.JW)("g",(0,qi.JW)("g",{fill:e.backgroundColor},(0,qi.JW)("rect",{width:78,height:78,rx:10,ry:10})),(0,qi.JW)("g",{fill:e.color,transform:"translate(15 0)"},(0,qi.JW)("path",{d:"M27.824 17.121 c0.067386 -0.77982 15.405 7.5876 14.785 8.067 l-14.281 16.713 l4.6848 17.464 c0.30697 0.53836 -17.163 0.30574 -16.841 -0.22436 l4.4122 -14.857 l-17.563 -16.523 c-0.64068 -0.38449 13.811 -10.202 13.933 -9.4644 l5.9852 15.092 z"})),(0,qi.JW)("g",{display:t?"":"none",fill:e.backgroundColor,transform:"matrix(2.25,0,0,2.25,95,-30)"},(0,qi.JW)("path",{d:"M16.055 19.922 l5.7617 0 l-12.383 29.531 l-5.7031 0 l4.5898 -10.273 l-8.2617 -19.258 l6.1328 0 l4.7852 13.203 z M32.32459375 40.39063 c-6.3867 0 -10.996 -3.8867 -10.996 -10.449 c0 -6.5234 4.5703 -10.41 10.996 -10.41 c6.4648 0 11.016 3.8867 11.016 10.41 c0 6.5625 -4.5703 10.449 -11.016 10.449 z M32.26559375 35.918 c3.2617 0 5.4883 -2.3828 5.4883 -5.9766 s-2.2266 -5.9766 -5.4883 -5.9766 c-3.1445 0 -5.3516 2.3828 -5.3516 5.9766 s2.207 5.9766 5.3516 5.9766 z M45.70316875 40 l0 -30 l5.6836 0 l0 30 l-5.6836 0 z M55.39066875 40 l0 -30 l5.6836 0 l0 30 l-5.6836 0 z M81.54296875 34.5508 c0 2.4609 0.23438 4.0234 0.48828 4.9023 l0 0.54688 l-5.2539 0 l-0.44922 -2.1875 c-1.5039 1.8164 -4.1016 2.5781 -6.4453 2.5781 c-3.1641 0 -6.25 -1.4063 -6.25 -5.5859 c0 -4.1602 3.1055 -5.5664 7.3047 -6.4844 l3.3008 -0.74219 c1.4258 -0.33203 1.9336 -0.82031 1.9336 -1.6406 c0 -1.9727 -1.7969 -2.5195 -3.3789 -2.5195 c-2.0313 0 -3.5742 0.80078 -3.9258 3.0664 l-4.9805 -0.89844 c0.83984 -4.1602 3.8867 -6.0547 9.2188 -6.0547 c4.0234 0 8.4375 1.1914 8.4375 7.2461 l0 7.7734 z M71.64066875 36.582 c2.6758 0 4.8242 -1.7773 4.8242 -5.7617 l-4.7656 1.3477 c-1.5625 0.37109 -2.6953 0.91797 -2.6953 2.2656 c0 1.4453 1.1914 2.1484 2.6367 2.1484 z"}))))}const Ar=class{constructor(){(0,Me.A)(this,"_items",[]),(0,Me.A)(this,"_currentIndex",-1)}get items(){return this._items}get length(){return this._items.length}add(e){this._items.push(e)}pop(){return this._items.pop()}addBatch(e){this._items=this._items.concat(e)}empty(){this._currentIndex=-1,this._items=[]}counts(){return this._items.length}get(e){if(!(e<=0||e>=this._items.length))return this._currentIndex=e,this._items[e]}remove(e){let t=this.findIndex(e);t>-1&&this._items.splice(t,1)}removeBy(e,t){let i=this.find(e,t);return i&&this.remove(i),i}findIndex(e,t){return u(this._items,e,t)}contains(e,t){return u(this._items,e,t)>-1}sortBy(e){this._items.sort(e)}each(e){(0,n.A)(this._items,e)}filter(e){let t=(0,ci.A)(this._items,e),i=function(e){return e?(t=(0,ci.A)(t,e),i):(i=null,t)};return i}find(e,t){return Le(this._items,e,t)}findAll(e){return(0,ci.A)(this._items,e)}next(){return this._currentIndex+1>=this.items.length?void 0:this.get(++this._currentIndex)}prev(){return this._currentIndex-1<0?void 0:this.get(--this._currentIndex)}};function _r(e){if(e)for(;e.firstChild;)e.lastChild&&(0,qi.vs)(e,e.lastChild)}class Er extends Kt{constructor(e,t,i){super(),(0,Me.A)(this,"_container",void 0),(0,Me.A)(this,"_name",void 0),(0,Me.A)(this,"ele",null),(0,Me.A)(this,"_actived",!1),(0,Me.A)(this,"_options",{type:"div"}),(0,Me.A)(this,"_childres",new Ar),(0,Me.A)(this,"_eventCb",{}),this._container=e,this._name=t,i&&Object.assign(this._options,i),this.ele=(0,qi.el)(this._options.type,this._options),(0,qi.Or)(this._container,this.ele)}get name(){return this._name}get actived(){return this._actived}set actived(e){e?this.show():this.hide()}get size(){return this.ele?[this.ele.offsetWidth,this.ele.offsetHeight]:[0,0]}get height(){return this.size[1]}getHeight(){return this._actived?this.height:0}show(){this._actived=!0,this.ele&&this.ele.classList.remove("ympb_hide")}hide(){this._actived=!1,this.ele&&this.ele.classList.add("ympb_hide")}update(){}addChild(e){this._childres.add(e)}addNewChild(e,t){let i=new Er(this.ele,e,t);this._childres.add(i)}append(e){(0,qi.Or)(this.ele,e)}appendNew(e){let t=(0,qi.el)(e.type,e);return this.append(t),t}empty(){_r(this.ele)}remove(){this._actived=!1,this.ele&&(0,qi.vs)(this._container,this.ele)}destroy(){this._childres.each((e=>{e.destroy()})),this._childres.empty(),this._eventCb=null,this.remove(),this._container=null}}const Ir=Er;const wr=class extends Ir{constructor(e,t,i){i.color=i.color||$e.fI,super(e,t,i)}get text(){return this._options.text||""}set text(e){this._options.text=e,e?this.updateText():this.removeText()}updateText(){if(this.ele&&this._options.text){let e="a.ympb_copyright_text",t=(0,Vi.V)(e,this.ele);t?t.innerHTML=this._options.text:(t=(0,qi.el)("a.ympb_copyright_text",{style:{color:this._options.color},href:$e.R$,target:"_blank"},(0,qi.el)("span",{innerHTML:this._options.text||""})),(0,qi.Or)(this.ele,t))}}removeText(){let e=(0,Vi.V)("a.ympb_copyright_text",this.ele);e&&(0,qi.vs)(this.ele,e)}show(){let e=this.appendNew({type:"a",style:{color:this._options.color},href:$e.R$,target:"_blank"});(0,qi.Or)(e,(0,qi.el)("span.ympb-logo",yr({width:16,height:16,color:"#fff",backgroundColor:this._options.color},!0))),this.updateText(),super.show()}hide(){super.hide(),this.empty()}};const Sr=class{constructor(e,t,i,n){(0,Me.A)(this,"_el",void 0),(0,Me.A)(this,"_parentEl",void 0),(0,Me.A)(this,"_parentElPosition",void 0),(0,Me.A)(this,"_parentElPositionInviewOriginal",void 0),(0,Me.A)(this,"_elId",void 0),(0,Me.A)(this,"_wrapperEl",void 0),(0,Me.A)(this,"_sizerEl",void 0),(0,Me.A)(this,"_rawHtml",void 0),(0,Me.A)(this,"_dfpContainer",void 0),(0,Me.A)(this,"_slotArea",void 0),(0,Me.A)(this,"_$slotAreaPosition",void 0),(0,Me.A)(this,"_baseZindex",void 0),(0,Me.A)(this,"_ympbId",void 0),(0,Me.A)(this,"$footer",void 0),this._el=e,this._parentEl=e.parentNode,this._parentElPosition=new Ct(this._parentEl),this._parentElPositionInviewOriginal=this._parentElPosition.viewbility(),this._elId=t,this._ympbId=n,this._rawHtml=this._el.outerHTML,this._baseZindex=i.YMPB_BASE_INDEX-1,this._el.id=this.generateInnerElementId("slot"),this._dfpContainer=(0,qi.el)("div#".concat(this._elId,".ympb_instanse")),this._sizerEl=(0,qi.el)("div#".concat(this.generateInnerElementId("sizer"),".ympb_target_sizer"),this._dfpContainer),this._wrapperEl=(0,qi.el)("div#".concat(this.generateInnerElementId("wrapper"),".ympb_target_wrapper"),this._sizerEl),this._slotArea=vr(this._el),this._$slotAreaPosition=new Ct(this._slotArea),this.$footer=new wr(this._wrapperEl,"ympb_slot_footer",{type:"div",class:"ympb_copyright",color:"",text:i.YMPB_AD_FOOTER_TEXT}),(0,qi.Or)(this._el,this._wrapperEl)}get id(){return this._elId}get el(){return this._el}get parentEl(){return this._parentEl}get parentElPosition(){return this._parentElPosition.update(),this._parentElPosition}get parentElPositionInviewOriginal(){return this._parentElPositionInviewOriginal}get elId(){return this._el.id}get sizerEl(){return this._sizerEl}get wrapperEl(){return this._wrapperEl}get dfpContainer(){return this._dfpContainer}set dfpContainer(e){this._dfpContainer=e}get baseIndex(){return this._baseZindex}get slotAreaEl(){return this._slotArea}get slotAreaRect(){return this._$slotAreaPosition.update(),this._$slotAreaPosition}generateInnerElementId(e){return"ympb_".concat(e,"__").concat(this._elId)}setZIndex(e){(0,qi.eC)(this._el,"zIndex",e.toString())}resetZIndex(){(0,qi.eC)(this._el,"zIndex",this._baseZindex.toString())}setStickyStyle(){this._slotArea.classList.add("ympb_sticky_element")}recoverElementToOriginalStatus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this._rawHtml.replace(/data-ad-id=".*"/,"");if(t>0){let e=/(min-height:)\s*?(\w+)/;i=i.indexOf("style")>0?e.test(i)?i.replace(e,"$1".concat(t,"px")):i.replace(/(style\s*?=\s*?")/i,"$1min-height: ".concat(t,"px;")):i.replace(/(class=)/i,'style="min-height: '.concat(t,'px;" $1'))}e&&(i=i.replace(/ympb_target/i,""),this.destroy()),this._el.outerHTML=i}setBackground(e){E(e)?this._el.classList.add("ympb_target_no_bg"):(0,qi.eC)(this._el,"background",e)}unsetDfpContainerStyle(){(0,qi.eC)(this._dfpContainer,{width:void 0,minWidth:void 0,minHeight:void 0,marginLeft:void 0})}setAdSlotSize(e,t){let i=e[0],n=e[1];if(t){let e=0,t=0,r=Vt(this.id);if(r&&(e=+r.height,t=+r.width),e<2){let t=br(this.dfpContainer.style.height);t&&(e=t)}if(e>1&&e>n&&(n=e),r&&t<2){(0,qi.eC)(r,{width:"".concat(i,"px"),height:"".concat(n,"px")});let e=qt(Ft(this.id));e&&(0,qi.eC)(e,{width:"".concat(i,"px"),height:"".concat(n,"px")})}(0,qi.eC)(this._wrapperEl,{width:"100%"})}(0,qi.eC)(this._wrapperEl,{width:t?"100%":"".concat(i,"px"),minHeight:n>1?"".concat(this.$footer.getHeight()+n,"px"):"auto"}),t?(0,qi.eC)(this._sizerEl,{width:"100%",height:"auto","min-height":e[1]+"px"}):this.setSlotSize(e),(0,qi.eC)(this._dfpContainer,{minWidth:Math.max(e[0],je)+"px",minHeight:e[1]+"px"})}syncSlotSizeWithIframe(){let e=Vt(this.id);if(e&&/^\d+$/.test(e.width)){let t=+e.width,i=br(this._wrapperEl.style.width),n=br(this._sizerEl.style.width);i&&i>0&&i<t&&(0,qi.eC)(this._sizerEl,{width:i+"px"}),n&&n>0&&n<t&&(0,qi.eC)(this._sizerEl,{width:n+"px"})}}releaseSlotAreaSize(){(0,qi.eC)(this._sizerEl,{width:"inherit",height:"unset","min-height":"unset"}),this._wrapperEl.removeAttribute("style")}releaseParentSlotAreaSize(){(0,qi.eC)(this.parentEl,{width:"inherit",height:"unset","min-height":"unset"}),(0,qi.eC)(this._el,{height:"unset"})}setSlotSize(e){(0,qi.eC)(this._sizerEl,{width:e[0]+"px",height:e[1]+"px","min-height":"unset"})}holdSlotAreaSize(e){(0,qi.eC)(this._wrapperEl,{height:this._wrapperEl.offsetHeight+"px"}),this.setSlotSize(e)}holdParentSlotAreaSize(e){var t;(0,qi.eC)(this.parentEl,{height:(null===(t=this._el.parentElement)||void 0===t?void 0:t.offsetHeight)+"px"}),(0,qi.eC)(this._el,{width:"inherit",height:e[1]+"px","min-height":"unset"})}setSlotAreaMaxSize(e){(0,qi.eC)(this._slotArea,{"max-height":e[1]+this.$footer.getHeight()+"px"})}swapTo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._sizerEl.style.transition="none",this._sizerEl.style.transform="translate(".concat(e.x,"px, ").concat(e.y,"px)"),this._sizerEl.style.zIndex=t?"0":(this._baseZindex+1).toString(),this._sizerEl.style.overflow="hidden",this._sizerEl.style.position="relative"}parentSwapTo(e){this._parentEl.style.transition="none",this._parentEl.style.transform="translate(".concat(e.x,"px, ").concat(e.y,"px)"),this._parentEl.style.zIndex=(this._baseZindex+1).toString(),this._parentEl.style.position="relative"}swapBack(){this._sizerEl.style.transform="none",this._sizerEl.style.zIndex="unset",this._sizerEl.style.overflow="unset",this._sizerEl.style.position="relative"}swapParentBack(){this._parentEl.style.transform="none",this._parentEl.style.zIndex="unset",this._parentEl.style.overflow="unset",this._parentEl.style.position="relative"}getSizerPosition(){let e=this._sizerEl.getBoundingClientRect();return{x:Math.round(e.left),y:Math.round(e.top),width:e.width,height:e.height}}insertIframe(){var e;let t=(0,qi.el)("iframe",{id:this.generateInnerElementId("hb_creative"),frameBorder:0,scrolling:"no",marginwidth:0,marginheight:0,frameborder:0});return(0,qi.Or)(this.dfpContainer,t),null===(e=t.contentWindow)||void 0===e?void 0:e.document}directRenderAds(e){if(e){this.removeIframe();let t=this.insertIframe();return Be.Ay.renderAd(t,e.adId),!0}return!1}renderAds(){}stop(){}removeIframe(){let e=document.getElementById(this.generateInnerElementId("hb_creative"));e&&(0,qi.vs)(this._dfpContainer,e)}destroy(){this.$footer&&this.$footer.destroy(),this.$footer=null}},Cr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Tr=(()=>{if("undefined"==typeof document)return!1;const e=Cr[0],t={};for(const i of Cr){if((null==i?void 0:i[1])in document){for(const[n,r]of i.entries())t[e[n]]=r;return t}}return!1})(),Or={change:Tr.fullscreenchange,error:Tr.fullscreenerror};let xr={request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=arguments.length>1?arguments[1]:void 0;return new Promise(((i,n)=>{const r=()=>{xr.off("change",r),i()};xr.on("change",r);const s=e[Tr.requestFullscreen](t);s instanceof Promise&&s.then(r).catch(n)}))},exit:()=>new Promise(((e,t)=>{if(!xr.isFullscreen)return void e();const i=()=>{xr.off("change",i),e()};xr.on("change",i);const n=document[Tr.exitFullscreen]();n instanceof Promise&&n.then(i).catch(t)})),toggle:(e,t)=>xr.isFullscreen?xr.exit():xr.request(e,t),onchange(e){xr.on("change",e)},onerror(e){xr.on("error",e)},on(e,t){const i=Or[e];i&&document.addEventListener(i,t,!1)},off(e,t){const i=Or[e];i&&document.removeEventListener(i,t,!1)},raw:Tr};Object.defineProperties(xr,{isFullscreen:{get:()=>Boolean(document[Tr.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return null!==(e=document[Tr.fullscreenElement])&&void 0!==e?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Tr.fullscreenEnabled])}}),Tr||(xr={isEnabled:!1});const Rr=xr;const Dr=function(){return N.A.Date.now()};var Ur=Math.max,Br=Math.min;const kr=function(e,t,i){var n,r,s,a,d,c,l=0,u=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var i=n,s=r;return n=r=void 0,l=t,a=e.apply(s,i)}function g(e){var i=e-c;return void 0===c||i>=t||i<0||p&&e-l>=s}function m(){var e=Dr();if(g(e))return v(e);d=setTimeout(m,function(e){var i=t-(e-c);return p?Br(i,s-(e-l)):i}(e))}function v(e){return d=void 0,h&&n?f(e):(n=r=void 0,a)}function b(){var e=Dr(),i=g(e);if(n=arguments,r=this,c=e,i){if(void 0===d)return function(e){return l=e,d=setTimeout(m,t),u?f(e):a}(c);if(p)return clearTimeout(d),d=setTimeout(m,t),f(c)}return void 0===d&&(d=setTimeout(m,t)),a}return t=(0,Tt.A)(t)||0,(0,o.A)(i)&&(u=!!i.leading,s=(p="maxWait"in i)?Ur((0,Tt.A)(i.maxWait)||0,t):s,h="trailing"in i?!!i.trailing:h),b.cancel=function(){void 0!==d&&clearTimeout(d),l=0,n=c=r=d=void 0},b.flush=function(){return void 0===d?a:v(Dr())},b};var Pr=i(8122),$r=i(9827),Mr=i(3430),Lr=i(4124),Nr=i(949),jr=i(5928);const Fr="setupComplete",zr="setupFailed",qr="destroyed",Vr="adRequest",Gr="adBreakStart",Wr="adLoaded",Hr="adStarted",Yr="adImpression",Jr="adPlay",Kr="adTime",Qr="adPause",Xr="adClick",Zr="adSkipped",es="adError",ts="adComplete",is="adBreakEnd",ns="playlist",rs="playbackRequest",ss="autostartBlocked",os="playAttemptFailed",as="contentLoaded",ds="play",cs="pause",ls="buffer",us="time",ps="seekStart",hs="seekEnd",fs="mute",gs="volume",ms="renditionUpdate",vs="error",bs="complete",ys="playlistComplete",As="fullscreen",_s="playerResize",Es="viewable",Is="cast",ws="auctionAdLoadAttempt",Ss="auctionAdLoadQueued",Cs="auctionAdLoadAbort",Ts="bidImpression",Os="bidError",xs={SETUP_COMPLETE:Fr,SETUP_FAILED:zr,DESTROYED:qr,AD_REQUEST:Vr,AD_BREAK_START:Gr,AD_LOADED:Wr,AD_STARTED:Hr,AD_IMPRESSION:Yr,AD_PLAY:Jr,AD_TIME:Kr,AD_PAUSE:Qr,AD_CLICK:Xr,AD_SKIPPED:Zr,AD_ERROR:es,AD_COMPLETE:ts,AD_BREAK_END:is,PLAYLIST:ns,PLAYBACK_REQUEST:rs,AUTOSTART_BLOCKED:ss,PLAY_ATTEMPT_FAILED:os,CONTENT_LOADED:as,PLAY:ds,PAUSE:cs,BUFFER:ls,TIME:us,SEEK_START:ps,SEEK_END:hs,MUTE:fs,VOLUME:gs,RENDITION_UPDATE:ms,ERROR:vs,COMPLETE:bs,PLAYLIST_COMPLETE:ys,FULLSCREEN:As,PLAYER_RESIZE:_s,VIEWABLE:Es,CAST:Is},Rs={INSTREAM:1,BANNER:2,ARTICLE:3,FEED:4,INTERSTITIAL:5,SLIDER:5,FLOATING:5,INTERSTITIAL_SLIDER_FLOATING:5},Ds={UNKNOWN:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:3,HEADER:4,FOOTER:5,SIDEBAR:6,FULL_SCREEN:7},Us={VIDEO_COMPLETION:1,VIEWPORT_LEAVE:2,FLOATING:3},Bs="video",ks={VOD:0,LIVE:1,DVR:2};var Ps=i(8094);const $s={};function Ms(){const e=function(e,t){const i=e,n=t;return{build:function(e,t){const r=i[e];if(!r)throw new Error("Unrecognized submodule vendor code: "+e);return r(t,n)}}}($s),t=function(e){const t=e,i={};return{registerSubmodule:function(e,n,r){if(i[e])return;let s;try{s=t.build(n,r)}catch(e){throw e}i[e]=s},getSubmodule:function(e){return i[e]}}}(e);return function(e){const t=e;return{registerProvider:function(e){try{t.registerSubmodule(e.divId,e.vendorCode,e)}catch(e){}},initProvider:function(e){const i=t.getSubmodule(e);i&&i.init&&i.init()},getOrtbVideo:function(e){const i=t.getSubmodule(e);return i&&i.getOrtbVideo()},getOrtbContent:function(e){const i=t.getSubmodule(e);return i&&i.getOrtbContent()},setAdTagUrl:function(e,i,n){const r=t.getSubmodule(i);r&&r.setAdTagUrl(e,n)},onEvents:function(e,i,n){if(!i)return;const r=t.getSubmodule(n);if(r)for(let t=0;t<e.length;t++){const s=e[t],o={divId:n,type:s};r.onEvent(s,i,o)}},offEvents:function(e,i,n){const r=t.getSubmodule(n);r&&e.forEach((e=>{r.offEvent(e,i)}))},hasProviderFor:e=>!!t.getSubmodule(e)}}(t)}(0,Ps.xG)("video",(function(e){$s[e.vendorCode]=e}),{postInstallAllowed:!0});function Ls(){const e=function(e){const t=e;return{getAdTagUrl:function(e,i,n){return t.buildVideoUrl({adUnit:e,url:i,params:n})}}}((0,Pr.m)().adServers.dfp);return e}function Ns(e,t,i,n,r){let s=(o="Prebid org",a=(0,Pr.m)().version,qs("AdSystem",o,{version:a}));var o,a;return t&&(s+=function(e){return zs("VASTAdTagURI",e)}(t)),i&&(s+=js(i,n)),r&&(s+=Fs(r)),function(e,t){return qs("VAST",e,{version:t})}(function(e,t){return qs("Ad",e,{id:t})}(qs("Wrapper",s),e),"4.2")}function js(e,t){return zs("Impression",e,{id:t})}function Fs(e){return zs("Error",e)}function zs(e,t,i){return qs(e,"<![CDATA[".concat(t,"]]>"),i)}function qs(e,t,i){const n=function(e,t){if(!t)return e;return Object.keys(t).reduce(((e,i)=>{const n=t[i];return n?e+" ".concat(i,'="').concat(n,'"'):e}),e)}(e,i);return"<".concat(n,">").concat(t,"</").concat(e,">")}Ls.vendorCode="gam";const Vs="application/xml";function Gs(e){const t=e;return{getVastXmlWithTracking:function(e,n,r,s,o){const a=function(e,i){if(!e)return;const n=js(e,i);return t.parse(n)}(r,s),d=function(e){if(!e)return;const i=Fs(e);return t.parse(i)}(o);if(!n&&!a&&!d)return e;const c=t.parse(e);return function(e,t,n){const r=e.querySelectorAll("InLine,Wrapper"),s=r.length;for(let e=0;e<s;e++){const o=r[e],a=e<s-1;i(o,t,a),i(o,n,a)}}(c,a,d),function(e,t){if(!t)return;const i=e.querySelector("Ad");if(!i)return;i.id=t}(c,n),t.serialize(c)},buildVastWrapper:Ns};function i(e,t,i){if(!t)return;const n=i?t.cloneNode(!0):t;e.appendChild(n.documentElement)}}function Ws(){let e,t;return{parse:function(t){return(e||(e=new DOMParser),e).parseFromString(t,Vs)},serialize:function(e){return(t||(t=new XMLSerializer),t).serializeToString(e)}}}var Hs=i(1610);const Ys="pb_uuid";function Js(e){const t=Gs(Ws()),i=function(){const e={};function t(t,i){e[t]=i}function i(t){const i=e[t];if(i)return delete e[t],i}return{store:t,remove:i}}();return e?function(e,t){const i=Ks(t),n=i.trackBid,r=i.getBidIdentifiers,s=e;return i.trackBid=function(e,t){if("video"!==e.mediaType)return;let i=e.adUnitCode;const r=(0,Mr.I6)(t,(e=>i===e.code));if(!r||!r.video)return;const a=n(e);let{vastXml:d,vastUrl:c,adId:l}=e;const u=r&&r.video,p=u&&u.adServer,h=p&&p.tracking;let f,g,m;const v=h.impression,b=h.error;return v&&(f=o(v.getUrl,e),g=v.id||l+"-impression"),b&&(m=o(b.getUrl,e)),d?d=s.getVastXmlWithTracking(d,a,f,g,m):c&&(d=s.buildVastWrapper(a,c,f,g,m)),e.vastXml=d,a},i.getBidIdentifiers=function(e,t,i){return r(e,null,i)},i;function o(e,t){if(e&&"function"==typeof e)return e(t)}}(t,i):function(e,t){const i=Ks(t),n=i.trackBid,r=e;return i.trackBid=function(e){if("video"!==e.mediaType)return;let{vastXml:t,vastUrl:i}=e;if(!t&&!i)return;const s=n(e);if(i){const t=new URL(i);t.searchParams.append(Ys,s),e.vastUrl=t.toString()}else t&&(e.vastXml=r.getVastXmlWithTracking(t,s));return s},i}(t,i)}function Ks(e){const t=e;return{trackBid:function(e){let{adId:i,adUnitCode:n,requestId:r,auctionId:s}=e;const o=e.trackingId||(0,Hs.RQ)(e);return e.trackingId=o,t.store(o,{adId:i,adUnitCode:n,requestId:r,auctionId:s}),o},addTrack:function(e){let i=e.trackingId;if(i){let{adId:n,adUnitCode:r,requestId:s,auctionId:o}=e;t.store(i,{adId:n,adUnitCode:r,requestId:s,auctionId:o})}return i},getBidIdentifiers:function(e,i,n){return t.remove(e)||function(e){if(!e)return;let i;try{i=new URL(e)}catch(e){return}let n=i.searchParams.get(Ys);return n&&t.remove(n)}(i)||function(e){if(!e||!e.length)return;for(const i in e){const n=t.remove(e[i]);if(n)return n}}(n)}}}function Qs(e){return e?Bs+e.replace(/^./,e[0].toUpperCase()):""}function Xs(e,t){return t||(t={}),t.type||(t.type=e),t}var Zs=i(1152),eo=i(302);const to=Object.keys(xs).map((e=>xs[e]));function io(e,t,i,n,r,s,o,a){const d=e,c=t,l=i,u=l.requestBids,p=n,h=r,f=s,g=a;let m,v,b=!0;const y=o;let A;function _(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=t.vastUrl;i.adXml=t.vastXml,i.winner=t.bidder,O(n,e,i)}function E(e){return d.getOrtbVideo(e)}function I(e){return d.getOrtbContent(e)}return{init:function(){const e=c("cache")||{url:"https://prebid.adnxs.com/pbc/v1/cache"};A=y(!!e),c(Bs,(e=>{let{video:t}=e;t.providers.forEach((e=>{const t=e.divId;d.registerProvider(e),g.registerProvider(t),d.initProvider(t),d.onEvents(h,((e,t)=>{p.emit(Qs(e),Xs(e,t))}),t);const i=e.adServer;!m&&i&&(m=f())})),b=!1!==t.contentEnrichmentEnabled,v=b?t.mainContentDivId:null})),u.before(w,40),p.on(jr.qY.BID_ADJUSTMENT,(function(e){A.trackBid(e,l.adUnits)})),p.on(Qs(Yr),(function(e){x(Ts,e)})),p.on(Qs(es),(function(e){x(Os,e)})),p.on(jr.qY.SET_TARGETING,(function(e){for(const t in e)if(Object.hasOwnProperty.call(e,t)){const i=(e[t]||{})[jr.xS.AD_ID];if(i){const e=(0,Pr.m)().findBidByAdId(i);e&&A.addTrack(e)}}}))},renderBid:_,getOrtbVideo:E,getOrtbContent:I,renderWinningBid:T};function w(e,t){!function(e){const t=e.adUnits||l.adUnits||[];t.forEach((e=>{const t=e.video;t&&(t.divId||(0,Nr.vV)("Missing Video player div ID for ad unit '".concat(e.code,"'")),d.hasProviderFor(t.divId)||(0,Nr.vV)("Video player div ID '".concat(t.divId,"' for ad unit '").concat(e.code,"' does not match any registered player")))}))}(t),function(e){v&&S(v,e);const t=e.adUnits||l.adUnits||[];t.forEach((t=>{const i=function(e){const t=e.video;if(!e.mediaTypes.video||!t)return;return t.divId}(t);!function(e,t){const i=E(t);if(!i)return;const n=Object.assign({},i,e.mediaTypes.video);n.context||(n.context=i.placement===Rs.INSTREAM?"instream":"outstream");n.plcmt||(0,Nr.JE)("Video.plcmt has not been set. Failure to set a value may result in loss of bids");const r=i.w,s=i.h;!n.playerSize&&r&&s&&(n.playerSize=[r,s]);e.mediaTypes.video=n}(t,i),b&&!v&&S(i,e)}))}(t);const i=t.bidsBackHandler;return i&&"function"==typeof i||p.on(jr.qY.AUCTION_END,C),e.call(this,t)}function S(e,t){const i=I(e);i&&(t.ortb2=(0,Nr.D9)({},t.ortb2,{site:{content:i}}))}function C(e){e.adUnits.forEach((e=>{e.video&&T(e)})),p.off(jr.qY.AUCTION_END,C)}function T(e){const t=e.code,i={adUnitCode:t},n=e.video,r=n.divId,s=function(e){const t=c(Bs),i=t.providers.find((t=>t.divId===e.divId))||{};if(t.adServer||i.adServer||e.adServer)return(0,Nr.D9)({},t.adServer,i.adServer,e.adServer)}(n);let o;if(s&&(o=m.getAdTagUrl(e,s.baseAdTagUrl,s.params)),o)return void O(o,r,i);const a=l.getHighestCpmBids(t);if(!a.length)return void p.emit(Qs(Cs),Xs(Cs,i));const d=a.shift();d&&_(r,d,i)}function O(e,t,i){g.queueAd(e,t,i)}function x(e,t){const i=function(e){const{adId:t,adTagUrl:i,wrapperAdIds:n}=e,r=A.getBidIdentifiers(t,i,n);if(!r)return;const{adUnitCode:s,requestId:o,auctionId:a}=r,d=r.adId,{bids:c}=l.getBidResponsesForAdUnitCode(s);return(0,Mr.I6)(c,(e=>e.adId===d&&e.requestId===o&&e.auctionId===a))}(t);i&&(l.markWinningBidAsUsed(i),p.emit(Qs(e),Xs(e,{bid:i,adEvent:t})))}}function no(e,t){if(t.bidResponse.mediaType===Zs.G_){const i=ke.n.index.getAdUnit(t.bidResponse);if(null!=i&&i.video)return(0,Pr.m)().videoModule.renderBid(i.video.divId,t.bidResponse),void e.bail()}e(t)}function ro(){let e={};return{updateState:function(t){Object.assign(e,t)},getState:function(){return e},clearState:function(){e={}}}}Lr.addEvents(to.concat([ws,Ss,Cs,Ts,Os]).map(Qs)),function(){const e=Ms(),t=function(e,t){const i={};return{registerProvider:function(t){i[t]=[],e.onEvents([Fr],n,t)},queueAd:function(e,t,n){const r=i[t];r?(r.push({adTagUrl:e,options:n}),a(Ss,e,n)):o(t,e,n)}};function n(t,i){const r=i.divId;e.offEvents([Fr],n,r),s(r)}function r(e,t){s(t.divId)}function s(t){e.offEvents([is],r,t);const n=i[t];if(!n)return;if(!n.length)return void delete i[t];const s=n.shift();e.onEvents([is],r,t),o(t,s.adTagUrl,s.options)}function o(t,i,n){a(ws,i,n),e.setAdTagUrl(i,t,n)}function a(e,i,n){const r=Object.assign({adTagUrl:i},n);t.emit(Qs(e),Xs(e,r))}}(e,Lr),i=(0,Pr.m)(),n=io(e,$r.$W.getConfig,i,Lr,to,Ls,Js,t);n.init(),i.videoModule=n,eo._0.before(no)}(),(0,Pr.E)("videoModule");function so(e,t,i,n,r){let s="1.0.0";const{playerConfig:o,divId:a,player:d}=e,c=t,l=i;let u,p=0,h=0,f=!1,g=[],m=[],v=[];function b(e,t,i){const n={divId:a,playerVersion:s,type:zr,errorCode:e,errorMessage:t,sourceError:i};m.forEach((e=>e(zr,n))),m=[]}function y(e,t,i){f||(e===Fr?g.push(t):e===zr&&(m.push(t),v.push((()=>{if(f)return;const e=d.error();b(e.code,e.message,e)}))))}function A(){!function(){f=!0;const e={divId:a,playerVersion:s,type:Fr};g.forEach((t=>t(Fr,e))),g=[],u=d.$ima.muted,v.forEach((e=>d.off("error",e))),v=[]}()}return{init:function(){A()},getId:function(){return a},getOrtbVideo:function(){if(!d)return;let e=Object.assign({playbackend:Us.VIDEO_COMPLETION},d.videoConfig);return d.isFullscreen()&&(e.pos=Ds.FULL_SCREEN),e},getOrtbContent:function(){return null},setAdTagUrl:function(e,t){d.requestAds(e)},onEvent:function(e,t,i){y(e,t),d&&i.divId&&d.ready((()=>{!function(e,t,i){if(e===fs){const n=()=>{u!==d.$ima.muted&&(i.mute=u=!u,t(e,i))};return void d.on(r.getVideoEventName(gs),n)}let n;switch(e){case ds:case cs:case qr:break;case rs:n=()=>({playReason:"unknown"});break;case Vr:n=e=>{const t=e.detail.adsRequest.adTagUrl;return c.updateState({adTagUrl:t}),{adTagUrl:t}};break;case Wr:n=e=>{const t=e.detail.data;return c.updateForEvent(t),l.clearState(),c.getState()};break;case Hr:case Jr:case Qr:n=()=>c.getState();break;case Yr:case Xr:n=()=>Object.assign({},c.getState(),l.getState());break;case Kr:n=e=>(l.updateForTimeEvent(e.detail),Object.assign({},c.getState(),l.getState()));break;case ts:n=()=>{const e=c.getState();return c.clearState(),e};break;case Zr:n=()=>{const e=Object.assign({},c.getState(),l.getState());return c.clearState(),e};break;case es:n=e=>{const t=e.detail&&e.detail.AdError,i=Object.assign({error:t,playerErrorCode:t.getErrorCode(),vastErrorCode:t.getVastErrorCode(),errorMessage:t.getMessage(),sourceError:t.getInnerError()},c.getState(),l.getState());return c.clearState(),i};break;case ns:n=e=>({playlistItemCount:r.getPlaylistCount(d),autostart:d.$ima.autoplay});break;case as:n=e=>{const t=r.getMedia(d),i=r.getValidMediaUrl(t&&t.src,d.src,e&&e.target&&e.target.currentSrc);return{contentId:t&&t.id,contentUrl:i,title:t&&t.title,description:t&&t.description,playlistIndex:r.getCurrentPlaylistIndex(d),contentTags:t&&t.contentTags}};break;case us:n=e=>{p=h;const t=d.currentTime(),i=d.duration();return l.updateForTimeEvent({currentTime:t,duration:i}),h=t,{position:h,duration:i}};break;case ps:n=e=>({position:p,destination:d.currentTime(),duration:d.duration()});break;case hs:n=()=>({position:d.currentTime(),duration:d.duration()});break;case gs:n=e=>({volumePercentage:100*d.$ima.volume});break;case vs:n=e=>{const t=e.detail.error;return{error:t,sourceError:t,errorCode:t.code||t.message,errorMessage:t.message}};break;case bs:n=e=>{p=h=0,l.clearState()};break;case As:n=e=>({fullscreen:d.isFullscreen()});break;case _s:n=e=>({height:d.currentHeight(),width:d.currentWidth()});break;default:return}const s=function(e,t,i,n){return r=>{if(n){const e=n(r);Object.assign(i,e)}t(e,i)}}(e,t,i,n);if(e===ns)return;const o=r.getVideoEventName(e);d.$ima.addEventListener(o,s)}(e,t,i)}))},offEvent:function(e,t){},destroy:function(){}}}const oo={getSetupConfig:function(e){if(!e)return;const t=(e.params||{}).vendorConfig||{};return void 0===t.autostart&&void 0!==e.autostart&&(t.autostart=e.autostart),void 0===t.muted&&void 0!==e.mute&&(t.muted=e.mute),t},getAdConfig:function(e){const t=e&&e.params;return t&&t.adPluginConfig||{}},getPositionCode:function(e){let{left:t,top:i,width:n,height:r}=e;const s=window.innerHeight-i-r,o=window.innerWidth-t-n;return t<0||o<0||i<0?Ds.UNKNOWN:s>=0?Ds.ABOVE_THE_FOLD:Ds.BELOW_THE_FOLD},getVideoEventName:function(e){switch(e){case Fr:return"ready";case zr:return"error";case qr:return"dispose";case Vr:return"ads-request";case Wr:return"loaded";case Hr:return"start";case Yr:return"impression";case Jr:return"resume";case Qr:return"pause";case Kr:return"adProgress";case Xr:return"click";case ts:return"allAdsCompleted";case Zr:return"skip";case es:return"adError";case vs:return"error";default:return e}},getMedia:function(e){return null},getValidMediaUrl:function(e,t,i){return this.getMediaUrl(e)||this.getMediaUrl(t)||this.getMediaUrl(i)},getMediaUrl:function(e){if(e)return Array.isArray(e)&&e.length?this.parseSource(e[0]):this.parseSource(e)},parseSource:function(e){const t=typeof e;return"string"===t?e:"object"===t?e.src:void 0},getPlaylistCount:function(e){const t=e.playlist;return t?t.lastIndex&&t.lastIndex()+1:1},getCurrentPlaylistIndex:function(e){const t=e.playlist;return t?t.currentIndex&&t.currentIndex():0},getCurrentPlaylistItem:function(e){const t=e.playlist;if(!t)return;const i=this.getCurrentPlaylistIndex(e);if(!i)return;return t()[i]}};function ao(e){return so(e,function(){const e=Object.assign({},ro());return e.updateForEvent=function(e){if(!e)return;const t=e.skippable,i={adId:e.adId,adServer:e.adSystem,advertiserName:e.advertiserName,redirectUrl:e.clickThroughUrl,creativeId:e.creativeId||e.creativeAdId,dealId:e.dealId,adDescription:e.description,linear:e.linear,creativeUrl:e.mediaUrl,adTitle:e.title,universalAdId:e.universalAdIdValue,creativeType:e.contentType,wrapperAdIds:e.adWrapperIds,skip:t?1:0},n=e.adPodInfo;if(n&&n.podIndex>-1&&(i.adPodCount=n.totalAds,i.adPodIndex=n.adPosition-1),n&&n.timeOffset)switch(n.timeOffset){case-1:i.offset="post";break;case 0:i.offset="pre";break;default:i.offset=""+n.timeOffset}t&&(i.skipafter=e.skipTimeOffset),this.updateState(i)},e}(),function(){const e=Object.assign({},ro());function t(e){return e>0?ks.VOD:e<0?ks.DVR:ks.LIVE}return e.updateForTimeEvent=function(e){const{currentTime:i,duration:n}=e;this.updateState({time:i,duration:n,playbackMode:t(n)})},e}(),0,oo)}ao.vendorCode=99,(0,Ps.bz)("video",ao);(0,Pr.E)("yollaVideoProvider");var co,lo=i(1697);!function(e){e.ERROR="error",e.AD_ERROR="adError",e.AD_BREAK_READY="adBreakReady",e.AD_BUFFERING="adBuffering",e.AD_METADATA="adMetadata",e.AD_PROGRESS="adProgress",e.ALL_ADS_COMPLETED="allAdsCompleted",e.CLICK="click",e.COMPLETE="complete",e.CONTENT_PAUSE_REQUESTED="contentPauseRequested",e.CONTENT_RESUME_REQUESTED="contentResumeRequested",e.DURATION_CHANGE="durationChange",e.FIRST_QUARTILE="firstQuartile",e.IMPRESSION="impression",e.INTERACTION="interaction",e.LINEAR_CHANGED="linearChanged",e.LOADED="loaded",e.LOG="log",e.MIDPOINT="midpoint",e.PAUSED="pause",e.RESUMED="resume",e.SKIPPABLE_STATE_CHANGED="skippableStateChanged",e.SKIPPED="skip",e.STARTED="start",e.THIRD_QUARTILE="thirdQuartile",e.USER_CLOSE="userClose",e.VOLUME_CHANGED="volumeChange",e.VOLUME_MUTED="mute",e.ADS_MANAGER_LOADED="adsManagerLoaded"}(co||(co={}));const uo=co;class po extends Kt{constructor(e,t,i){super(),(0,Me.A)(this,"_inited",!1),(0,Me.A)(this,"_started",!1),(0,Me.A)(this,"_el",void 0),(0,Me.A)(this,"_adsRenderingSettings",null),(0,Me.A)(this,"_adDisplayContainer",null),(0,Me.A)(this,"_adsLoader",null),(0,Me.A)(this,"_adsManager",null),(0,Me.A)(this,"_adsRequest",null),(0,Me.A)(this,"_currentAd",null),(0,Me.A)(this,"_currentError",void 0),(0,Me.A)(this,"_vastURLHistory",[]),(0,Me.A)(this,"_cuePoints",[]),(0,Me.A)(this,"_options",void 0),(0,Me.A)(this,"_adData",null),(0,Me.A)(this,"_debugInfo",{}),(0,Me.A)(this,"_triedRecover",!1),this._el=e,this._options=t,this._debugInfo=i,this._resetAd(),this._onAdsManagerLoaded=this._onAdsManagerLoaded.bind(this),this._onAdsManagerLoadError=this._onAdsManagerLoadError.bind(this)}get started(){return this._started}get autoplay(){return this._options.autoplay}set autoplay(e){this._options.autoplay=e}set volume(e){var t;this._options.volume=e,null===(t=this._adsManager)||void 0===t||t.setVolume(e)}get volume(){return this._adsManager?this._adsManager.getVolume():this._options.volume}get paused(){return"pause"===this._adData.videoAdStatus}get playing(){return"loaded"===this._adData.videoAdStatus||"start"===this._adData.videoAdStatus||"resume"===this._adData.videoAdStatus}get muted(){var e;return 0===(null===(e=this._adsManager)||void 0===e?void 0:e.getVolume())}set muted(e){var t;this._options.muted=e,this._options.muted||0!==this._options.volume||(this._options.volume=$e.jP),null===(t=this._adsManager)||void 0===t||t.setVolume(this._options.muted?0:this._options.volume)}get duration(){return this._adData.videoAdDuration}get currentTime(){return this._adData.currentTime}get timeRemaining(){return this.duration-this.currentTime}get adData(){return this._adData}get currentAd(){return this._currentAd}get vastURLHistory(){return this._vastURLHistory}get adsManager(){return this._adsManager}get currentError(){return this._currentError}_setCuePoints(e){this._cuePoints=[...e]}_handleAdsManagerEvents(e){const t=google.ima.AdEvent.Type;switch(e.type){case t.AD_METADATA:break;case t.LOADED:this._adData.videoAdStatus=e.type,this._adData.waterfallIndex++,this._adData.updatedAt=Date.now();const i=e.getAd();this._currentAd=i,this.dispatchEvent(new CustomEvent(t.LOADED,{detail:i}));break;case t.AD_BREAK_READY:this._readyToPlay();break;case t.STARTED:this._currentError=void 0,this._adData.videoAdStatus=e.type,this._adData.updatedAt=Date.now();const n=this._currentAd=e.getAd();if(n){let e=n.getContentType();e&&"text"!==e&&e.indexOf("image")<0&&n.getAdPodInfo().getAdPosition()>1&&this._adsManager.setVolume(this._adsManager.getVolume()),this._el.classList.remove("nonlinear"),n.isLinear()?(this._adData.videoAdDuration=n.getDuration(),this._adData.currentTime=0,this._adData.videoAdInViewDuration=0):this._el.classList.add("nonlinear"),this._el.style.display=""}this.dispatchEvent(new CustomEvent(t.STARTED,{detail:n}));break;case t.VOLUME_CHANGED:const r=e.getAd();this.qd(e.type,r);break;case t.PAUSED:case t.RESUMED:this._adData.videoAdStatus=e.type;break;case t.AD_PROGRESS:const s=e.getAdData();let o=s.currentTime-this._adData.currentTime;this._adData.currentTime=s.currentTime,this._adData.videoAdDuration=s.duration,o>0?this._adData.updatedAt=Date.now():0===o&&s.currentTime>s.duration&&(this._triedRecover||(this._triedRecover=!0,this.pause(),setTimeout((()=>{this.resume()}),500))),this.dispatchEvent(new CustomEvent(t.AD_PROGRESS,{detail:{remain:s.duration-s.currentTime,currentTime:s.currentTime,duration:s.duration,lastPlayedTime:o}}));break;case t.IMPRESSION:this._adData.videoAdStatus=e.type,this.qd(e.type,e.getAdData());break;case t.SKIPPED:this._adData.videoAdStatus=e.type,this.qd(e.type,{});break;case t.COMPLETE:case t.ALL_ADS_COMPLETED:this._currentError||(this._adData.videoAdStatus=e.type,this.qd(e.type,{}))}}_onAdsManagerLoaded(e){var t;this._adsManager=e.getAdsManager({currentTime:0,volume:this.muted?0:this.volume},this._adsRenderingSettings);for(const e in google.ima.AdEvent.Type)if(Object.prototype.hasOwnProperty.call(google.ima.AdEvent.Type,e)){const t=google.ima.AdEvent.Type[e];this._adsManager.addEventListener(t,(e=>{this._handleAdsManagerEvents(e)}))}this._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>{this._onAdError(e)})),null===(t=this._adsManager)||void 0===t||t.init(this._el.offsetWidth,this._el.offsetHeight,this._getViewMode()),this.dispatchEvent(new CustomEvent(uo.ADS_MANAGER_LOADED,{detail:e}))}_onAdsManagerLoadError(e){this._onAdError(e)}_onError(e){this._adData.videoAdStatus=uo.ERROR,this.dispatchEvent(new CustomEvent(uo.ERROR,{detail:{error:(0,lo.A)(e+""),AdError:null,code:e,message:e}}))}_onAdError(e){this._currentError=e,this._adData.videoAdStatus=uo.AD_ERROR;let t=null==e?void 0:e.getError(),i=t?t.getErrorCode():0;this.dispatchEvent(new CustomEvent(uo.AD_ERROR,{detail:{error:(0,lo.A)(i+""),AdError:t}}))}_resetAd(){this._currentError=void 0,this._adsRequest=null,this._currentAd=null,this._cuePoints=[],this._triedRecover=!1,this._adData={isVideoAdData:!0,adWrapperIds:[],adWrapperSystems:[],adSystem:"",contentType:"",vastUrl:"",currentTime:-1,vastURLHistory:this._vastURLHistory,waterfallIndex:-1,autoplay:this.autoplay,muted:this.muted,volume:this.volume,videoAdInViewDuration:-1,videoAdStatus:"n/a",videoAdDuration:-1,updatedAt:Date.now()}}_getViewMode(){return Rr.isEnabled&&Rr.isFullscreen&&Rr.element===this._el?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL}_resizeAdManager(e,t){this._adsManager&&(this._currentAd&&!this._currentAd.isLinear()&&this._currentAd.getWidth()<e&&this._currentAd.getHeight()<t||e>0&&t>0&&this._adsManager.resize(e,t,this._getViewMode()))}initIma(){this._inited||(this._inited=!0,this._adsRenderingSettings=new google.ima.AdsRenderingSettings,this._adsRenderingSettings.loadVideoTimeout=this._options.loadVideoTimeout,this._adDisplayContainer=new google.ima.AdDisplayContainer(this._el),this._adsLoader=new google.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this._adsLoader.getSettings().setNumRedirects($e.hE),this._adsLoader.getSettings().setAutoPlayAdBreaks(!0),this._adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1),this._adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdsManagerLoadError,!1),this._adDisplayContainer.initialize())}resetAdData(){this._resetAd()}resetAdManager(){this._adsManager&&this._adsManager.destroy&&(this._adsManager.destroy(),this._adsManager=null,this._started=!1)}requestAds(e,t){var i;this._resetAd(),this.resetAdManager(),this.resizeAd(),this.initIma(),this._adsRequest=new google.ima.AdsRequest,this._debugInfo.enabled&&this._debugInfo.vastURL&&(e=this._debugInfo.vastURL),gt(e)?this._adsRequest.adTagUrl=e:this._adsRequest.adsResponse=e,this._adsRequest.vastLoadTimeout=$e.MP,this._adsRequest.linearAdSlotWidth=t.width,this._adsRequest.linearAdSlotHeight=t.height,this._adsRequest.nonLinearAdSlotWidth=t.width,this._adsRequest.nonLinearAdSlotHeight=t.height,this._adsRequest.forceNonLinearFullSlot=!0,this._adsRequest.setAdWillAutoPlay(this.autoplay),this._adsRequest.setAdWillPlayMuted(0===this.volume),this.qd(Ht.l$,{adsRequest:this._adsRequest}),null===(i=this._adsLoader)||void 0===i||i.requestAds(this._adsRequest)}_readyToPlay(){this._adsManager&&(this._adsManager.start(),this._started=!0)}raiseVideoAdError(e){this._onError(e)}play(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{this._started?this.resume():(this.autoplay||e)&&this._readyToPlay()}catch(e){this._onError(Pe.A.IMA_MAR_INIT_ERROR)}return!0}resizeAd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e<1?this._el.offsetWidth:e,t=t<1?this._el.offsetHeight:t,this._resizeAdManager(e,t)}stop(){this._adData.videoAdStatus="stop";try{var e;null===(e=this._adsManager)||void 0===e||e.stop()}catch(e){}}pause(){var e;return null===(e=this._adsManager)||void 0===e?void 0:e.pause()}resume(){var e;this._currentAd&&(null===(e=this._adsManager)||void 0===e||e.resume())}getCurrentAdData(){var e,t,i,n;return Object.assign({},this._adData,{adWrapperIds:null===(e=this.currentAd)||void 0===e?void 0:e.getWrapperAdIds(),adWrapperSystems:null===(t=this.currentAd)||void 0===t?void 0:t.getWrapperAdSystems(),adSystem:null===(i=this.currentAd)||void 0===i?void 0:i.getAdSystem(),contentType:null===(n=this.currentAd)||void 0===n?void 0:n.getContentType(),vastURLHistory:this.vastURLHistory})}setCurrentAdPlayedInviewDuration(e){this._adData.videoAdInViewDuration+=e}destroyIma(){var e,t,i,n;this.stop(),null===(e=this._adsLoader)||void 0===e||e.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1),null===(t=this._adsLoader)||void 0===t||t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdsManagerLoadError,!1),null===(i=this._adsLoader)||void 0===i||i.destroy(),null===(n=this._adDisplayContainer)||void 0===n||n.destroy(),this._adsLoader=null,this._adDisplayContainer=null,this._inited=!1,this._started=!1,this.destroy()}}function ho(e){let t=getComputedStyle(e);return["absolute","fixed","sticky"].indexOf(t.position)<0}class fo{constructor(){(0,Me.A)(this,"_el",void 0),this._el=(0,qi.JW)("svg",{width:60,height:60,viewBox:"0 0 60 60"},(0,qi.JW)("g",{},(0,qi.JW)("path",{d:"M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30\nc0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15\nC45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z"}),(0,qi.JW)("path",{d:"M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30\n        S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z"})))}get el(){return this._el}}const go=class extends Ir{constructor(e,t,i){i.type+=".ympb_hide",super(e,t,i),this.append((new fo).el),this.appendNew({type:"div",class:"ympb_video_play_btn--text",innerText:"Play"})}};class mo{constructor(){(0,Me.A)(this,"_el",void 0),(0,Me.A)(this,"_muted",!1),this._el=(0,qi.JW)("svg",{width:52,height:52,viewBox:"0 0 52 52"},(0,qi.JW)("g",{},(0,qi.JW)("path",{class:"ympb_video_mute_btn--muted",d:"M46.414,26l7.293-7.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L45,24.586l-7.293-7.293\n                    c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L43.586,26l-7.293,7.293c-0.391,0.391-0.391,1.023,0,1.414\n                    C36.488,34.902,36.744,35,37,35s0.512-0.098,0.707-0.293L45,27.414l7.293,7.293C52.488,34.902,52.744,35,53,35\n                    s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L46.414,26z"}),(0,qi.JW)("path",{d:"M28.404,4.4c-0.975-0.552-2.131-0.534-3.09,0.044c-0.046,0.027-0.09,0.059-0.13,0.093L11.634,16H1c-0.553,0-1,0.447-1,1v19\n                    c0,0.266,0.105,0.52,0.293,0.707S0.734,37,1,37l10.61-0.005l13.543,12.44c0.05,0.046,0.104,0.086,0.161,0.12\n                    c0.492,0.297,1.037,0.446,1.582,0.446c0.517-0.001,1.033-0.134,1.508-0.402C29.403,49.035,30,48.005,30,46.844V7.156\n                    C30,5.995,29.403,4.965,28.404,4.4z M28,46.844c0,0.431-0.217,0.81-0.579,1.015c-0.155,0.087-0.548,0.255-1,0.026L13,35.556V31\n                    c0-0.553-0.447-1-1-1s-1,0.447-1,1v3.996L2,35V18h9v4c0,0.553,0.447,1,1,1s1-0.447,1-1v-4.536l13.405-11.34\n                    c0.46-0.242,0.86-0.07,1.016,0.018C27.783,6.347,28,6.725,28,7.156V46.844z"}),(0,qi.JW)("path",{class:"ympb_video_mute_btn--unmuted",d:"M40.293,20.293c-0.391,0.391-0.391,1.023,0,1.414c4.297,4.297,4.297,11.289,0,15.586c-0.391,0.391-0.391,1.023,0,1.414\n                    C40.488,38.902,40.744,39,41,39s0.512-0.098,0.707-0.293c5.077-5.077,5.077-13.337,0-18.414\n                    C41.316,19.902,40.684,19.902,40.293,20.293z"})))}set muted(e){this._muted=e}get el(){return this._el}}const vo=class extends Ir{constructor(e,t,i){super(e,t,i),(0,Me.A)(this,"_countdownInterval",null),(0,Me.A)(this,"_duration",0),(0,Me.A)(this,"_mode",2),(0,Me.A)(this,"_command",null),(0,Me.A)(this,"_commandId",""),(0,Me.A)(this,"_data",{}),(0,Me.A)(this,"_countdownEl",null),this._duration=this._options.duration||0,this._mode=this._options.tickMode||1,this._command=()=>{this.duration<=0?this.onCountdownFihished("finished"):this.duration-=1},this._options.text&&(this._countdownEl=(0,qi.el)("span",{class:"ympb_video_duration",innerText:"00:00"}),(0,qi.Or)(this.ele,this._countdownEl),this.updateText())}get duration(){return this._duration}set duration(e){this._duration=e,this.updateText(e)}updateText(e){this._countdownEl&&(this._countdownEl.innerText=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(isNaN(e)||e<=0)return"00:00";let i=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,r=(e%60).toFixed(t);return(i>0?(i<10?"0"+i:i)+":":"")+(n<10?"0"+n:n)+":"+(+r<10?"0"+r:r)}(e||this.duration,0))}hideText(){}stop(){if(2===this._mode){Ud.getMainTickerInstanse().removeProcesser(this._commandId),this._commandId=""}else clearInterval(this._countdownInterval)}start(){if(!(this.duration<0))if(this.stop(),2===this._mode){let e=Ud.getMainTickerInstanse();this._commandId=e.addProcesser({activated:!0,fn:this._command,calller:this,duration:1e3,priority:0,params:{}})}else this._countdownInterval=setInterval(this._command,1e3)}onCountdownFihished(e){this.stop(),this._data.type=e,this._data.durationRemains=this.duration,this.dispatchEvent(new CustomEvent(Ht.ZP,{detail:{data:this._data}}))}setData(e,t){this._data[e]=t}startCountdown(e){e&&e>0&&(this.duration=e),this.start()}stopCountdown(){this.stop(),this.duration=0,this.onCountdownFihished("skiped")}reset(){this.duration=this._options.duration||0}destroy(){this.stop(),super.destroy()}};const bo=class extends Ir{constructor(e,t,i){i.type+=".ympb_hide",super(e,t,i),(0,Me.A)(this,"$countdown",null),(0,Me.A)(this,"$skipBtn",null),(0,Me.A)(this,"$muteBtn",void 0),this.actived=!1,this.appendNew({type:"span",class:"ympb_video_countdown--text",innerText:"Advertisement - "+this._options.text}),this.$countdown=new vo(this.ele,"ympb_video_countdown--msg",{type:"span",text:"true",tickMode:2,duration:0,class:"ympb_video_countdown--msg"}),this.appendNew({type:"span",class:"ympb_video_header--gap",innerHTML:"&nbsp;"}),this.$skipBtn=new vo(this.ele,"ympb_video_skip_btn",{type:"a",text:"",tickMode:2,duration:8,class:"ympb_video_skip_btn ympb_hide",innerText:"Skip AD",onclick:e=>{e&&e.preventDefault(),this.$countdown.stopCountdown()}}),this.$skipBtn.addEventListener(Ht.ZP,(()=>{this.$skipBtn.show()})),this.$muteBtn=new Ir(this.ele,"muteBtn",{type:"a",class:"ympb_video_mute_btn ympb_hide",href:"#"}),this.$muteBtn.append((new mo).el);let n=yr({width:16,height:16,color:"#fff",backgroundColor:$e.GV},!0),r=this.appendNew({type:"a",class:"ympb-logo",href:$e.R$,target:"_blank"});(0,qi.Or)(r,n)}};function yo(e,t){let i=e.style.width?e.style.width.match(/^([\d\.]+)%$/):null;(i?+i[1]:0)!==t&&(0,qi.eC)(e,{width:"".concat(t,"%")})}const Ao=class extends Ir{constructor(e,t,i){i.type+="",super(e,t,i),this.appendNew({type:"div",class:"ympb_loader"})}};class _o extends Kt{constructor(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};super(),(0,Me.A)(this,"_slotEl",void 0),(0,Me.A)(this,"_dfpContainer",void 0),(0,Me.A)(this,"$playBtn",null),(0,Me.A)(this,"$loadingBar",void 0),(0,Me.A)(this,"_playerBodyContainer",void 0),(0,Me.A)(this,"_playerBodyEl",void 0),(0,Me.A)(this,"_videoContainerEl",void 0),(0,Me.A)(this,"_hasUserInteraction",!1),(0,Me.A)(this,"$clickPromise",null),(0,Me.A)(this,"_fullscreen",!1),(0,Me.A)(this,"_width",100),(0,Me.A)(this,"_height",0),(0,Me.A)(this,"_aspectRatio",0),(0,Me.A)(this,"_isResponsiveEnabled",!0),(0,Me.A)(this,"_isDispayFallbackMode",!1),(0,Me.A)(this,"_delayOnError",.75),(0,Me.A)(this,"_isReady",!1),(0,Me.A)(this,"_skipTime",8),(0,Me.A)(this,"_videoConfig",void 0),(0,Me.A)(this,"_cbStack",{ready:[]}),(0,Me.A)(this,"_failsafeTimer",null),(0,Me.A)(this,"$ima",null),(0,Me.A)(this,"vendorCode",$e.Tf),(0,Me.A)(this,"$playerHeader",null),(0,Me.A)(this,"onResize",void 0);let s=n.autoplay,o=n.aspectRatio?+n.aspectRatio:0;this._slotEl=e,this._dfpContainer=t,this._width=n.width?+n.width:100,this._height=n.height?+n.height:0,this._delayOnError=n.delayOnError,this._isResponsiveEnabled=n.responsive,this._fullscreen=n.fullscreen,this._skipTime=n.skipTime?n.skipTime:0,this._videoConfig=i,this._width>100&&this._height>0&&(this._isResponsiveEnabled=!1),o<.1&&(o=et),this._aspectRatio=o;let a=n.volume>0?+n.volume:0;if(a>1&&(a/=100),!this._videoConfig.playbackmethod){let e=0;e=s?a>0?tt:it:a>0?nt:rt,this._videoConfig.playbackmethod=[e]}this._playerBodyContainer=(0,qi.el)("div",{class:"ympb_video_slot"}),this._width>100?this.setPlayerSize():this.setPlayerWidthPercentage(this._width),(0,qi.Or)(this._dfpContainer,this._videoContainerEl=(0,qi.el)("div",{class:"ympb_video_container"},this._playerBodyEl=(0,qi.el)("div",{class:"ympb_video_body"},this._playerBodyContainer))),this.$loadingBar=new Ao(this._playerBodyEl,"ympb_loader_container",{type:"div",class:"ympb_loader_container"}),this.$playBtn=new go(this._playerBodyEl,"ympb_video_play_btn",{type:"div",class:"ympb_video_play_btn"}),this.$playBtn.ele.addEventListener("click",(()=>{this._hasUserInteraction=!0,this.$ima&&this.startToPlay(!this.$ima.started&&this._fullscreen)})),this.$playerHeader=new bo(this._dfpContainer.parentElement,"ympb_video_header",{type:"div.ympb_video_header",text:n.countdownMsg||""}),!0===n.header&&(this.$playerHeader.actived=!0),this.$playerHeader.$muteBtn.ele.addEventListener("click",(e=>{e.preventDefault(),this.toggleMuted()})),this.$playerHeader.$countdown.addEventListener(Ht.ZP,(()=>{var e;null===(e=this.$ima)||void 0===e||e.stop()})),this.initImaAdapter({volume:a,muted:0===a,loadVideoTimeout:1e3*n.loadVideoTimeout,autoplay:s,autoResize:!0},r),this.isReadyToStart?this.hidePlayButton():this.showPlayButton(),this.onResize=kr(this._resize.bind(this),1e3,{leading:!1,trailing:!0}),this.onVisibleChange=this.onVisibleChange.bind(this),this._isResponsiveEnabled&&this._resize(),this._ready()}get videoConfig(){return this._videoConfig}get isDisplayFallbackMode(){return this._isDispayFallbackMode}get el(){return this._dfpContainer}get fullscreen(){return this._fullscreen}set fullscreen(e){this._fullscreen=e}set hasUserInteraction(e){this._hasUserInteraction=!0}get hasUserInteraction(){return this._hasUserInteraction}get isReadyToStart(){var e;return this.hasUserInteraction||(null===(e=this.$ima)||void 0===e?void 0:e.autoplay)}get playlist(){return null}initImaAdapter(e,t){this.$ima=new po(this._playerBodyContainer,e,t),this.$ima.addEventListener(uo.LOADED,(()=>{this.$playerHeader.$muteBtn.show(),this.updateMuteButton()}),!1),this.$ima.addEventListener(uo.AD_PROGRESS,(e=>{this.$playerHeader.$countdown.duration=e.detail.remain}),!1),this.$ima.addEventListener(uo.STARTED,(e=>{this.hidePlayButton(),this.clearFailsafeTimeout(),this.resetSkipTimer(),this.$loadingBar.hide();let t=e.detail.isLinear()?e.detail.getDuration():0;this.$playerHeader.$countdown.duration=t,this.updateMuteButton(),e.detail.isLinear()||this.showSkipButton()}),!1),this.$ima.addEventListener(uo.ERROR,(()=>{this.clearFailsafeTimeout()}),!1),this.$ima.addEventListener(uo.AD_ERROR,(()=>{this.clearFailsafeTimeout()}),!1),this.$ima.addEventListener(uo.PAUSED,(()=>{this.showPlayButton()}),!1),this.$ima.addEventListener(uo.VOLUME_CHANGED,(()=>{this.updateMuteButton()}),!1),this.$ima.addEventListener(uo.ADS_MANAGER_LOADED,(()=>{this.isReadyToStart?this._hasUserInteraction&&this._fullscreen&&!this.$ima.started?this.enterFullscreen().then((()=>{this.startToPlay(!0)})).catch((()=>{this.startToPlay(!1)})):this.startToPlay(!1):this.showPlayButton()}),!1)}showSkipButton(){this.$playerHeader.$skipBtn.show(),this.removeSkipTimer()}hideSkipButton(){this.$playerHeader.$skipBtn.hide()}showPlayButton(){this.$loadingBar.hide(),this.$playBtn.show()}hidePlayButton(){this.$playBtn.hide()}updateMuteButton(){0===this.$ima.volume?this.$playerHeader.$muteBtn.ele.classList.add("muted"):this.$playerHeader.$muteBtn.ele.classList.remove("muted")}toggleMuted(){this.$ima.muted=!this.$ima.muted,this.updateMuteButton()}removeSkipTimer(){this.$playerHeader.$countdown.stop()}clearFailsafeTimeout(){clearTimeout(this._failsafeTimer)}setFailsafeTimeout(){this.clearFailsafeTimeout(),this._failsafeTimer=setTimeout((()=>{this.error(Pe.A.FAILSAFE_TIMEOUT)}),$e.Wg)}resetSkipTimer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.hideSkipButton(),this.removeSkipTimer();let t=e||this._skipTime;t>1&&(this.$playerHeader.$skipBtn.duration=t,this.$playerHeader.$skipBtn.startCountdown())}startToPlay(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$loadingBar.show(),this.hidePlayButton(),e&&this.enterFullscreen(),this.$ima.play(!0)}getUseableSize(){let e=this._slotEl.offsetWidth,t=this._slotEl.offsetHeight,i=null;return i=ho(this._slotEl)?mr(this._slotEl,(e=>!ho(e)||e.offsetHeight<t),!1):this._slotEl,i||(i=mr(this._slotEl,(e=>e.offsetHeight>=t))),i?[i.offsetWidth,i.offsetHeight]:[e,t]}setPlayerSize(){(0,qi.eC)(this._slotEl,{width:"".concat(this._width,"px"),height:"".concat(this._height>1?this._height:Math.round(this._width*this._aspectRatio),"px")})}setPlayerWidthPercentage(e){e>1&&e<=100&&yo(this._slotEl,e)}setWrapperSize(e){let t=this._slotEl.offsetWidth,i=this._slotEl.offsetHeight;if(e[1]>i&&e[1]-i<=1)return null;let n=function(e,t,i){if(void 0===i||i>1){let n=[Math.min(e[0],t[0]),Math.min(e[1],t[1])];i=n[0]/n[1]<=t[0]/t[1]?0:1}let n=e[i]/t[i];return t.map((e=>Math.round(e*n)))}(e,[t,i],1);if(n[0]=n[1]/this._aspectRatio,Math.abs(n[1]-i)<=1)return null;let r=Math.ceil(1/this._aspectRatio)+1;if(t-n[0]>0&&t-n[0]<=r)return null;let s=n[0]/e[0];return s=(100*s).toFixedNoRounding(4),s>this._width&&(s=this._width),this.setPlayerWidthPercentage(s),n}setAspectRatio(e){let t=this._aspectRatio;if(t<=.1)return;if((0,qi.eC)(this._playerBodyEl,{paddingBottom:"".concat(100*t,"%")}),!e)return void yo(this._videoContainerEl,100);e[1]-=this.$playerHeader.height;let i=[e[1]/t,e[1]],n=this._videoContainerEl.offsetWidth,r=Math.ceil(1/this._aspectRatio)+1;if(i[0]>n&&i[0]-n<=r)return;let s=i[0]/e[0];s=(100*s).toFixedNoRounding(4),s>100&&(s=100),yo(this._videoContainerEl,s)}_resize(){if(this._dfpContainer.classList.contains(en))return!1;if(this._isResponsiveEnabled){let e=this.setWrapperSize(this.getUseableSize());e&&this.setAspectRatio(e)}else this._aspectRatio&&this.setAspectRatio(null);this.$ima&&this.$ima.resizeAd()}enterFullscreen(){return Rr.isEnabled?Rr.request(this._slotEl).then((()=>{this._fullscreen=!0})).catch((()=>{this._fullscreen=!1})):(this._fullscreen=!1,Promise.reject())}exitFullscreen(){Rr.isEnabled&&Rr.element===this.el&&Rr.exit(),this._fullscreen=!1}_ready(){this._isReady=!0,this._cbStack.ready.forEach((e=>{e.call(void 0)})),this._cbStack.ready.length=0}getPlayerSize(){return[this._videoContainerEl.offsetWidth,this._videoContainerEl.offsetHeight]}onVisibleChange(e){e.detail.viewbility?this.playOrResume():this.pause()}ready(e){this._isReady?e.call(void 0):this._cbStack.ready.push(e)}requestAds(e){this.setFailsafeTimeout();let t=[this.currentWidth(),this.currentHeight()];gt(e)&&(e=Un(e)),this.$ima.requestAds(e,{width:t[0],height:t[1]})}playOrResume(){this.$ima.started?this.$ima.resume():this.isReadyToStart&&this.startToPlay()}pause(){this.$ima.started&&this.$ima.pause()}stop(){this.clearFailsafeTimeout(),this.$ima.stop(),this.$ima.resetAdData()}getMedia(){return null}duration(){return this.$ima.duration}currentTime(){return this.$ima.currentTime}isFullscreen(){return this._fullscreen}currentHeight(){return this.currentWidth()*this._aspectRatio}currentWidth(){return Math.floor(this._playerBodyContainer.offsetWidth)}error(e){this.$ima&&this.$ima.raiseVideoAdError(e)}adCompleted(){}removeIma(){this.clearFailsafeTimeout(),this.$ima.destroyIma(),_r(this._playerBodyContainer),this.$clickPromise=null,this.$playBtn.destroy()}switchToDisplayFallback(e,t){this.removeIma(),this.resetSkipTimer($e.Jp),this.$loadingBar.hide(),this.$playerHeader.$muteBtn.hide(),this.$playerHeader.$countdown.setData("gid",e),this.$playerHeader.$countdown.startCountdown($e.st),this.$playerHeader.$countdown.one(Ht.ZP,t),this._playerBodyContainer.classList.add(tn)}insertDisplayFallback(e){for(let t=0;t<e.length;t++){const i=e[t];on(this._playerBodyContainer,i)}}destroy(){this.removeSkipTimer();try{this.$playerHeader.destroy(),this.exitFullscreen(),this.removeIma()}catch(e){}finally{this.$ima=null}}}var Eo=i(9614),Io=i(1375);let wo=null;function So(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return window.google&&window.google.ima?Promise.resolve(!0):(wo||(wo=new Xt.A,Io.A.load(e?Eo.w9:Eo.K0).then((()=>{wo.resolve(!0)})).catch((()=>t?Io.A.load(Eo.hZ):Promise.reject(!1))).then((()=>{wo.resolve(!0)})).catch((()=>{wo.reject(!1)}))),wo.promise)}const Co={local:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAJ21kYXQBQCKAo3hQhS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vAAAC8G1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAAALAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIadHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAALAAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAAB////9QAACAAAAQAAAAABkm1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAABdwAAAAQAVcQAAAAAAC1oZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU291bmRIYW5kbGVyAAAAAT1taW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAQFzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAAAAAAAAAAADNlc2RzAAAAAAOAgIAiAAEABICAgBRAFQAAAAAAWtIAAFrSBYCAgAIQCAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAAABAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAfAAAAAQAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAEAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",yolla:"https://portal.cdn.yollamedia.com/storage/media/vid.mp4",remote:""};class To{constructor(e){(0,Me.A)(this,"autoplayAllowed",!1),(0,Me.A)(this,"autoplayRequiresMuted",!0),(0,Me.A)(this,"videoContent",null),(0,Me.A)(this,"$deferred",null),this.onAutoplayWithSoundSuccess=this.onAutoplayWithSoundSuccess.bind(this),this.onMutedAutoplayFail=this.onMutedAutoplayFail.bind(this),this.onMutedAutoplaySuccess=this.onMutedAutoplaySuccess.bind(this),this.onAutoplayWithSoundFail=this.onAutoplayWithSoundFail.bind(this),this.$deferred=new Xt.A,this.initPlayer(e)}initPlayer(e){this.videoContent=(0,qi.el)("video",{src:Co[e]||Co.local,type:"video/mp4",autoplay:!1,playsinline:"playsinline",style:{width:"300px",height:"200px",position:"fixed",top:"0px",left:"-1000px",zIndex:-1}}),(0,qi.Or)(document.body,this.videoContent)}autoplayChecksResolved(){let e={autoplayAllowed:this.autoplayAllowed,autoplayRequiresMuted:this.autoplayRequiresMuted};this.autoplayAllowed?this.$deferred.resolve(e):this.$deferred.reject(e),(0,qi.vs)(document.body,this.videoContent),this.videoContent=null,this.$deferred=null}onAutoplayWithSoundSuccess(){this.videoContent.pause(),this.autoplayAllowed=!0,this.autoplayRequiresMuted=!1,this.autoplayChecksResolved()}onMutedAutoplaySuccess(){this.videoContent.pause(),this.autoplayAllowed=!0,this.autoplayRequiresMuted=!0,this.autoplayChecksResolved()}onMutedAutoplayFail(){this.videoContent.volume=1,this.videoContent.muted=!1,this.autoplayAllowed=!1,this.autoplayRequiresMuted=!1,this.autoplayChecksResolved()}checkMutedAutoplaySupport(){this.videoContent.volume=0,this.videoContent.muted=!0;const e=this.videoContent.play();void 0!==e?e.then(this.onMutedAutoplaySuccess).catch(this.onMutedAutoplayFail):this.autoplayChecksResolved()}onAutoplayWithSoundFail(){this.checkMutedAutoplaySupport()}startTest(){this.videoContent.volume=1,this.videoContent.muted=!1;const e=this.videoContent.play();return void 0!==e?e.then(this.onAutoplayWithSoundSuccess).catch(this.onAutoplayWithSoundFail):this.autoplayChecksResolved(),this.$deferred.promise}}function Oo(){return new To("local").startTest().catch((()=>new To("yolla").startTest().catch()))}function xo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=ke.n.getAuctionByAdUnitCode(e);if(!i)return[];let n=i.getBidsReceivedByUnitCode(e);return t&&(n=n.filter((e=>"Bid available"===e.statusMessage))),n.length<1?[]:(n.sort($n),n)}function Ro(e){let t=xo(e,!0);return t.length<1?null:t[0]}function Do(e){let t=(i=e.adUnitCode,Le(YMPB.adUnits,{code:i}));var i;return!!t&&(t.video.adServer=t.video.adServer||{},t.video.adServer.params=Dn(e),YMPB.videoModule.renderWinningBid(t),!0)}function Uo(e){return e.isPreroll&&e.adUnitTemplate.video&&e.adUnitTemplate.video.divId?Do(e):function(e){let t=null;if(ke.n.getAuctionByAdUnitCode(e.adUnitCode)&&(t=Ro(e.adUnitCode)),!e.isOutstream){let i=jn(e,t);return ri(e.$adTag)&&e.$adTag.$yollaPlayer.requestAds(i),!0}return e.$status.requestingBid=t,!!t&&(e.$status.onBidWon(t),e.$adTag.directRenderAds(t))}(e)}function Bo(e,t){if(!1===Ud.checkGmiAllowed())return Promise.reject();if(e=e||Ud.getDeviceSlotType(),Ud.findAdUnit((e=>e.isGmi)))return Promise.reject();let i=new Xt.A,n={type:"".concat(e,"-","gmi"),status:"pendding"};t&&(n.parentSlot=t);let r=on(document.body,{dataset:n}),s=Ud.createAdUnit(r);return s.addEventListener(Ht.uq,(e=>{i.resolve(e.detail),Ud.removeAdUnit(s)})),Qt.dispatchEvent(new CustomEvent(Ht.vv,{detail:s.$status.getStatusData()})),i.promise}function ko(e,t){let i=(0,Vi.V)("#"+e),n=So(Ud.getOption("DEBUG"),!1);if(!i)throw new Error(Pe.A.ELEMENT_NOT_FOUND);return(0,Vi.V)(".ympb_target",i)?Promise.reject():n.then((()=>function(e,t){let i=new Xt.A,n=on(t,{dataset:{type:e,status:"pendding",videoType:"preroll"}}),r=Ud.createAdUnit(n);return r.addEventListener(Ht.uq,(e=>{i.resolve(e.detail),Ud.removeAdUnit(r)})),Qt.dispatchEvent(new CustomEvent(Ht.IM,{detail:r.$status.getStatusData()})),i.promise}("".concat(t,"-preroll"),i))).catch((()=>Bo(t)))}class Po extends Sr{constructor(e,t,i,n,r){super(e,t,i,n),(0,Me.A)(this,"_width",100),(0,Me.A)(this,"_options",void 0),(0,Me.A)(this,"_isDispayMode",!1),(0,Me.A)(this,"_imaContainer",void 0),(0,Me.A)(this,"$adUnit",void 0),(0,Me.A)(this,"_$playerLoadDeferred",new Xt.A),(0,Me.A)(this,"$yollaPlayer",null),this.$adUnit=r,this._options=i,this._imaContainer=(0,qi.el)("div#".concat(this._elId,"_ima.ympb_instanse_ima")),(0,qi.Or)(this._sizerEl,this._imaContainer),(0,qi.eC)(this._sizerEl,{width:"100%"}),this.onDisplayFallbackEnded=this.onDisplayFallbackEnded.bind(this)}get imaContainer(){return this._imaContainer}tryDirectRender(){if(this.$adUnit.$status.hasEverRefreshed())return!1;let e=Ro(this.$adUnit.adUnitCode),t=Ud.getCacheInstanse();return!!e&&(t.lockBid(e),this.directRenderAds(e),!0)}onDisplayFallbackEnded(){this.$yollaPlayer.showSkipButton(),this.$adUnit.end()}showDisplayFallback(){let e=this._options.ENABLE_DISPLAY_IN_PREROLL;if(e<1)return this.onDisplayFallbackEnded(),0;let t=at(),i=function(e,t){const i=qe,n=e[0]<460?100:0;let r=Ud.getCacheInstanse(),s=r.pickByArea("",e,t,i,!0,n),o=0,a=[];for(let e=0;e<s.length;e++){let t=s[e];if(!t)continue;const n=0===e,d=e===s.length-1;for(let e=0;e<t.length;e++){const s=t[e];if(!s)continue;const c=0===e;let l=[n?0:i/2,e===t.length-1?0:i/2,d?0:i/2,c?0:i/2],u=[],p={groupIndex:o++,groupType:"display_fallback"};"width"in s?(u=[s.width,s.height],p.adId=s.adId,p.type=s.adUnitCode.replace(/-\d+$/,""),r.lockBid(s)):u=s,p.subtype=pn(u);let h={dataset:p,style:{width:"".concat(u[0],"px"),height:"".concat(u[1],"px"),margin:l.join("px ")}};a.push(h)}}return a}(this.$yollaPlayer.getPlayerSize(),e);return i.length<1?(this.onDisplayFallbackEnded(),0):(this._isDispayMode=!0,this.$adUnit.$status.onEnterDisplayFallback(),this.$yollaPlayer.switchToDisplayFallback(t,this.onDisplayFallbackEnded),i=function(e,t,i){for(let n=0;n<e.length;n++){const r=e[n];if(Object.assign(r.dataset,{groupId:t,fluid:"false",multiMode:"disabled",refreshrate:0,parentSlot:i}),!r.dataset.type){let e=Ud.getDeviceSlotType(),t=hn(r.dataset.subtype);e.indexOf("mobile")>=0||t&&t[0]>=400?e+="-leaderboard-template":e+="-medrec-template",r.dataset.type=e}}return e}(i,t,this._ympbId),this.$yollaPlayer.insertDisplayFallback(i),i.length)}tryStaticFallback(){this.$adUnit.isPreroll&&(this._options.ENABLE_GMI_IN_PREROLL?(this.$adUnit.$status.onEnterGmiFallback(),Bo("",this._ympbId).then((e=>{if(e.statusData.isFail)throw new Error(Pe.A.GMI_EMPTY);this.$adUnit.end()})).catch((()=>{this.showDisplayFallback()}))):this.showDisplayFallback())}prerollFallbackLogic(){this._options.RENDER_NOFILL_PREOLL&&this.tryDirectRender()||(this.$adUnit.$status.counter<this._options.PREROLL_RETRY?fr([this.$adUnit],[],{attachPageUrlFlag:!0,enableQuickRequest:!1}):this.tryStaticFallback())}onAdError(e){let t="";e.detail.AdError?t="ima_"+e.detail.AdError.getErrorCode():e.detail.error&&(t="yolla_ima_"+e.detail.error.message),this.$adUnit.$status.onError(t),this.$adUnit.isPreroll&&this.prerollFallbackLogic()}onPlayerError(e){let t="yolla_player_error";e.detail.message?t="yolla_"+e.detail.message:e.detail.error&&(t="yolla_player_"+e.detail.error.message),this.$adUnit.$status.onError(t),this.tryStaticFallback()}loadPlayer(e){let t=this.$adUnit.slotDataset;this.$adUnit.isOutstream&&this.$adUnit.hide(),this.$yollaPlayer=new _o(this._el,this._imaContainer,this.$adUnit.adUnitTemplate.mediaTypes.video,t,e.DEBUG),function(e){let t=Ud.getOptionInstanse().getOptions(),i=Ud.findAdUnit({adUnitCode:e});if(i&&ri(i.$adTag)){let n=i.$adTag.$yollaPlayer,r={divId:e,player:n,vendorCode:n.vendorCode,playerConfig:{params:{adPluginConfig:{numRedirects:10,vastLoadTimeout:$e.MP,showCountdown:!1,adsRenderingSettings:{loadVideoTimeout:1e3*t.YMPB_VIDEO_TIMEOUT}},vendorConfig:{autoplay:n.$ima.autoplay,muted:n.$ima.muted}}}};i.isUseGAM&&(r.adServer={vendorCode:"gam",baseAdTagUrl:""},t.PREROLL_MAX_DURATION>1&&(r.adServer.params.max_ad_duration=t.PREROLL_MAX_DURATION),t.CHILD_DIRECTED_TREATMENT&&(r.adServer.params.tfcd=1)),Tn({video:{providers:[r]}})}}(this._elId),(0,qi.Or)(this._sizerEl,this._imaContainer),this.$adUnit.addEventListener(Ht.ku,(()=>{this.$adUnit.$status.isInVideoMode&&this.$yollaPlayer.onResize()}),!1),this.$yollaPlayer.$ima.addEventListener(Ht.l$,(e=>{this.$adUnit.$status.onPlayerRequestVast()})),this.$yollaPlayer.$ima.addEventListener(uo.AD_PROGRESS,(e=>{this.$adUnit&&this.$adUnit.$status.$position.viewbilityStatus&&this.$yollaPlayer.$ima.setCurrentAdPlayedInviewDuration(+e.detail.lastPlayedTime)})),this.$yollaPlayer.$ima.addEventListener(uo.LOADED,(e=>{this.$adUnit.$status.onVideoAdsLoaded(e)})),this.$yollaPlayer.$ima.addEventListener(uo.STARTED,(e=>{this.$adUnit.isOutstream&&this.$adUnit.show(),this.$adUnit.$status.onVideoAdsStarted()})),this.$yollaPlayer.$ima.addEventListener(uo.ERROR,(e=>{this.onPlayerError(e)})),this.$yollaPlayer.$ima.addEventListener(uo.AD_ERROR,(e=>{this.onAdError(e)})),this.$yollaPlayer.$ima.addEventListener(uo.COMPLETE,(e=>{this.$adUnit.isOutstream&&this.$adUnit.end(e)})),this.$yollaPlayer.$ima.addEventListener(uo.ALL_ADS_COMPLETED,(e=>{this.$adUnit.end(e)})),this._$playerLoadDeferred.resolve(!0)}init(){if(this._options.YMPB_VIDEO_AUTOPLAY){Oo().then((e=>{e.autoplayAllowed?e.autoplayRequiresMuted&&(this._options.YMPB_VIDEO_VOLUME=0):this._options.YMPB_VIDEO_AUTOPLAY=!1,this.loadPlayer(this._options)})).catch((()=>{this._options.YMPB_VIDEO_AUTOPLAY=!1,this.loadPlayer(this._options)}))}else this.loadPlayer(this._options)}directRenderAds(e){if(Ln(e)){let t="";return/^ru/.test(e.bidder)?t=e.vastUrl||"":e.vastUrl?t=e.vastUrl:e.videoCacheKey&&(t="https://prebid.adnxs.com/pbc/v1/cache?uuid=".concat(e.videoCacheKey)),!t&&e.vastXml&&(t=e.vastXml),e.statusMessage="Direct Render",this.$adUnit.$status.onRequestEnded(),this.$adUnit.$status.onDirectRender(e),this.$yollaPlayer.requestAds(t),!0}return!!Nn(e)&&super.directRenderAds(e)}renderAds(){try{this.$yollaPlayer.$playerHeader.$skipBtn.reset(),this.$yollaPlayer.setFailsafeTimeout()}catch(e){}let e=So(!!this._options.DEBUG);Promise.all([e,this._$playerLoadDeferred.promise]).then((e=>{if(!e.reduce(((e,t)=>e&&t),!0))throw new Error(Pe.A.IMA_SDK_LOAD_ERROR);if(!this.$adUnit)throw new Error(Pe.A.ADUNIT_NOT_FOUND);if(!Uo(this.$adUnit))throw new Error(Pe.A.NO_BID_AVAILABLE)})).catch((e=>{this.$yollaPlayer.error(e.message)}))}stop(){var e;null===(e=this.$yollaPlayer)||void 0===e||e.stop(),this.$adUnit.disable()}destroy(){this.$yollaPlayer.destroy(),super.destroy(),this.$adUnit=null}}class $o{constructor(){(0,Me.A)(this,"_el",void 0),this._el=(0,qi.JW)("svg",{width:52,height:52,viewBox:"0 0 52 52"},(0,qi.JW)("g",{},(0,qi.JW)("path",{d:"M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26\n                    S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"}),(0,qi.JW)("path",{d:"M35.707,16.293c-0.391-0.391-1.023-0.391-1.414,0L26,24.586l-8.293-8.293c-0.391-0.391-1.023-0.391-1.414,0\n                    s-0.391,1.023,0,1.414L24.586,26l-8.293,8.293c-0.391,0.391-0.391,1.023,0,1.414C16.488,35.902,16.744,36,17,36\n                    s0.512-0.098,0.707-0.293L26,27.414l8.293,8.293C34.488,35.902,34.744,36,35,36s0.512-0.098,0.707-0.293\n                    c0.391-0.391,0.391-1.023,0-1.414L27.414,26l8.293-8.293C36.098,17.316,36.098,16.684,35.707,16.293z"})))}get el(){return this._el}}const Mo=["type","subtype","fluid","refreshrate","enableclose","dynamic","ympbId","adId","gid","groupId","groupIndex","groupType","parentSlot","status","maxSlots","slotSpacing","insertGrid","maxSize","multiMode","videoType","interstitial","aspectRatio","adgpid","refreshCount","bottom","right","width","height","position","enablegam","wips","wibs","wius","subslot","autoDismiss"];function Lo(e){let t={};for(let i=0;i<Mo.length;i++){const n=Mo[i];Yt(e.dataset[n])||(t[n]=e.dataset[n])}return t}const No=function(e,t){for(var i,n=-1,r=e.length;++n<r;){var s=t(e[n]);void 0!==s&&(i=void 0===i?s:i+s)}return i};const jo=function(e,t){return e&&e.length?No(e,(0,d.A)(t,2)):0};const Fo=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];(0,Me.A)(this,"$container",void 0),(0,Me.A)(this,"$grids",[]),(0,Me.A)(this,"spaceBeteen",0),(0,Me.A)(this,"gridSizeLimit",[0,0]),this.$container=e,this.spaceBeteen=t,this.gridSizeLimit=i}get gridsItemCount(){return jo(this.$grids,(e=>e.length))}get fillPercentage(){return this.$grids.reduce(((e,t)=>e+t.reduce(((e,t)=>e+(t?t[0]:0)*(t?t[1]:0)),0)),0)/this.$container.area()}getGridSize(){let e=di(this.$grids,(e=>e.length));return[e?e.length:0,this.$grids.length]}getRowSize(e){let t=this.$grids[e];if(t){let e=jo(t,(e=>e?e[0]:0))||0,i=di(t,(e=>e?e[1]:0)),n=[e,i?i[1]:0];return n[0]+=(t.length-1)*this.spaceBeteen,n[1]+=this.spaceBeteen,n}return[0,0]}getGridAreaSize(e){let t=[];for(let i=0;i<e;i++){let e=this.getRowSize(i);t.push(e)}let i=di(t,(e=>e?e[0]:0)),n=jo(t,(e=>e?e[1]:0))||0;return[i?i[0]:0,n]}insert(e,t,i){this.$grids[e]=this.$grids[e]||[],this.$grids[e][t]=i}insertIntoContainer(e){let t=this.getGridAreaSize(this.$grids.length);for(let i=0;i<this.$grids.length;i++){const n=this.$grids[i];let r=this.getRowSize(i);if(this.gridSizeLimit[0]<1||n.length<this.gridSizeLimit[0]){let s=r[0]>0?this.spaceBeteen:0;if(r[0]+e[0]+s<=this.$container.width){let s=e[1]-r[1];if(t[1]+s<=this.$container.height)return n.push(e),[i,n.length-1]}}}return(this.gridSizeLimit[1]<1||this.$grids.length<this.gridSizeLimit[1])&&e[0]<=this.$container.width&&t[1]+e[1]<=this.$container.height?(this.$grids.push([e]),[this.$grids.length-1,0]):null}};let zo=[[300,600],[300,600],[300,250],[300,250],[300,250],[300,250],[728,90],[728,90],[728,90],[728,90],[300,100],[300,100],[300,100],[300,100],[300,50],[300,50],[300,50],[300,50]],qo=[[300,50],[300,50],[300,50],[300,50]];function Vo(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qe,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],a=[],d=new Fo(new wt(0,0,t[0],t[1]),n,s);for(let e=0;e<o.length;e++){const t=o[e];for(let i=0;i<t.length;i++){const n=t[i];let r="width"in n?[n.width,n.height]:n;d.insert(e,i,r)}}for(let t=0;t<e.length;t++){const n=e[t];let r=d.insertIntoContainer([n.width,n.height]);if(r&&r.length>1&&(a[r[0]]=a[r[0]]||[],a[r[0]][r[1]]=n),d.gridsItemCount>=i)return a}if(!r)return a;let c=t[0]<=460&&t[1]<=200?qo:zo;for(let e=0;e<c.length;e++){const t=c[e];let n=d.insertIntoContainer([t[0],t[1]]);if(n&&(a[n[0]]=a[n[0]]||[],a[n[0]][n[1]]=t),d.gridsItemCount>=i)break}return a}function Go(e){return e&&"width"in e}function Wo(e){let t=e.parentElement;return!!t&&t.classList.contains(Zi)}class Ho extends Kt{constructor(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),(0,Me.A)(this,"_groupType",""),(0,Me.A)(this,"_isInterstitial",!1),(0,Me.A)(this,"_isGmi",!1),(0,Me.A)(this,"_isOop",!1),(0,Me.A)(this,"_isAdhesion",!1),(0,Me.A)(this,"_isSticky",!1),(0,Me.A)(this,"_isFloating",!1),(0,Me.A)(this,"_isLeaderboard",!1),(0,Me.A)(this,"_isMedrec",!1),(0,Me.A)(this,"_isDynamic",!1),(0,Me.A)(this,"_isPreroll",!1),(0,Me.A)(this,"_isOutstream",!1),(0,Me.A)(this,"_isCloseable",!1),(0,Me.A)(this,"_isLazyload",!1),(0,Me.A)(this,"_hasBanner",!1),(0,Me.A)(this,"_hasOutstream",!1),(0,Me.A)(this,"_hasInstream",!1),(0,Me.A)(this,"_hasNative",!1),(0,Me.A)(this,"_inited",!1),(0,Me.A)(this,"_mediaTypeTemplate",{}),(0,Me.A)(this,"_adUnitTemplate",void 0),(0,Me.A)(this,"$slot",null),(0,Me.A)(this,"_originalEle",void 0),(0,Me.A)(this,"_autodestroy",void 0),(0,Me.A)(this,"_ympbId",void 0),(0,Me.A)(this,"_adgpid",void 0),(0,Me.A)(this,"_parentId",void 0),(0,Me.A)(this,"_preSelectedAdId",""),(0,Me.A)(this,"_isUseGAM",!0),(0,Me.A)(this,"_isDynamicInsertEnabled",!1),(0,Me.A)(this,"_wips",In.UNSET),(0,Me.A)(this,"_wibs",wn.UNSET),(0,Me.A)(this,"_wius",Sn.UNSET),(0,Me.A)(this,"_originalContainer",null),(0,Me.A)(this,"$status",void 0),(0,Me.A)(this,"$adTag",void 0),(0,Me.A)(this,"$adSizeConfig",void 0),(0,Me.A)(this,"$closeBtn",void 0),(0,Me.A)(this,"slotDataset",{}),(0,Me.A)(this,"$blockParent",null),this._originalEle=e,this._autodestroy=s,this.slotDataset=Lo(e),this.slotDataset.adId&&(this._preSelectedAdId=this.slotDataset.adId),this.slotDataset.groupType&&(this._groupType=this.slotDataset.groupType);let o="".concat(t.code,"-").concat(t.index);if(this._ympbId=this.slotDataset.ympbId||at(),e.dataset.ympbId=this._ympbId,this.slotDataset.ympbId!==this._ympbId&&(this.slotDataset.ympbId=this._ympbId),this._adgpid=this.slotDataset.adgpid||_n(o),e.dataset.adgpid=this._adgpid,this.slotDataset.adgpid=this._adgpid,this._parentId=this.slotDataset.parentSlot||"",this._wips=this.slotDataset.wips||"",this._wibs=this.slotDataset.wibs||"",this._wius=this.slotDataset.wius||"",this._adUnitTemplate=t,"false"===this.slotDataset.enablegam&&(this._isUseGAM=!1),this.codeTypeLike("preroll")&&(this._isPreroll=!0),this.codeTypeLike("outstream")&&(this._isOutstream=!0,this._isUseGAM="true"===this.slotDataset.enablegam),this.codeTypeLike("oop")&&(this._isOop=!0,this.slotDataset.interstitial&&(this._isInterstitial=!0)),this.codeTypeLike("gmi")&&(this._isGmi=!0,this._isInterstitial=!0),this.codeTypeLike("leaderboard")&&(this._isLeaderboard=!0),this.codeTypeLike("medrec")&&(this._isMedrec=!0),this.codeTypeLike("adhesion")?this._isAdhesion=!0:this.codeTypeLike("sticky")&&(this._isSticky=!0),"sticky"===this.slotDataset.position?this._isSticky=!0:"float"===this.slotDataset.position&&(this._isFloating=!0),this.slotDataset.enableclose&&"false"!==this.slotDataset.enableclose&&(this._isCloseable=!0),"dynamic"===this.slotDataset.dynamic&&(this._isDynamic=!0),e.className.indexOf(Qi)>-1&&(this._isLazyload=!0,this._isDynamic=!0),i.ENABLE_DYNAMIC_CODE_BLCOK&&(this.isLeaderboard||this.isMedrec)&&(this.isMulti?this._isDynamicInsertEnabled=!0:this.isDisplayFallback||this.isDynamicInstered||(this._isDynamicInsertEnabled=!0,function(e){Wo(e)||function(e,t){e&&e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e))}(e,(0,qi.el)("div.".concat(Zi,".").concat(tn,".ympb_space-around")))}(e))),this.onVisiblityChange=this.onVisiblityChange.bind(this),(0,n.A)(this._adUnitTemplate.mediaTypes,((e,t)=>{(0,r.A)(e)?this.addMediaType(e,i):this.addMediaType(t,i,e)})),this._isAdhesion&&document.body.appendChild(e),this.isPreroll&&(this.slotDataset=Object.assign({},i.PREROLL_SETTING||{},this.slotDataset)),this._isOutstream&&(this._originalContainer=e.parentElement,this.slotDataset=Object.assign({},i.OUTSTREAM_SETTING||{},this.slotDataset),this.isFloatingOutstream&&(document.body.appendChild(e),this.slotDataset=Object.assign({right:10,bottom:10,width:400},this.slotDataset))),this.$adTag=this.isVideoSlot?new Po(e,o,i,this._ympbId,this):new Sr(e,o,i,this._ympbId),this.$status=new gr(this,i),this.switchMode(this.isVideoSlot?"video":"display"),this.slotDataset.refreshCount&&+this.slotDataset.refreshCount>0&&(this.$status.refreshCounter=+this.slotDataset.refreshCount),this.$adSizeConfig=new bn(this.$adTag,t.defaultSizes,this.isOutstream),this.$closeBtn=new vo(this.$adTag.el,"ympb_target_close",{type:"div.ympb_target_close.ympb_hide",duration:$e.Jp,style:{zIndex:i.YMPB_BASE_INDEX},onclick:()=>{this.$status.onUserClose()}}),this.$closeBtn.append((new $o).el),this.isCloseable&&this.$closeBtn.addEventListener(Ht.ZP,(()=>{this.$closeBtn.show()})),this._isLazyload){let e=new RegExp(Qi,"i");this.$adTag.el.className=this.$adTag.el.className.replace(e,Ki)}i.YMPB_ENABLE_FLUID_SIZE&&(this.$adSizeConfig.isUsingFluid=!0),i.YMPB_ENABLE_SMALLER_SIZE&&this.$adSizeConfig.enableSmallerSize(),!this.isMulti&&i.YMPB_USE_CONTAINER_SIZE&&this.$adSizeConfig.enableContainerSize(),this.$adSizeConfig.setCachedSizes(),this.isAdhesion&&(this.$adTag.resetZIndex(),this.$adTag.setBackground(i.ADHESION_BG_COLOR),i.ADHESION_ENABLECLOSE&&(this.isCloseable=!0)),this._isSticky&&this.$adTag.setStickyStyle(),!i.REFRESH_VISIBLE_FROM_HIDDEN||this.isOop||this.isPreroll||this.addEventListener(Ht.lY,this.onVisiblityChange,!1),e.classList.contains(Ki)||e.classList.add(Ki),this.isFloatingOutstream&&this._originalContainer&&"body"!==this._originalContainer.nodeName.toLocaleLowerCase()&&this.one(Ht.NW,(()=>{let e=Ud.getDeviceSlotType();this._originalContainer&&on(this._originalContainer,{dataset:{type:e+"-medrec-template"}})})),this.dispatchEvent(new CustomEvent(Ht.NR,{detail:{}}))}get wips(){return this._wips}get wibs(){return this._wibs}get wius(){return this._wius}get id(){var e;return null===(e=this.$adTag)||void 0===e?void 0:e.id}get groupId(){return this.slotDataset.groupId}get originalEle(){return this._originalEle}get adUnitCode(){return this._adUnitTemplate.code}get adUnitTemplate(){return this._adUnitTemplate}get isWorkInIdle(){return this._wius===Sn.IDLE}get isUseGAM(){return this._isUseGAM}set isUseGAM(e){this._isUseGAM,this._isUseGAM=e}get dfpSlot(){return this.$slot}get isLeaderboard(){return this._isLeaderboard}get isMedrec(){return this._isMedrec}get isDynamic(){return this._isDynamic&&!this._autodestroy}get isLazyload(){return this._isLazyload}get isInterstitial(){return this._isInterstitial}get isOop(){return this._isOop}get isGmi(){return this._isGmi}get isAdhesion(){return this._isAdhesion}get isPreroll(){return this._isPreroll}get isOutstream(){return this._isOutstream}get isFloatingOutstream(){return this._isOutstream&&this._isFloating}get isCloseable(){return this._isCloseable}set isCloseable(e){this._isCloseable=e}get isCompanion(){return"companion"===this._groupType}get isMulti(){return"multi"===this._groupType}get isDisplayFallback(){return"display_fallback"===this._groupType}get isDynamicInstered(){return"dynamic_inserted"===this._groupType}get isDynamicInsertEnabled(){return this._isDynamicInsertEnabled}get groupType(){return this._groupType}get autodestroy(){return this._autodestroy}set autodestroy(e){this._autodestroy=e}get hasBanner(){return this._hasBanner}get hasOutstream(){return this._hasOutstream}get hasInstream(){return this._hasInstream}get hasNative(){return this._hasNative}get isVideoSlot(){return this._isPreroll||this._isOutstream}get hasAdFooter(){return this.$adTag.$footer.actived}get preSelectedAdId(){return this._preSelectedAdId}set preSelectedAdId(e){this.$adTag.el.dataset.adId=e,this._preSelectedAdId=e}get ympbId(){return this._ympbId}get adgpid(){return this._adgpid}get parentId(){return this._parentId}get slotFillType(){return this.isOop?"Oop":this.isPreroll?"Preroll":this.isOutstream?this.$status.isInVideoMode?"Outstream":"Banner":this.isGmi?this.parentId?"GMI_Fallback":"GMI":this.isInterstitial?"Interstitial":this.parentId?"Fallback":"Banner"}static codeTypeContains(e,t){return!E(t)&&e.indexOf(t)>-1}onVisiblityChange(e){e.detail.viewbility>0&&e.detail.hasInvisibleStatusChanged&&this.$status.checkReadyForRefreshOnSlotVibilityChange()&&(this.$status.forceOnNextRefresh=!0)}initGptSlot(){this.isUseGAM&&(this._isGmi?this.$slot=Nt(this._adUnitTemplate.code,this._isGmi):this._isOop?this._isInterstitial?this.$slot=Nt(this._adUnitTemplate.code):this.$slot=function(e,t){let i=Lt(e),n=window.googletag.defineOutOfPageSlot(i,t);return n.addService(window.googletag.pubads()),window.googletag.display(t),window.googletag.enableServices(),n}(this._adUnitTemplate.code,this.$adTag.id):this._adUnitTemplate.mediaTypes.banner?this.$slot=jt(this._adUnitTemplate.code,this.$adTag.id,this.$adSizeConfig.getCachedSizes(!0)):this.$slot=jt(this._adUnitTemplate.code,this.$adTag.id,this.$adSizeConfig.getDefaultSizes()))}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this._inited){if(Pt(),this._adUnitTemplate.code=this.id,this.isVideoSlot){let e=this._mediaTypeTemplate.video.playerSize;e&&e.length>0&&(t=ei(e[0])?[e]:e)}if(t&&t.length>0?this.$adSizeConfig.subtype=t:e.ENABLE_BETTER_ADS&&this.$adSizeConfig.enableBetterAdsRule(),this._adUnitTemplate.mediaTypes=this._mediaTypeTemplate,this.switchSize(),this.groupId&&e.BIDDER_LABELS_IGNORE_ON_MULTI&&(this._adUnitTemplate.bids=this._adUnitTemplate.bids.filter((t=>e.BIDDER_LABELS_IGNORE_ON_MULTI.indexOf(t.bidder)<0))),Gn(this._adUnitTemplate,{isInterstitial:this._isInterstitial,isUseGam:this._isUseGAM}),Be.Ay.addAdUnits(this._adUnitTemplate),!this._isOop&&!this.isVideoSlot){let t=ze;if(!this._isAdhesion&&(this.isLeaderboard&&e.YMPB_WRAPPER_LEADER_MAX_HEIGHT||this.isMedrec&&e.YMPB_WRAPPER_MAX_HEIGHT))t=this.$adSizeConfig.maxAllowedSize,this.$adTag.setSlotAreaMaxSize(t);else if(t=this.$adSizeConfig.getOriginalMinAllowedSize(),this._isAdhesion){let e=this.$adSizeConfig.maxAllowedSize;this.$adTag.setSlotAreaMaxSize(e)}this.$adTag.setAdSlotSize(t,!0)}this.isInterstitial&&$e.rE?this.$status.onDisable():(this.initGptSlot(),this.$status.onReady()),ri(this.$adTag)&&this.$adTag.init()}}codeTypeLike(e){return!("outstream"!==e||!this.slotDataset.videoType||"outstream"!==this.slotDataset.videoType)||Ho.codeTypeContains(this._adUnitTemplate.code,e)}addMediaType(e,t,i){let n=i||{};"native"===e?(this._hasNative=!0,Object.assign(n,Ne,t.NATIVE_CONFIG)):"video"===e?(this.codeTypeLike("outstream")?(Object.assign(n,ot,t.OUTSTREAM_CONFIG),this._hasOutstream=!0):(Object.assign(n,st,t.PREROLL_CONFIG),this._hasInstream=!0),n.w=n.playerSize[0],n.h=n.playerSize[1]):this._hasBanner=!0,this._mediaTypeTemplate[e]=Ue(n)}removeType(e){"native"===e?this._hasNative=!1:"video"===e?(this._hasOutstream=!1,this._hasInstream=!1):"banner"===e&&(this._hasBanner=!1),delete this._mediaTypeTemplate[e]}showAdFooter(){this.isOop||this.isPreroll||this.isAdhesion||this.$adTag.$footer.show()}removeAdFooter(){this.$adTag.$footer.hide()}replaceElementWithPassback(){}clearSlot(e){this.$status.forceOnNextRefresh=!1,this.$status.hasEverRefreshed()&&this.$adTag.removeIframe(),e&&this.resetGpt()}switchSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$adSizeConfig.getCachedSizes();(0,n.A)(this._adUnitTemplate.mediaTypes,((t,i)=>{"native"===i?t.image&&E(t.image.sizes)&&(t.sizes=e):"video"===i?(E(this.$adSizeConfig.subtype)||(t.playerSize=this.$adSizeConfig.subtype[0]),this._adUnitTemplate.video=this._adUnitTemplate.video||{},this._adUnitTemplate.video={divId:this.adUnitCode,vendorCode:$e.Tf},this.isUseGAM&&(this.adUnitTemplate.video.adServer={tracking:{impression:null,error:null}})):this._isOop?t.sizes=Je:t.sizes=e}))}applyDynamicSizes(e,t){let i=this.$adSizeConfig.isUsingFluid;(!Ud.getOption("YMPB_ENABLE_FLUID_SIZE")||!Ud.getOption("YMPB_ENABLE_FLUID_FROM_AUTOSIZE"))&&(this.$adSizeConfig.isUsingFluid=!1);let r=!1;if((e=e.filter((e=>ii(e)))).length<1)r=this.recoverFromDynamicSizes();else{let i=[],s=this.$adSizeConfig.getOriginalMaxAllowedSize();if(ii(Le(e,(e=>e[0]>=s[0]&&e[1]>=s[1]))))r=this.$adSizeConfig.setCachedSizes();else{let s=this.$adSizeConfig.getSizes(!0,!0);if((0,n.A)(s,(r=>{(0,n.A)(e,(e=>{if(function(e,t){let i=[Math.min(e[0],t[0]),Math.min(e[1],t[1])];return i[0]*i[1]/(e[0]*e[1])}(r,e)>=t)return i.push(r),!1}))})),i.length>0){let e=mn(i);r=this.$adSizeConfig.setCachedSizes(e,i)}else r=this.recoverFromDynamicSizes()}}return r&&this.switchSize(),r||this.$adSizeConfig.isUsingFluid!==i}recoverFromDynamicSizes(){let e=this.$adSizeConfig.isUsingFluid;Ud.getOption("YMPB_ENABLE_FLUID_SIZE")&&Ud.getOption("YMPB_ENABLE_FLUID_FROM_AUTOSIZE")&&(this.$adSizeConfig.isUsingFluid=!0);let t=this.$adSizeConfig.setCachedSizes();return t&&this.switchSize(),t||this.$adSizeConfig.isUsingFluid!==e}renderWithoutPlatform(e){if(!(e=e||this.$status.requestingBid))return!1;let t="";try{return this.$status.onDirectRender(e),this.$adTag.directRenderAds(e),!0}catch(e){t="unkown"}return this.$status.onPrebidRenderFailed(t),!1}resetGpt(){this.isOop||this.isPreroll||!this.isUseGAM||(this.removeGpt(),this.initGptSlot())}removeGpt(){zt(this.$slot),this.$slot=null}disable(){this.$status.onDisable(),this.hide()}resume(){this.$status.onReady()}hide(){let e={overflow:"hidden",height:"0",border:"none"};if(/\d+/.test(this.slotDataset.bottom||"")){let t=this.slotDataset.width?+this.slotDataset.width:400;t<64&&(t=64);let i=this.slotDataset.aspectRatio?+this.slotDataset.aspectRatio:et,n=this.slotDataset.height||Math.ceil(t*i);e.maxWidth="".concat(t,"px"),e.maxHeight="".concat(n,"px")}(0,qi.eC)(this._originalEle,e)}show(){let e={overflow:"visible",height:"unset"};this._isFloating&&(e.position="fixed",e.zIndex=this.$adTag.baseIndex+2,e.border="1px solid #eee",/\d+/.test(this.slotDataset.bottom||"")&&(e.bottom="".concat(this.slotDataset.bottom,"px")),/\d+/.test(this.slotDataset.right||"")&&(e.right="".concat(this.slotDataset.right,"px"))),this._originalEle.classList.remove(en),(0,qi.eC)(this._originalEle,e),this.dispatchEvent(new CustomEvent(Ht.ku))}switchMode(e){this.$status.adUnitMode=e,this.$status.isInVideoMode?(this.$adTag.releaseSlotAreaSize(),this.$adTag.unsetDfpContainerStyle(),this.$adTag.dfpContainer.classList.add("ympb_hide"),ri(this.$adTag)&&(this.$adTag.imaContainer.classList.remove("ympb_hide"),this.$adTag.$yollaPlayer&&this.$adTag.$yollaPlayer.onResize())):(this.show(),this.$adTag.releaseSlotAreaSize(),this.$adTag.dfpContainer.classList.remove("ympb_hide"),ri(this.$adTag)&&(this.$adTag.imaContainer.classList.add("ympb_hide"),yo(this._originalEle,100)))}end(e){(e=e||{}).id=this.id,this.$status.onEnd(e)}pause(){ri(this.$adTag)&&this.$adTag.$yollaPlayer.stop()}reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pause(),this.end(),e&&this.resume()}close(){this.$status.isSwapping&&Ud.swapBackAdUnitTag(this),this._isDynamicInsertEnabled&&Ud.destroySlotByParentId(this.ympbId),this.clearSlot(!1),this.removeGpt(),Be.Ay.removeAdUnit(this.$adTag.id)}delete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.$status.getStatusData(),r=t?this.$adTag.el.offsetHeight:0;try{this.removeEventListener(Ht.lY,this.onVisiblityChange,!1),this.close(),this._isDynamicInsertEnabled&&function(e){if(Wo(e)){let t=e.parentElement;t&&function(e){if(e&&e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove()}}(t)}}(this.$adTag.el),i?this.$adTag.el.parentElement&&(0,qi.vs)(this.$adTag.el.parentElement,this.$adTag.el):this.$adTag.recoverElementToOriginalStatus(e,r),this.$closeBtn.destroy(),this.$adTag.destroy()}catch(e){}finally{this.dispatchEvent(new CustomEvent(Ht.NW,{detail:{removePermanently:e,keepArea:t,destroyOriginalElement:i,id:this.id,statusData:n}}))}this.$status=null,this.$adTag=null,this.$adSizeConfig=null,this.$closeBtn=null,super.destroy()}}const Yo=Ho;const Jo=function(e,t,i,n){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(n,o,i(o),e)}return n};const Ko=function(e,t,i,n){return(0,vi.A)(e,(function(e,r,s){t(n,e,i(e),s)})),n};const Qo=function(e,t){return function(i,n){var r=(0,m.A)(i)?Jo:Ko,s=t?t():{};return r(i,e,(0,d.A)(n,2),s)}};var Xo=Object.prototype.hasOwnProperty;const Zo=Qo((function(e,t,i){Xo.call(e,i)?e[i].push(t):C(e,i,[t])}));var ea=i(3282);let ta="";try{ta=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}(new Date).getTimezoneOffset();const ia=".";class na{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,Me.A)(this,"_namespace",""),(0,Me.A)(this,"_engine",void 0),(0,Me.A)(this,"_supported",!1),this._engine=e,this._namespace=t,this.init()}init(){this.test()}test(){try{this.set(na._testkey,!0),this._supported=!0===this.get(na._testkey),this.remove(na._testkey)}catch(e){this._supported=!1}return this.supported()}supported(){return this._supported}get(e){let t=this._engine.getItem("".concat(this._namespace).concat(ia).concat(e));return null===t?null:this._engine.readConverter(t)}getAll(){return this.keys().map((e=>this.get(e)))}set(e,t){null===t&&this.remove(e);let i=this._engine.writeConverter(t);return this._engine.setItem("".concat(this._namespace).concat(ia).concat(e),i),i}remove(e){this._engine.removeItem("".concat(this._namespace).concat(ia).concat(e))}removeBy(e){this.keys().forEach((t=>{e(t)&&this.remove(t)}))}keys(){let e="".concat(this._namespace).concat(ia),t=this._engine.keys().filter((t=>0===t.indexOf(e)));return t=t.map((t=>t.replace(e,""))),t.sort()}flush(){}}function ra(e){return Ut(.001*(new Blob([e]).size||0),2,"ceil")}(0,Me.A)(na,"_testkey","__YMPB_TEST_KEY__");const sa="VERSION",oa={ix:{maxTtl:300,minTtl:35}};function aa(e){return(e.responseTimestamp||Date.now())+1e3*e.ttl}function da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e.__expiresAt||aa(e))-t<=Date.now()}class ca{constructor(e){(0,Me.A)(this,"options",void 0),(0,Me.A)(this,"$cacheStore",new na((0,ea.A)(),"YOLLA_CACHE")),(0,Me.A)(this,"$cacheVersion",new na((0,ea.A)(),"YOLLA_CACHE_VERSION")),(0,Me.A)(this,"_cacheIndex",new Ar),(0,Me.A)(this,"_version",0),this.options=e,this.loadCache()}loadCache(){let e=this.$cacheVersion.get(sa);return e<1&&this.$cacheVersion.set(sa,1),e===this._version?e:this.initCacheIndex()}increaseCacheVersion(){let e=this.loadCache();e>4294967200&&(e=0),e+=1,this._version=e,this.$cacheVersion.set(sa,e)}getBidFromStorage(e,t){let i=this.$cacheStore.get(e.adId);if(i){let e=function(e){const t=Object.assign((0,Bn.O)(1),e);return e._metrics&&(t.metrics=(0,kn.K7)()),t}(i);return delete e.status,t&&Pn(e,t.adUnitCode),e}return i}getBidBasicInfo(e){let t=Object.prototype.hasOwnProperty.call(e,"__byteSize")?e.__byteSize:ra(JSON.stringify(e))+.2;return{adId:e.adId,ttl:e.ttl,adUnitCode:e.adUnitCode,cpm:+e.cpm.toFixed(2),bidder:e.bidder,bidderCode:e.bidderCode,size:e.size,width:e.width,height:e.height,originalCpm:+(+(e.originalCpm||0)).toFixed(2),mediaType:e.mediaType,status:e.status,statusMessage:e.statusMessage,auctionId:e.auctionId,requestId:e.requestId,ymAlias:e.ymAlias,__adUnitCode:e.__adUnitCode||e.adUnitCode,__expiresAt:aa(e),__byteSize:t||2}}sortCacheOnCpm(){this._cacheIndex.sortBy($n)}chooseBidFromCacheItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=Date.now();return this.options.YMPB_CACHE_SP_LOGIC&&e.sort(((e,t)=>{let n=t.__expiresAt-i>1e3*this.options.YMPB_CACHE_SP_TTL_BUFFER?this.options.YMPB_CACHE_SP_THRESHOLD:1;return t.cpm*n-e.cpm})),e.slice(0,t)}updateBidStatus(e,t){if(!e)return;let i=e.adId,n=this.$cacheStore.get(i);if(!n)return;n.status!==t&&(n.status=t,this.$cacheStore.set(i,n),this.increaseCacheVersion());let r=this._cacheIndex.find({adId:i});r&&(r.adUnitCode=e.adUnitCode,r.status=t)}save(e){if(e.cpm<this.options.YMPB_CPM_TARGET_MIN)return!1;let t=this.options.DEBUG_PBJS[e.bidder];e.ttl=Math.max(e.ttl,Ln(e)?this.options.YMPB_VIDEO_BID_MIN_TTL:this.options.YMPB_BID_CACHE_MIN_TTL_OVERRIDE),e.ttl=Math.min(e.ttl,Ln(e)?this.options.YMPB_VIDEO_BID_MAX_TTL:this.options.YMPB_BID_CACHE_TTL),oa[t]&&(e.ttl=Math.max(e.ttl,oa[t].minTtl),e.ttl=Math.min(e.ttl,oa[t].maxTtl));let i=Ue(e);i.__adUnitCode=i.adUnitCode,delete i.getSize,delete i.getStatusCode,delete i.getIdentifiers,delete i.status,delete i.adResponse,i.metrics&&(i._metrics=1,delete i.metrics);let n=JSON.stringify(i),r=ra(n)+.2;e.__byteSize=r,n=n.slice(0,-1)+",__byteSize: ".concat(r,"}");try{this.$cacheStore.set(e.adId,i),this._cacheIndex.add(this.getBidBasicInfo(e)),this.increaseCacheVersion()}catch(e){Qt.dispatchEvent(new CustomEvent(Ht.Rz,{detail:{usedStorageSize:this.getUsedStorageSize(),message:e&&e.message?e.message:"",error:e||null}}))}this.cleanUpCache()}removeById(e){this.$cacheStore.remove(e),this._cacheIndex.removeBy({adId:e}),this.increaseCacheVersion()}remove(e){this.removeById(e.adId)}lockBid(e){this.updateBidStatus(e,"targetingSet")}lockBidAsRendered(e){this.updateBidStatus(e,"rendered")}releaseBid(e){this.updateBidStatus(e,"")}filterByUnitType(e,t,i,n){return this.loadCache(),e=e.replace(/-\d+$/,""),this._cacheIndex.filter((r=>{if("Bid available"!==r.statusMessage||r.status)return!1;if(t.length>0&&t.indexOf(r.mediaType)<0)return!1;if(""!==e){let t=r.adUnitCode.replace(/-\d+$/,"");if((!this.options.YMPB_CACHE_SWAPPING||Ln(r))&&t!==e)return!1}return!(i.length>0&&i.indexOf(r.bidder)<0)&&(!(!Ln(r)&&n.length>0&&n.length&&!Le(n,(e=>r.width===e[0]&&r.height===e[1])))&&!da(r,this.options.TIMEOUT_BUFFER))}))}filterByAdUnit(e){let t=Object.keys(e.adUnitTemplate.mediaTypes),i=e.adUnitTemplate.bids.map((e=>e.bidder)),n=e.adUnitTemplate.mediaTypes.banner?e.adUnitTemplate.mediaTypes.banner.sizes:[];return this.filterByUnitType(e.adUnitCode,t,i,n)}pickByAdId(e){return this.getBidFromStorage({adId:e})}pickBySize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"vertical",s=[];s=/-(outstream|preroll)/i.test(e)?["video"]:["banner","native"];let o=this.filterByUnitType(e,s,[],[]);o=o((function(e){return e.width<=t[0]&&e.height<=t[1]}));let a=o();if(a.length<=1)return a;let d="vertical"===r?"height":"width",c="vertical"===r?1:0,l=[],u=this.options.BIDDER_LABELS_IGNORE_ON_MULTI;u.length>0&&ht(a,((e,t)=>{u.indexOf(e.bidder)>-1&&(a.splice(t,1),l.push([e]))}));e:for(let e=0;e<a.length;e++){let r=0,s=[];for(let o=e;o<a.length;o++){let e=a[o];if(r+e[d]+s.length*n<=t[c]&&(r+=e[d],s.push(e)),s.length>=i){l.push(s);break e}}}return E(l)?[]:di(l,(e=>jo(e,"cpm")))||[]}pickByArea(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;s<1&&(s=t[1]),ti(o)||(o=[0,0]);let d=this.filterByUnitType(e,["banner"],[],[]),c=this.options.BIDDER_LABELS_IGNORE_ON_MULTI;d=d((function(e){return e.width<=t[0]&&e.height<=t[1]&&e.height<=s}));let l=d();if(c.length>0&&ht(l,((e,t)=>{c.indexOf(e.bidder)>-1&&l.splice(t,1)})),a){let e=this.filterByUnitType(a,["video"],[],[])();if(e.length>0){let i=e[0];i.width=t[0],i.height=Ye[1],l.push(i),l.sort($n)}}return Vo(l,t,i,n,r,o)}pickByUnit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.filterByAdUnit(e);if(t.length>0){let i=di((0,ci.A)(t,{adUnitCode:e.adUnitCode}),"cpm");i&&n((e=>e.cpm>i.cpm&&u(t,{adId:e.adId})<0))}i.length>0&&n((e=>i.indexOf(e.bidderCode)>-1));let r=n(),s=null;if(r.length>0){let t=this.chooseBidFromCacheItems(r);s=this.getBidFromStorage(t[0],e)}return s}countByUnit(e,t){let i=this.filterByAdUnit(e);return(0,fi.A)(t)&&i(t),i().length}countByUnitType(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,s=this.filterByUnitType(e,t,i,n);return(0,fi.A)(r)&&s(r),s().length}getUsedStorageSize(){return jo(this._cacheIndex.items,"__byteSize")}removeExpiredCache(){ht(this._cacheIndex.items,(e=>{da(e)&&this.remove(e)}))}removeRenderedCache(){ht(this._cacheIndex.items,(e=>{"rendered"===e.status&&this.remove(e)}))}cleanUpCache(){if(this.removeExpiredCache(),this.sortCacheOnCpm(),this._cacheIndex.counts()>this.options.YMPB_CACHE_MAX&&Ud.getAdUnitInstanse().length>0){let e=this._cacheIndex.counts()-this.options.YMPB_CACHE_MAX,t=Zo(this._cacheIndex.items,(e=>e.adUnitCode.replace(/-\d+$/,""))),i={},r=0;(0,n.A)(Ud.getAdUnitInstanse(),(e=>{let t=e.adUnitCode.replace(/-\d+$/,"");i[t]=i[t]||0,i[t]+=1,r+=1}));let s=Math.floor(this.options.YMPB_CACHE_MAX/r),o={};(0,n.A)(t,((t,n)=>{let r=(i[n]||1)*s;if(t.length-r&&(t.sort($n),o[n]=t.splice(r),e-=o[n].length),e<1)return!1})),(0,n.A)(o,((e,t)=>{(0,n.A)(e,(e=>{this.remove(e)}))}))}let e=this.options.YMPB_CACHE_STORAGE_SIZE;if(e>0){let t=this.getUsedStorageSize();for(;t>e;){let e=this._cacheIndex.pop();e?(t-=e.__byteSize||0,this.remove(e)):t=0}}}initCacheIndex(){return this._version=this.$cacheVersion.get(sa),this._cacheIndex.empty(),this.$cacheStore.keys().forEach((e=>{let t=this.$cacheStore.get(e);if(this._cacheIndex.findIndex({adId:e})<0)try{this._cacheIndex.add(this.getBidBasicInfo(t))}catch(t){this.$cacheStore.remove(e)}})),this.cleanUpCache(),this._version=this.$cacheVersion.get(sa),this._version}}var la=i(9672);const ua=function(e){return"number"==typeof e||(0,be.A)(e)&&"[object Number]"==(0,la.A)(e)};const pa=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,Me.A)(this,"_startTime",void 0),(0,Me.A)(this,"_useRaf",!0),(0,Me.A)(this,"_fps",0),(0,Me.A)(this,"_tickerDuration",0),(0,Me.A)(this,"_time",0),(0,Me.A)(this,"_frame",0),(0,Me.A)(this,"_nextTime",0),(0,Me.A)(this,"_gap",0),(0,Me.A)(this,"_id",null),(0,Me.A)(this,"_tickerActive",!1),(0,Me.A)(this,"_req",(function(){})),(0,Me.A)(this,"_tickProcessers",void 0),this._startTime=Date.now(),this._useRaf=t,this.fps=e,this._tickerDuration=Math.round(1e3/this.fps),this._tickProcessers=new Ar}get fps(){return this._fps}set fps(e){this._fps=e>=1?Math.round(e):1,this._gap=1/(this._fps||4),this._nextTime=this._time+this._gap,this.wake()}get useRaf(){return this._useRaf}set useRaf(e){this.sleep(),this._useRaf=e,this.fps=this._fps}get tickerActive(){return this._tickerActive}_tick(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._id;this._time=(Date.now()-this._startTime)/1e3;let i=this._time-this._nextTime,n=0;(!this._fps||i>0||!0===e)&&(this._frame++,n=i+(i>=this._gap?.004:this._gap-i),this._nextTime+=n,this.execProcessers()),!0!==e&&t===this._id&&(this._id=this._req.call(window,this._tick.bind(this)))}tick(){this._tick(!0)}sleep(){this._id&&(this._useRaf?clearTimeout(this._id):cancelAnimationFrame(this._id),this._id=null,this._req=function(){},this._tickerActive=!1)}wake(){this._tickerActive||(this._id&&this.sleep(),this._req=0===this._fps?function(){}:this.useRaf?requestAnimationFrame:e=>setTimeout(e,1e3*(this._nextTime-this._time)+1|0),this._tickerActive=!0,this._tick())}execProcessers(){this._id&&this._tickProcessers.each((e=>{if(e&&e.activated&&e.frame&&this._frame%e.frame==0)try{e.fn.call(e.calller,e.params,this._frame)}catch(e){window.console.error("execProcessers",e)}}))}convertDurationToFrame(e){let t=Math.round(e/this._tickerDuration)*this._tickerDuration;return Math.round(t/this._tickerDuration)||1}addProcesser(e){return e.id=at(),e.duration&&e.duration>0&&(e.frame=this.convertDurationToFrame(e.duration)),this._tickProcessers.add(e),e.id}removeProcesser(e){ua(e)||Fi(e)?this._tickProcessers.removeBy({id:e}):this._tickProcessers.remove(e)}};const ha=function(e,t,i){var n=!0,r=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,o.A)(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),kr(e,t,{leading:n,maxWait:t,trailing:r})};const fa=class{constructor(e){(0,Me.A)(this,"_el",null),(0,Me.A)(this,"_distanceX",0),(0,Me.A)(this,"_distanceY",0),(0,Me.A)(this,"_lastScrollPositionX",0),(0,Me.A)(this,"_lastScrollPositionY",0),(0,Me.A)(this,"fnDebounceGetScrollDistance",void 0),(0,Me.A)(this,"fnThrottleGetScrollSpeed",void 0),(0,Me.A)(this,"scrollCacheX",[]),(0,Me.A)(this,"scrollCacheY",[]),(0,Me.A)(this,"eventListeners",new Ar),e&&(this._el=e),this._lastScrollPositionX=this.getScrollX(),this._lastScrollPositionY=this.getScrollY(),this.fnDebounceGetScrollDistance=kr(this.resetScrollDistance,500,{leading:!1,trailing:!0}).bind(this),this.fnThrottleGetScrollSpeed=ha(this.getScrollSpeed,100,{leading:!1,trailing:!0}).bind(this)}get lastScroll(){return{x:this._distanceX,y:this._distanceY}}get speed(){return{x:this.scrollCacheX.length>0?jo(this.scrollCacheX,(e=>Math.abs(e)))/this.scrollCacheX.length:0,y:this.scrollCacheY.length>0?jo(this.scrollCacheY,(e=>Math.abs(e)))/this.scrollCacheY.length:0}}resetScrollDistance(){this.scrollCacheX=[],this.scrollCacheY=[],this.execEventListener("scrollEnd")}getScrollSpeed(){0===this.scrollCacheX.length&&0===this.scrollCacheY.length&&this.execEventListener("scrollStart");let e=this.getScrollX(),t=this.getScrollY();this._distanceX=e-this._lastScrollPositionX,this._distanceY=t-this._lastScrollPositionY,this._lastScrollPositionX=e,this._lastScrollPositionY=t,this.scrollCacheX.push(this._distanceX),this.scrollCacheY.push(this._distanceY),this.scrollCacheX.length>10&&(this.scrollCacheX=this.scrollCacheX.slice(-10)),this.scrollCacheY.length>10&&(this.scrollCacheY=this.scrollCacheY.slice(-10)),this.speed.y<200&&this.execEventListener("scroll"),this.fnDebounceGetScrollDistance()}getScrollX(){return this._el?this._el.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||0}getScrollY(){return this._el?this._el.scrollTop:window.pageYOffset||document.documentElement.scrollTop||0}execEventListener(e){(0,n.A)(this.eventListeners.findAll({type:e}),(e=>{e.fn.call(void 0,this.speed)}))}addEventListener(e,t){this.eventListeners.add({type:e,fn:t})}onScroll(e){this.addEventListener("scroll",e)}onScrollStart(e){this.addEventListener("scrollStart",e)}onScrollEnd(e){this.addEventListener("scrollEnd",e)}start(){this.stop(),(this._el||window).addEventListener("scroll",this.fnThrottleGetScrollSpeed,{passive:!0}),window.addEventListener("resize",this.fnThrottleGetScrollSpeed,{passive:!0})}stop(){(this._el||window).removeEventListener("scroll",this.fnThrottleGetScrollSpeed),window.removeEventListener("resize",this.fnThrottleGetScrollSpeed)}};var ga=i(4865),ma=i(4427);class va{constructor(e){(0,Me.A)(this,"_gdprUiEnabled",!0),this._gdprUiEnabled=e.YMPB_GDPR_UI,this.load()}load(){Promise.all([i.e(455),i.e(404)]).then(i.bind(i,3080)).then((e=>{ma.e.hasEuconsent()?e.$cmpApi.update(ma.e.euconsent,!1):this._gdprUiEnabled?ma.e.hasOtherTcfUI||this.init():window.__tcfapi("setTcData",ga.lW,(function(){}),{})}))}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Promise.all([i.e(455),i.e(774),i.e(332)]).then(i.bind(i,1462)).then((t=>{e>0?t.showTcfPopup():t.showTcfTile()}))}}var ba=i(4083);class ya{load(e){let t=e.QUANTCAST_HOSTNAME||$e.ff,i="".concat("https://cmp.inmobi.com","/choice/").concat($e.JG,"/").concat(t,"/choice.js?tag_version=V3");return(0,ba.A)(i)}init(){}}var Aa=i(5522);function _a(e){if(Vn(e))return!0;const t=Vn(e.publisher)||Vn(e.publisher.consents)&&Vn(e.publisher.legitimateInterests),i=Vn(e.purpose)||Vn(e.purpose.consents)&&Vn(e.purpose.legitimateInterests),n=Vn(e.vendor)||Vn(e.vendor.consents);return t&&i&&n}class Ea{constructor(e){(0,Me.A)(this,"$adaptor",null),(0,Me.A)(this,"_gdprEnabled",!1),(0,Me.A)(this,"_ccpaEnabled",!1),(0,Me.A)(this,"_options",void 0),this._options=e}detectTcf(){if($e.rE){return(0,Aa.ix)()?new Promise(((e,t)=>this.getConsentDate().then((i=>{"cmpuishown"===i.eventStatus?(ma.e.hasOtherTcfUI=!0,window.__tcfapi("addEventListener",ga.lW,(i=>{"useractioncomplete"===i.eventStatus&&this.initTcfFramework(i).then((t=>{e(t)})).catch((()=>{t(!1)}))}))):(_a(i)&&(ma.e.hasEuconsent()||(0,Aa.T_)()),this.initTcfFramework(i).finally((()=>{e(i)})))})))):((0,Aa.T_)(),this.initTcfFramework())}return this.initTcfFramework()}initTcfFramework(e){return e&&!_a(e)&&(e.tcString&&ma.e.saveEuconsent(e.tcString,!0),e.addtlConsent&&ma.e.saveEuconsent(e.tcString,!0)),"function"==typeof window.__tcfapiui||document.querySelector('script[src^="'.concat("https://cmp.inmobi.com",'/choice/"]'))?Promise.resolve(!0):"2.1"===this._options.TCF_VERSION?(this.$adaptor=new va(this._options),Promise.resolve(!0)):(this.$adaptor=new ya,this.$adaptor.load(this._options))}onCpmUiShown(){return new Promise((e=>{window.__tcfapi("addEventListener",ga.lW,(function(t,i){"cmpuishown"===t.eventStatus&&(window.__tcfapi("removeEventListener",2,(function(e){}),t.listenerId),e(t))}))}))}onUserActionComplete(){return new Promise(((e,t)=>{window.__tcfapi("addEventListener",ga.lW,(function(i,n){(i.tcString||"useractioncomplete"===i.eventStatus)&&(window.__tcfapi("removeEventListener",ga.lW,(function(e){}),i.listenerId),n?e(i):t(i))}))}))}getConsentDate(){return new Promise(((e,t)=>{window.__tcfapi("getTCData",ga.lW,(function(i,n){n?e(i):t(i)}))}))}}var Ia=i(7514);const wa="usprivacy";class Sa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";(0,Me.A)(this,"$store",void 0),(0,Me.A)(this,"_el",null),(0,Me.A)(this,"_version",void 0),(0,Me.A)(this,"_optInVal","YNY"),(0,Me.A)(this,"_optOutVal","YYY"),this._version=e,this.$store=(0,Ia.A)()}get uspString(){return this.get()}get isOptIn(){return this.uspString===this._version+this._optInVal}__uspapi(e,t,i){let n={};if("getUSPData"===e)n.uspString=this.get(t);(0,fi.A)(i)&&i(n,!0)}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=E(e)?this._version:e;let t=this.$store.getItem(wa);return(0,r.A)(t)&&0===t.indexOf(e)?t:""}set(e){if(this.$store.setItem(wa,e?this._version+this._optInVal:this._version+this._optOutVal),this._el){let t=(0,Vi.V)(".ympb__usp-status",this._el);t&&(t.innerText=e?"Opt-Out":"Opt-In")}}toggle(){this.set(!this.isOptIn)}load(e){let t=document.body;if(e.YMPB_USP_CONTAINER){let i=(0,Vi.V)(e.YMPB_USP_CONTAINER);i&&(t=i)}this._el=(0,qi.el)("div",{class:"ympb_usp",innerHTML:"Information from your device can be used to personalize your ad experience. ",style:{zIndex:e.YMPB_BASE_INDEX}},(0,qi.el)("div",{class:"ympb_usp_opts",innerHTML:'Please <a class="ympb__usp-toggle">Click Here</a> to <span class="ympb__usp-status">Opt-'.concat(this.isOptIn?"Out":"In","</span>.")}));let i=(0,Vi.V)(".ympb__usp-toggle",this._el);null==i||i.addEventListener("click",this.toggle.bind(this)),(0,qi.Or)(t,this._el)}init(){this.uspString||this.set(!0),window.__uspapi=this.__uspapi.bind(this)}}function Ca(e){e.forEach((function(e){if(void 0===e.called)try{e.call(void 0),e.called=!0}catch(e){}}))}const Ta=function(e){return e&&e.length?(0,li.A)(e):[]};function Oa(e,t,i,n,r){let s=[],o=0;if(t.length>0){let a=function(e){let t=0;for(let i=0;i<e.length;i++){const n=e[i];if(n)for(let r=0;r<n.length;r++)e[i][r]&&(t+=1)}return t}(t),d=function(e){let t=0;return e.forEach((e=>{const i=Math.max.apply(null,e.map((e=>"width"in e?e.height:e[1])));t+=i})),t}(t);for(let c=0;c<t.length;c++){const l=t[c];if(!l)continue;i[0],l.length;let u=l.reduce(((e,t)=>e+("width"in t?t.width:t[0])),0);for(let c=0;c<l.length;c++){let p=l[c];if(!p)continue;let h=[],f={groupIndex:o++};Object.assign(f,r),"width"in p?(h=[p.width,p.height],f.adId=p.adId):h=p;let g=We.filter((e=>e[0]<=i[0]&&e[1]<=i[1]));if(1===a)g.sort(((e,t)=>t[0]*t[1]-e[0]*e[1])),h=[g[0][0],g[0][1]];else{let e=d-h[1],r=u-h[0],s=g.filter((s=>s[0]<=i[0]-r-(l.length-1)*n&&s[1]<=i[1]-e-(t.length-1)*n));s.length>0&&(s.sort(((e,t)=>t[0]*t[1]-e[0]*e[1])),h=[s[0][0],s[0][1]],l.length<=1&&(d=e+h[1]),u=r+h[0])}f.subtype=pn(h);let m=on(e,{dataset:f,style:{flexBasis:(100*h[0]/i[0]).toFixedNoRounding(2)+"%",minWidth:h[0]+"px"}},Ki),v=Ud.createAdUnit(m);v&&s.push(v)}}}return s}function xa(e,t,i,n){if(!e)return null;i=i||{dataset:{}};let r=function(e){let t=Bi(e),i=t.match(/(.*)\s(.*)$/),n={};i&&(t=i[2]);let r=[...t.matchAll(/\[data-(\w+)(?:="(\w+)")?\]/g)];if(r.length>0){let e=t.match(/([\w-]+)/);e&&(t=e[0])}return r.forEach((e=>{n[e[1]]=e[2]||""})),{parent:i?i[1]:null,type:t,dataset:n}}(e);return n||(n=r.parent?(0,Vi.V)(r.parent):window.document.body),Object.assign(i.dataset,r.dataset,{type:t?t+"-"+r.type:r.type}),n?on(n,i):null}class Ra{constructor(e){(0,Me.A)(this,"_ympbId",void 0),(0,Me.A)(this,"_groupType",""),(0,Me.A)(this,"_el",void 0),(0,Me.A)(this,"_refreshCount",0),(0,Me.A)(this,"_$activeAdUnit",null),(0,Me.A)(this,"$adUnits",[]),(0,Me.A)(this,"slotDataset",{}),this._el=e,this._ympbId=at(),this.slotDataset=Lo(e),this.slotDataset.gid=at(),this._el.dataset.gid=this.slotDataset.gid,this._el.dataset.ympbId=this._ympbId,this.removeAdUnit=this.removeAdUnit.bind(this)}get $activeAdUnit(){return this._$activeAdUnit}set $activeAdUnit(e){this._$activeAdUnit=e}get isVideoMode(){return this.$activeAdUnit&&this.$activeAdUnit.isVideoSlot}init(){this._el.classList.add("ympb_space-around"),this._el.classList.add(tn),(0,qi.eC)(this._el,{gap:this.slotDataset.slotSpacing+"px"})}getMaxSize(){let e=vn(this.slotDataset.subtype);if(e&&ii(e))return e;e=mn(dn(this.slotDataset.type));let t=Ud.getOption("YMPB_USE_CONTAINER_SIZE")?vr(this._el):this._el;return mn([e,[t.offsetWidth,t.offsetHeight]])}empty(){for(let e=this.$adUnits.length-1;e>=0;e--){const t=this.$adUnits[e];try{t.delete(!0,!1,!0)}catch(e){}}this.$adUnits.length=0}addAdUnit(e){e.$blockParent=this,e.addEventListener(Ht.NW,this.removeAdUnit),this.$adUnits.push(e)}createAdUnit(e,t,i){let n=xa(e,t,i,this._el);return n?Ud.createAdUnit(n):null}removeAdUnit(e){const t=e.detail.statusData||{};for(let e=0;e<this.$adUnits.length;e++){if(this.$adUnits[e].adUnitCode===t.adUnitCode){if(this.$adUnits.splice(e,1),!this.$activeAdUnit||this.$activeAdUnit.adUnitCode===t.adUnitCode)return e;break}}return-1}generateSlots(e,t){this.empty();let i={type:this.slotDataset.type,groupId:this.slotDataset.gid,groupType:this._groupType,fluid:e.length>1||!Ud.getOption("YMPB_ENABLE_FLUID_SIZE")?"false":"true",refreshCount:this._refreshCount};this.slotDataset.hasOwnProperty("refreshrate")&&(i.refreshrate=this.slotDataset.refreshrate);let n=this.slotDataset.slotSpacing?+this.slotDataset.slotSpacing:qe;if(0===e.length){let i=We.filter((e=>e[0]<=t[0]&&e[1]<=t[1]));i.sort(((e,t)=>t[0]*t[1]-e[0]*e[1])),i.length>0&&(e=[[i[0]]])}Oa(this._el,e,t,n,i).forEach((e=>{this.addAdUnit(e)}))}switchTo(e){if(!(e<0||e>=this.$adUnits.length)){for(let t=0;t<this.$adUnits.length;t++){const i=this.$adUnits[t];t!==e&&(i.$status.onComplete(),i.$status.updateEndTime(),i.disable())}this.$activeAdUnit=this.$adUnits[e],this.$activeAdUnit.show()}}switchToLast(){this.switchTo(this.$adUnits.length-1)}switchToAdUnitCode(e){let t=u(this.$adUnits,(t=>t.adUnitCode===e));this.switchTo(t)}switchToAdUnit(e){this.switchToAdUnitCode(e.adUnitCode)}compete(e,t){let i=this.slotDataset.maxSlots||2,n=this.slotDataset.slotSpacing||qe,r=this.slotDataset.multiMode||"dynamic",s=hn(this.slotDataset.insertGrid);return Ud.getCacheInstanse().pickByArea("",e,+i,+n,"dynamic"===r,0,s,t)}refresh(){if(!this.checkBlockVisible())return[];if((0,ci.A)(this.$adUnits,(e=>e.$status.checkReadyForRefresh())).length<1&&this.$adUnits.length>0)return[];let e=!1,t=this.getMaxSize(),i=this.compete(t),n=Ud.getCacheInstanse();for(let t=0;t<i.length;t++)if(i[t])for(let r=0;r<i[t].length;r++){let s=i[t][r];Go(s)&&(e=!0,n.lockBid(s))}return(0===this.$adUnits.length||e)&&this.generateSlots(i,t),this.$adUnits.length>0&&this._refreshCount++,this.$adUnits}checkBlockVisible(){return Jt(this._el)}checkContainCodeBlock(e){let t;return e.forEach((e=>(t=Le(this.$adUnits,(t=>e===t.adUnitCode)),!t))),!!t}}class Da extends Ra{constructor(e){super(e),this._groupType="multi";let t=this.slotDataset.type;if(t){let e="YMPB_MEDREC_TO_MULTI";Yo.codeTypeContains(t,"leaderboard")&&(e="YMPB_LEADERBOARD_TO_MULTI"),this.slotDataset=Object.assign({slotSpacing:qe/2},Ud.getOption(e)||{},this.slotDataset)}this.init()}getMaxSize(){let e=hn(this.slotDataset.maxSize),t=super.getMaxSize();return ti(e)?[e[0]>0?e[0]:t[0],e[1]>0?e[1]:t[1]]:t}}const Ua={"33across":58,aol:25,appnexus:32,conversant:24,gumgum:61,ix:10,openx:69,pubmatic:76,pulsepoint:81,rubicon:52,sovrn:13,synacormedia:1106,triplelift:28};const Ba=class{constructor(e){(0,Me.A)(this,"_counter",0),(0,Me.A)(this,"$yollaOptions",void 0),(0,Me.A)(this,"$adUnitTemplates",new Ar),this.$yollaOptions=e;let t=this.$yollaOptions.$deviceDetector.slotType,i=this.$yollaOptions.getOptions();if(i.YMPB_AUTO_INSERT.length>0)for(let e=0;e<i.YMPB_AUTO_INSERT.length;e++){xa(i.YMPB_AUTO_INSERT[e],t)}}increaseCounter(){return this._counter++}hideUnsupportedSlots(){var e;e=this.$yollaOptions.$deviceDetector.slotType,(0,Vi.I)("".concat(".ympb_target[data-type]",':not([data-type*="').concat(e,'"])')).forEach((e=>{e.classList.add(en)}))}resetAdUnitTemplate(e,t){this.$adUnitTemplates.empty(),t&&(this.$yollaOptions.$deviceDetector.deviceType=t);let i=this.$yollaOptions.$deviceDetector.slotType,r=this.$yollaOptions.getOptions();(0,n.A)(e,(e=>{let t=!1;e.renderer={url:"",render:function(e){}},e.code.indexOf(i)>-1&&(e.defaultSizes=dn(e.code,i),t=!0),t&&(r.ENABLE_NATIVE?e.mediaTypes.indexOf("native")<0&&e.mediaTypes.indexOf("video")<0&&e.mediaTypes.push("native"):e.mediaTypes=e.mediaTypes.filter((e=>"native"!==e)),this.$adUnitTemplates.add(e))}))}hasAdUnitTemplateByType(e){return this.$adUnitTemplates.findIndex({code:e})>-1}findRawAdUnitTemplate(e){return this.$adUnitTemplates.find(e)}getAdUnitTemplate(e){let t=this.findRawAdUnitTemplate(e);if(!t)return;let i=Ue(t);i.bids=[];const r={},s=Be.Ay.getConfig("gvlMapping")||{};return(0,n.A)(t.bids,(e=>{if(!(this.$yollaOptions.find("BIDDERS",e.bidder)>=0))return!0;let t=Ue(e);t.labelAny=[];for(let e in En)this.$yollaOptions.find(e,t.bidder)>=0&&t.labelAny.push(En[e]);(t.bidder!==t.alias||["conversant","openx","synacormedia"].indexOf(t.alias)>-1)&&Ua.hasOwnProperty(t.alias)&&(s[t.bidder]||(r[t.bidder]=Ua[t.alias])),t.bidder!==t.alias?(t.ymAlias=t.bidder,t.bidder=t.alias,t.alias=t.ymAlias,t.parentBidderCode=t.bidder):(t.ymAlias=t.bidder,t.parentBidderCode=t.bidder),i.bids.push(t)})),E(r)||Tn({gvlMapping:r}),i}convertRawSlotsIntoAdTags(){let e=ln(this.$yollaOptions.$deviceDetector.slotType),t=this.$yollaOptions.getOptions();e.forEach((e=>{let i=null==e?void 0:e.dataset.type,n=this.getAdUnitTemplate({code:i});if(n){let i="".concat(n.code,"-").concat(this._counter++);new Sr(e,i,t,"")}}))}};function ka(){return(performance||Date).now()}const Pa={usedMemory:-1,usedMemoryPercentage:-1,fps:-1};let $a=0,Ma=0,La=0;$a=ka(),Ma=$a,function e(){La++;let t=ka();if(t>=Ma+1e3){let e=1e3*La/(t-Ma);Pa.fps=Math.floor(e),Ma=t,La=0}requestAnimationFrame(e)}();const Na={};function ja(e,t){let i=e.clone();return i.setCenter(t.center()),i.intersect(t)}function Fa(e,t){let i=new Ct(e.$adTag.wrapperEl),n=Math.max(Ud.getOption("SWAP_OVERLAP"),$e.g4),r=e.$status.creativeSize[0]>t.$status.creativeSize[0]||e.$status.creativeSize[1]>t.$status.creativeSize[1]?t.$adTag.slotAreaEl:t.$adTag.wrapperEl,s=new Ct(r);if(i.height=i.height-e.$adTag.$footer.getHeight(),s.height=s.height-t.$adTag.$footer.getHeight(),s.viewbility()<1&&s.restrictTo(Ct.$vp),i.width<2){let t=i.center();i.width=e.$status.creativeSize[0],i.height=e.$status.creativeSize[1],i.setCenter(t)}e.$status.isFluidAds&&i.width>s.width&&(i.width=s.width,i.height=s.height*(1+n)),t.isAdhesion&&(s.width=Math.min(i.width,t.$adSizeConfig.maxAllowedSize[0]),s.height=Math.min(i.height,t.$adSizeConfig.maxAllowedSize[1]),s.snapTo(Ct.$vp,"bottom"));let o=ja(i,s);return o.area()/i.area()>=n?o:null}function za(e,t){let i=new Ct(vr(t.$adTag.parentEl)),n=new Ct(e.$adTag.wrapperEl),r=ja(n,i);return r.area()/n.area()>=.5?r:null}function qa(e,t,i){Na[e.adUnitCode]=t.adUnitCode,Na[t.adUnitCode]=e.adUnitCode,e.$adTag.holdSlotAreaSize(i.size);let n=[Math.min(i.size[0],e.$status.creativeSize[0],t.$status.creativeSize[0]),Math.min(i.size[1],e.$status.creativeSize[1],t.$status.creativeSize[1])];t.$adTag.holdSlotAreaSize(n);let r=i.center().distance(e.$status.$position.center());t.$adTag.swapTo(r,!0);let s=e.$status.$position.center().distance(i.center());e.$adTag.swapTo(s),e.$status.onSwapStart(t,!0),t.$status.onSwapStart(e,!1),t.$adTag.parentEl.dataset.swapping="sizer",e.$adTag.parentEl.dataset.swapping="sizer"}function Va(e,t,i){Na[e.adUnitCode]=t.adUnitCode,Na[t.adUnitCode]=e.adUnitCode,e.$adTag.holdSlotAreaSize(i.size);let n=[Math.min(i.size[0],e.$adTag.parentElPosition.size[0],t.$adTag.parentElPosition.size[0]),Math.min(i.size[1],e.$adTag.parentElPosition.size[1],t.$adTag.parentElPosition.size[1])];t.$adTag.holdParentSlotAreaSize(n);let r=i.center().distance(e.$status.$position.center());t.$adTag.parentSwapTo(r);let s=e.$status.$position.center().distance(i.center());e.$adTag.swapTo(s),e.$adTag.parentEl.dataset.swapping="sizer",t.$adTag.parentEl.dataset.swapping="parent",e.$status.onSwapStart(t,!0),t.$status.onSwapStart(e,!1),(0,fi.A)(YMPB.pub.onSwapStart)&&YMPB.pub.onSwapStart(e.$adTag.el)}function Ga(e){e.$adTag.releaseSlotAreaSize(),!e.$status.isFluidAds&&ii(e.$status.creativeSize)&&e.$adTag.setSlotSize(e.$status.creativeSize),e.$adTag.swapBack(),e.$status.onSwapEnd(),e.$adTag.parentEl.dataset.swapping="",delete Na[e.adUnitCode],(0,fi.A)(YMPB.pub.onSwapBack)&&YMPB.pub.onSwapBack(e.$adTag.el)}function Wa(e){e.$adTag.releaseParentSlotAreaSize(),e.$adTag.swapParentBack(),e.$status.onSwapEnd(),e.$adTag.parentEl.dataset.swapping=""}function Ha(e){return Na[e]}function Ya(e){let t=function(){let e=Ud.getOption("SWAPPING_INTERVAL"),t=ur(),i=Ud.getOption("SWAP_OVERLAP");return(0,ci.A)(t,(t=>{let n=!t.isOop&&!t.$status.isInVideoMode;return n=n&&(0,fi.A)(YMPB.pub.swapInFilter)?!!YMPB.pub.swapInFilter(t.$adTag.el):n,n=n&&t.$status.checkReadyForSwapIn(e,i),n}))}(),i=function(){let e=Ud.getOption("SWAPPING_INTERVAL"),t=Ud.getOption("SWAP_IGNORE_BIDDERS"),i=Ud.getAdUnitInstanse(),n=(0,ci.A)(i,(i=>{let n=!(0,fi.A)(YMPB.pub.swapFilter)||YMPB.pub.swapFilter(i.$adTag.el);return n=n&&i.$status.checkReadyForSwap(e,t),n}));return n.sort(((e,t)=>{let i=e.$status.swapCounter,n=t.$status.swapCounter;if(i===n)return n-i;{let i=e.$status.requestingBid?e.$status.requestingBid.cpm:0,n=t.$status.requestingBid?t.$status.requestingBid.cpm:0;if(i===n){let i=e.$status.$position.distanceToVp(),n=t.$status.$position.distanceToVp();return i.y-n.y}return i-n}})),n}(),r=function(){let e=Ud.getOption("SWAPPING_INTERVAL"),t=Ud.getAdUnitInstanse(),i=(0,ci.A)(t,(t=>t.$status.checkReadyForSwapBack(e)));return ht(i,(e=>{let n=Ha(e.adUnitCode);if(!Le(i,{adUnitCode:n})){let e=Le(t,{adUnitCode:n});e&&i.push(e)}})),i}();(0,n.A)(i,(e=>{let n=!1;if(ht(t,((r,s)=>{if(e===r||e.$adTag.parentEl.dataset.swapping||r.$adTag.parentEl.dataset.swapping)return!0;let o=Fa(e,r);if(o&&o&&!r.$adTag.parentEl.dataset.swapping&&!e.$adTag.parentEl.dataset.swapping)return t.splice(s,1),n=!0,qa(e,r,o),!1;if(r.$adTag.parentEl.className.indexOf(Xi)>=0&&!r.$adTag.parentEl.dataset.swapping){if(r.$adTag.parentEl.parentElement){if(!new Ct(r.$adTag.parentEl.parentElement).viewbility())return!1;if(o=za(e,r),o)return i.splice(s,1),n=!0,Va(e,r,o),!1}}else if(r.$adTag.parentEl.className.indexOf(Xi)>=0&&r.$adTag.parentEl.dataset.swapping&&e.$adTag.parentEl.dataset.swapping)return!1})),n)return!0;ht(r,((t,i)=>{if(t.$status.isSwapIntoView||e.$adTag.parentEl.dataset.swapping||t.$adTag.parentEl.dataset.swapping)return!0;let s=Fa(e,t);if(s)return r.splice(i,1),qa(e,t,s),!1;if(t.$adTag.parentEl.className.indexOf(Xi)<0&&!e.$adTag.parentEl.dataset.swapping){if(t.$adTag.parentEl.parentElement){if(!new Ct(t.$adTag.parentEl.parentElement).viewbility())return!1;if(s=za(e,t),s)return r.splice(i,1),n=!0,Va(e,t,s),!1}}else if(t.$adTag.parentEl.className.indexOf(Xi)>=0&&t.$adTag.parentEl.dataset.swapping&&e.$adTag.parentEl.dataset.swapping)return!1}))})),r.forEach((e=>{"parent"===e.$adTag.parentEl.dataset.swapping&&Wa(e),Ga(e)}))}var Ja=i(7500);function Ka(e){var t,i;return e=e.replace(/-\d+$/,""),(null===(t=YMPB.getConfig("floors"))||void 0===t||null===(t=t.data)||void 0===t?void 0:t.values[e])!==(null===(i=YMPB.getOption("FLOOR_CONFIG"))||void 0===i||null===(i=i.data)||void 0===i?void 0:i.values[e])}function Qa(e,t){var i;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,Ja.A)(t,"OUTSTREAM_SETTING.floorAdjustRule");if(Yt(r)||r<0)return!1;e=e.replace(/-\d+$/,"");let s=YMPB.getConfig("floors"),o=t.FLOOR_CONFIG,a=null===(i=o.data)||void 0===i?void 0:i.values[e],d=Ue(s||o);return a>0&&(d.data.values[e]=n?a*r:a,Tn({floors:d}),!0)}function Xa(e,t){return Qa(e,t,!1)}function Za(e,t){let i=(0,Ja.A)(t,"OUTSTREAM_SETTING.floorAdjustRule");return!(Yt(i)||i<0)&&(xo(e,!1).length<1&&function(e,t){return Ka(e)?(Xa(e,t),!1):Qa(e,t)}(e,t))}class ed extends Ra{constructor(e){super(e),(0,Me.A)(this,"_$videoAdUnit",null),this.slotDataset.insertGrid||(this.slotDataset.insertGrid="1x2"),this._groupType="companion",this.init()}get $videoAdUnit(){return this._$videoAdUnit}init(){super.init();let e=vn(this.slotDataset.subtype);e&&(0,qi.eC)(this._el,{width:"".concat(e[0],"px"),height:"".concat(e[1],"px")});let t=Ud.getDeviceSlotType(),i={class:"".concat(en," ").concat(Ki),dataset:{}};i.dataset=Ue(this.slotDataset),i.dataset.multiMode="disabled",i.dataset.groupType=this._groupType;const n=this.slotDataset.companion||'outstream[data-enableclose="false"][data-enablegam="false"]';let r={dataset:{gid:i.dataset.gid,groupType:this._groupType,enablegam:"",position:"inarticle"}};this._$videoAdUnit=this.createAdUnit(n,t,r),this.disableOutstream()}empty(){this.disableOutstream(),super.empty()}refresh(){if(!this.checkBlockVisible())return[];let e=!1;if(this._$videoAdUnit){var t;if(Jt(this._$videoAdUnit.$adTag.el))if(e=null===(t=this._$videoAdUnit)||void 0===t?void 0:t.$status.checkReadyForRefresh(),!this._$videoAdUnit.$status.isDisabled&&(this._$videoAdUnit.$status.hasError&&(/^ima/.test(this._$videoAdUnit.$status.errorMessage+"")?e=!0:this.disableOutstream()),!e))return[];this._$videoAdUnit.$status.counter=-1,this._$videoAdUnit.$status.refreshCounter=this._refreshCount}e&&this.empty();let i=super.refresh();return this._$videoAdUnit&&Jt(this._$videoAdUnit.$adTag.el)&&(this._$videoAdUnit.$status.isDisabled||(i=i.concat(this._$videoAdUnit),this.$adUnits.length<1&&this._refreshCount++)),i}generateSlots(e,t){let i;e:for(let t=0;t<e.length;t++)if(e[t])for(let n=0;n<e[t].length;n++){let r=e[t][n];if(Go(r)&&"video"===r.mediaType){i=r,e.splice(t,1);break e}}i&&(t[1]-=Ye[1]+qe),super.generateSlots(e,t),i&&this._$videoAdUnit&&(ir(this._$videoAdUnit,i),this.enableOutstream())}compete(e){var t;return super.compete(e,null===(t=this._$videoAdUnit)||void 0===t?void 0:t.adUnitCode)}enableOutstream(){var e,t,i;null===(e=this._$videoAdUnit)||void 0===e||e.resume(),null===(t=this._$videoAdUnit)||void 0===t||t.show(),null===(i=this._$videoAdUnit)||void 0===i||i.$adTag.el.classList.remove(en)}disableOutstream(){var e,t;null===(e=this._$videoAdUnit)||void 0===e||e.$adTag.stop(),null===(t=this._$videoAdUnit)||void 0===t||t.$adTag.el.classList.add(en)}}let td={desktop:'[data-type^="desktop-"]',phone:'[data-type^="mobile-"]',tablet:'[data-type*="-tablet-"]'};class id{constructor(e){(0,Me.A)(this,"includes",[]),(0,Me.A)(this,"excludes",[]),(0,Me.A)(this,"_selector",'[class^="ympb_"]'),(0,Me.A)(this,"$device",void 0),this.$device=e}preSelect(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.includes=[],this.excludes=[],this._selector=e?".ympb_".concat(e):'[class^="ympb_"]',t&&(this.is(this.$device.slotType),"tablet"!==this.$device.slotType&&this.not("tablet"))}target(){return this.preSelect(Cn.TARGET),this}anchor(){return this.preSelect(Cn.ANCHOR),this}multi(){return this.preSelect(Cn.MULTI),this}dynamic(){return this.preSelect(Cn.DYNAMIC),this}video(){return this.preSelect(Cn.VIDEO),this}delay(){return this.preSelect(Cn.DELAY),this}is(e){return td.hasOwnProperty(e)&&this.has(td[e]),this}not(e){return td.hasOwnProperty(e)&&this.exclude(td[e]),this}has(e){return this.includes.indexOf(e)<0&&this.includes.push(e),this}exclude(e){return this.excludes.indexOf(e)<0&&this.excludes.push(e),this}medrec(){return this.has('[data-type*="-medrec-"]')}leaderboard(){return this.has('[data-type*="-leaderboard-"]')}adhesion(){return this.has('[data-type*="-adhesion"]')}oop(){return this.has('[data-type*="-oop"]')}sticky(){return this.has('[data-type*="-sticky-"]')}get(){let e="".concat(this._selector).concat(this.includes.join(""));return this.excludes.length&&this.excludes.forEach((t=>{e+=":not(".concat(t,")")})),(0,Vi.I)(e)}}class nd{constructor(e,t){(0,Me.A)(this,"type","medrec"),(0,Me.A)(this,"_convertionAllowedRemains",0),(0,Me.A)(this,"_hasFirstSlotSkipped",!1),(0,Me.A)(this,"_maxCount",-1),(0,Me.A)(this,"$slotSelector",void 0),this.type=e,this._maxCount=Gi(t)?+t:20,this._convertionAllowedRemains=this._maxCount;let i=Ud.getOptionInstanse().$deviceDetector;this.$slotSelector=new id(i)}get hasFirstSlotSkipped(){return this._hasFirstSlotSkipped}set hasFirstSlotSkipped(e){this._hasFirstSlotSkipped=e}countExistedMultiElements(){let e=this.$slotSelector.multi().has("[data-type*=".concat(this.type,"]")).get();return e?e.length:0}countSkippedSkippedElement(){let e=this.$slotSelector.target().has("[data-type*=".concat(this.type,"]")).has('[data-multi-mode="'.concat("skipped",'"]')).get();return e?e.length:0}getEligibleTargets(){let e=this.$slotSelector.target().has("[data-type*=".concat(this.type,"]")).exclude("[data-group-id]").exclude("[data-status]").get();return(0,ci.A)(e,(e=>!e.dataset.multiMode||"skipped"!==e.dataset.multiMode&&"disabled"!==e.dataset.multiMode))}convert(){if(this._maxCount<1||this._convertionAllowedRemains<1)return;let e=this.countExistedMultiElements();if(e>=this._maxCount)return;let t=this.getEligibleTargets();if(t.length<1)return;if(this.hasFirstSlotSkipped||(this.hasFirstSlotSkipped=this.countSkippedSkippedElement()>0),t=wi(t,[e=>null===function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[];for(;e&&e!==document.body;e=e.parentElement){let r=getComputedStyle(e);for(const s in t){let o=t[s];if(r[s]&&r[s]===o){if(1===i)return e;n.push(e)}}}return 1===i?n[0]||null:n}(e,{position:"fixed"})?0:-1,e=>e.className.indexOf("_delay")<0||!Jt(e)?-1:1,e=>e.getBoundingClientRect().top],["asc","asc","asc"]),!this.hasFirstSlotSkipped&&t.length>this._convertionAllowedRemains){let e=t.shift();e&&(e.dataset.multiMode="skipped",this.hasFirstSlotSkipped=!0)}let i=(0,ci.A)(t,(e=>Jt(e)));i.length<1&&t.length>0&&e<1&&(i=t.splice(0,this._convertionAllowedRemains));for(let e=0;e<i.length&&this._convertionAllowedRemains-- >0;e++){i[e].className=Xi}}}let rd=!1;const sd=class extends Ba{constructor(e,t,i){super(e),(0,Me.A)(this,"$scroller",void 0),(0,Me.A)(this,"$intersectionObserver",void 0),(0,Me.A)(this,"$resizeObserver",void 0),(0,Me.A)(this,"$adUnitInstances",new Ar),(0,Me.A)(this,"$bidCache",null),(0,Me.A)(this,"$multiCodeConvertion",null),(0,Me.A)(this,"$leaderboardMultiCodeConvertion",null),(0,Me.A)(this,"$companionBlocks",[]),(0,Me.A)(this,"$multiCodeBlocks",[]),(0,Me.A)(this,"_enableSwap",!1),this.$scroller=t,this.$bidCache=i,this.$intersectionObserver=new IntersectionObserver((e=>{e.forEach((e=>{e&&e.isIntersecting&&this.onIntersection(e.target,e.intersectionRatio)}))}),{threshold:[0,$e.uH,$e.g4]}),this._enableSwap=this.$yollaOptions.getOption("YMPB_ENABLE_SWAPPING"),Rr.isEnabled&&Rr.onchange((e=>{this.onFullscreenChange(e)})),this.$resizeObserver=new ResizeObserver((e=>{e.forEach((e=>{this.onElementResize(e)}))}));let n=this.$yollaOptions.getOptions();this.$multiCodeConvertion=new nd("medrec",n.YMPB_MEDREC_TO_MULTI_NUM),this.$leaderboardMultiCodeConvertion=new nd("leaderboard",n.YMPB_LEADERBOARD_TO_MULTI_NUM),window.addEventListener("resize",kr((()=>{Wt()}),400)),Qt.addEventListener(Ht.mE,(()=>{Xa("".concat(this.$yollaOptions.$deviceDetector.slotType,"-","outstream"),n)}))}onElementResize(e){let t=e.target,i=this.$adUnitInstances.find((function(e){return e.$adTag&&e.$adTag.elId===t.id}));i&&i.dispatchEvent(new CustomEvent(Ht.ku))}onFullscreenChange(e){}onIntersection(e,t){let i=t>=$e.g4,n=this.$adUnitInstances.find((function(t){return t.$adTag.id===e.id}));i?null==n||n.$status.onInview():null==n||n.$status.onOutOfView(!1)}createNewAdUnit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.$yollaOptions.getOptions();if(this.$adUnitInstances.counts()>=n.MAX_SLOTS)return null;let r=null==e?void 0:e.dataset.type;if((null==e?void 0:e.dataset.wius)===Sn.IDLE&&Ed.isActive())return null;if(r&&Yo.codeTypeContains(r,"outstream")){if(this.$adUnitInstances.findAll((e=>e.isOutstream)).length>=$e.z3)return null}let s=this.getAdUnitTemplate({code:r});if(!s)return null;let o=Ue(s);o.index=this._counter++;let a=new Yo(e,o,n,i);if(this.$adUnitInstances.add(a),a.addEventListener(Ht.NW,(()=>{this.$adUnitInstances.remove(a)})),n.ENABLE_BETTER_ADS=!1,null!=n.CHECKING_BETTER_ADS&&this.$yollaOptions.$deviceDetector.isMobile){let e=this.$adUnitInstances.findIndex((e=>!e.isOop&&!e.isAdhesion&&!e.isPreroll&&e!==a&&e.$adSizeConfig.maxAllowedSize[1]>$e.AT&&Math.abs(e.$status.$position.y-a.$status.$position.y)<$e.s9));n.ENABLE_BETTER_ADS=e>-1}return n.YMPB_AD_FOOTER_ENABLED&&(n.YMPB_AD_FOOTER_TEXT_TO_ALL||this.$adUnitInstances.findIndex("hasAdFooter")<0)&&a.showAdFooter(),a.init(n,t),this.$intersectionObserver.observe(a.$adTag.dfpContainer),this.$resizeObserver.observe(a.originalEle),a.isWorkInIdle&&a.disable(),a.addEventListener(Ht.UU,(e=>{if(!a.isOutstream)return;const t=e.detail.statusData.errorMessage+"",i=t.match(/yolla_(\d+)/i),r=t.match(/ima_(\d+)/i);let s=Ka(a.adUnitCode);a.isCompanion||(s?(Xa(a.adUnitCode,n),s=!1):i&&204==+i[1]&&(s=Za(a.adUnitCode,n))),a.isWorkInIdle&&Ed.isActive()?a.disable():s||r&&1205!=+r[1]&&400!=+r[1]&&303!=+r[1]?a.resume():a.isWorkInIdle||a.isCompanion?a.disable():(a.reset(),a.isFloatingOutstream&&a.hide())})),a.addEventListener(Ht.uq,(e=>{if(!a.isOutstream)return;const t=e.detail.statusData;a.isCompanion||t.hasError||Xa(a.adUnitCode,n),a.isWorkInIdle&&Ed.isActive()?a.disable():t.hasError||a.resume()})),a}convertRawSlotsIntoAdUnits(){let e=ln(this.$yollaOptions.$deviceDetector.slotType);this.$yollaOptions.$deviceDetector.isFullscreenMode&&(e=e.concat(function(e){return cn(sn,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])}(this.$yollaOptions.$deviceDetector.slotType))),(0,n.A)(e,(e=>{this.createNewAdUnit(e)}))}cleanupDeadAdunits(){ht(this.$adUnitInstances.items,(e=>{if(e.hasInstream)return!0;if(e.$adTag&&(0,Vi.V)("#".concat(e.$adTag.id)))e.$status.isRequesting&&e.$status.requestDuration>=$e.ke&&(e.$status.onRequestEnded(),e.renderWithoutPlatform()||(e.$status.onError("yolla_"+Pe.A.ADUNIT_NOT_RESPONSE_INTIME),this.$yollaOptions.getOption("ATTACH_URL_FLAG")&&kt(!0)));else try{e.delete(!0,!1,!0)}catch(e){}finally{this.$adUnitInstances.remove(e)}}))}checkStalledAdunits(){ht(this.$adUnitInstances.items,(e=>{Jt(e.$adTag.wrapperEl)&&(!1===e.$status.checkHealthy()?(Qt.qd(Ht.Fx,{statusData:e.$status.getStatusData()}),e.reset(!0)):!1===e.$status.checkVideoHealthy()&&(Qt.qd(Ht.Fx,{statusData:e.$status.getStatusData()}),e.pause()))}))}updateImpressionStatus(){(0,n.A)(this.$adUnitInstances.items,(e=>{e.$status.checkDirectRenderImpressionViewable()&&e.$status.onPrebidImpressed()}))}cleanupDynamicAdunits(){let e=this.$adUnitInstances.findAll((e=>e.$status.isDestroyable));(0,n.A)(e,(e=>{this.$intersectionObserver.unobserve(e.$adTag.dfpContainer),this.$resizeObserver.unobserve(e.originalEle),e.$status.isReadyForDestroy?e.isFloatingOutstream?e.delete(!0,!1):e.delete(!0):e.isLazyload?e.delete(!1):e.close(),this.$adUnitInstances.remove(e),e=null}))}sortAdunits(){this.$adUnitInstances.sortBy(((e,t)=>e.$status.$position.y>t.$status.$position.y?1:-1))}refresh(){let e=this.$adUnitInstances.findAll((e=>!e.isCompanion&&!e.isMulti&&e.$status.checkReadyForRefresh()&&Jt(e.$adTag.wrapperEl)));for(let t=0;t<this.$multiCodeBlocks.length;t++){const i=this.$multiCodeBlocks[t];i.checkBlockVisible()&&(e=e.concat(i.refresh()))}for(let t=0;t<this.$companionBlocks.length;t++){const i=this.$companionBlocks[t];if(i.checkBlockVisible()){const t=i.refresh();if(t.length>0){Le(t,(e=>e.isVideoSlot))||Qn(),e=e.concat(t)}}}(0,fi.A)(YMPB.pub.refreshFilter)&&(e=e.filter((e=>YMPB.pub.refreshFilter&&YMPB.pub.refreshFilter(e.$adTag.el))));let t={enableQuickRequest:!!Le(e,(e=>e.parentId)),enableSwap:this._enableSwap};return e=Ta(e),fr(e,[],t).length}refreshInInactive(){let e=this.$yollaOptions.getOptions(),t=e.YMPB_FORCE_REFRESH;return t<e.YMPB_REFRESHRATE_MIN?0:fr(this.$adUnitInstances.findAll((e=>e.$status.checkReadyForRefreshBasicCondition(t)&&Jt(e.$adTag.wrapperEl)))).length}findCompanionByCode(e){return Le(this.$companionBlocks,(t=>t.checkContainCodeBlock([e])))}findMultiByCode(e){return Le(this.$multiCodeBlocks,(t=>t.checkContainCodeBlock([e])))}refreshAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||{},e.enableSwap=this._enableSwap,fr(this.$adUnitInstances.findAll((t=>!t.$status.isDestroyable&&(e.includeInvisible||Jt(t.$adTag.wrapperEl)))),[],e)}refreshByAdUnitCodes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};E(e)||(t=t||{},t.enableSwap=this._enableSwap,fr(this.$adUnitInstances.findAll((i=>e.indexOf(i.adUnitCode)>-1&&!i.$status.isDestroyable&&(t.includeInvisible||Jt(i.$adTag.wrapperEl)))),[],t))}destroyBy(e){let t=[];if(e){let i=this.$adUnitInstances.findAll(e);(0,n.A)(i,(e=>{t.push(e.adUnitCode),e.delete(!0,!1,!0),this.$adUnitInstances.remove(e)}))}return t}refreshPosition(){this.$adUnitInstances.each((e=>{e.$status.updatePosition()}))}checkDynamicSlots(){if(0===this.$scroller.speed.y)return!1;let e=this.$yollaOptions.getOptions(),t=Yt(e.DYNAMIC_DESTROY_SCREEN_VH)?e.DYNAMIC_LOAD_SCREEN_VH:e.DYNAMIC_DESTROY_SCREEN_VH,i=this.$adUnitInstances.findAll((e=>{if(!e.isDynamic)return!1;let i=e.$status.getDistanceToVp();return(this.$scroller.lastScroll.y<0&&i.y>0||this.$scroller.lastScroll.y>=0&&i.y<0)&&Math.abs(i.y)>Ct.$vp.height*t}));(0,n.A)(i,(e=>{e.$status.onClose(3)}))}checkGmiStatus(){let e=this.$adUnitInstances.find((e=>e.isGmi&&e.$status.isDfpRendered&&!e.$status.isImpressed));e&&e.$status.renderedDuration>=$e.Jp&&Ud.removeAdUnit(e)}dismissAdUnits(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$adUnitInstances.findAll((e=>e.isFloatingOutstream&&!e.$status.isDisabled));e&&(t=t.filter((e=>!0===e.slotDataset.autoDismiss||"true"===e.slotDataset.autoDismiss))),t.forEach((e=>{ri(e.$adTag)?e.$adTag.stop():(e.$status.updateEndTime(),e.disable())}))}tryToContinueFloatingOutstream(){let e=!Ed.isActive(),t=this.$adUnitInstances.findAll((t=>!!t.isFloatingOutstream&&(!!t.$status.isDisabled&&(!!t.isWorkInIdle&&e))));if(t=t.filter((e=>{if(e.$status.isReady)return!0;if(!e.$status.hasEverRefreshed())return!0;let t=e.slotDataset.type;const i=Math.round((Date.now()-e.$status.endAt)/1e3);return!!e.$status.isDisabled&&(!!Ka(t)||i>=Ed.idleDuration)})),t.length>0){t.forEach((e=>{e.$status.onPendding()})),Oo().then((e=>{e.autoplayAllowed&&t.forEach((e=>{e.resume(!0)}))})).catch((e=>{t.forEach((e=>{e.$status.updateEndTime(),e.disable()}))}))}}checkOutstreamStatus(){this.$adUnitInstances.findAll((e=>e.isOutstream)).forEach((e=>{!e.$status.isDisabled&&e.$status.checkForceRefresh()&&e.pause()})),this.$adUnitInstances.findAll((e=>e.isCompanion&&e.isOutstream)).length<$e.z3&&this.tryToContinueFloatingOutstream()}convertToMultiSlots(){this.$multiCodeConvertion.convert(),this.$leaderboardMultiCodeConvertion.convert()}checkCompanionCodeBlock(){let e=function(e){return cn(".ympb_target_companion[data-type]:not([data-ympb-id])",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:[])}(this.$yollaOptions.$deviceDetector.slotType);e=(0,ci.A)(e,(e=>Jt(e))),e.forEach((e=>{let t=new ed(e);this.$companionBlocks.push(t)}))}checkMutiCodeBlock(){let e=un(this.$yollaOptions.$deviceDetector.slotType);e=(0,ci.A)(e,(e=>Jt(e))),e.forEach((e=>{let t=new Da(e);this.$multiCodeBlocks.push(t)}))}checkLazyloadingSlots(){let e=this.$yollaOptions.getOptions(),t=qn({y:Ct.$vp.height*e.DYNAMIC_LOAD_SCREEN_VH});(0,n.A)(t,(e=>{this.createNewAdUnit(e)}))}swapBackAdUnitTag(e){let t=Ha(e.adUnitCode);if("sizer"===e.$adTag.parentEl.dataset.swapping?Ga(e):Wa(e),t){let e=this.$adUnitInstances.find({adUnitCode:t});e&&("sizer"===e.$adTag.parentEl.dataset.swapping?Ga(e):Wa(e))}}swapBackAll(){let e=this.$adUnitInstances.findAll((e=>e.$status.isSwapping&&e.$status.isSwapIntoView));ht(e,(e=>{this.swapBackAdUnitTag(e)}))}cleanupAuction(){ke.n.clearAuctions()}updateRefreshRate(e){let t=e/$e.Bm,i=this.$yollaOptions.getOption("REFRESHRATE_ONE_LIMIT");if(0===i||t<i||i<=this.$yollaOptions.getOption("YMPB_DEFAULT_REFRESHRATE"))return;let n=-1,r=this.$yollaOptions.getOption("REFRESHRATE_TWO_LIMIT");r=i>0&&r>0?i+r:0;let s=this.$yollaOptions.getOption("REFRESHRATE_THREE_LIMIT");s=r>0&&s>0?r+s:0,n=t<r||0===r?this.$yollaOptions.getOption("YMPB_REFRESHRATE_TWO"):t<s||0===s?this.$yollaOptions.getOption("YMPB_REFRESHRATE_THREE"):0,n>-1&&(this.$yollaOptions.setOption("YMPB_REFRESHRATE_MIN",n),0===n&&this.$yollaOptions.setOption("YMPB_REFRESH_RATE_NOFILL",n),this.$adUnitInstances.each((e=>{e.$status.refreshrate=n})))}deleteAll(){let e=this.$adUnitInstances.items;ht(e,(e=>{try{e.delete()}catch(e){}})),this.$adUnitInstances.empty(),function(){let e=googletag.pubads().getSlots();ht(e,(e=>{zt(e)}))}()}processLazyloadingAdUnits(){this.refreshPosition(),this.checkLazyloadingSlots(),this.checkDynamicSlots()}checkPoorPerformance(){let e=this.$yollaOptions.getOptions();if(e.YMPB_MEMORY_LIMIT>0&&(window.performance&&window.performance.memory?Math.round(window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit*100):-1)>e.YMPB_MEMORY_LIMIT)return YMPB.pause(),!0;let t=Pa.fps;return e.YMPB_FPS_LIMIT>0&&t>0&&t<e.YMPB_FPS_LIMIT&&(YMPB.pause(),setTimeout((function(){YMPB.resume()}),15e3),!0)}clearCache(){this.$bidCache.removeExpiredCache(),this.$bidCache.removeRenderedCache()}processAdUnits(e,t){if(this.cleanupDeadAdunits(),At())return void(rd=!0);if(rd)return void(rd=!1);if(this.updateImpressionStatus(),this.checkStalledAdunits(),(0,fi.A)(YMPB.pub.beforeProcess))try{YMPB.pub.beforeProcess.call(void 0,e,t)}catch(e){}if((0,fi.A)(YMPB.pub.isFullscreen)){let e=this.$yollaOptions.$deviceDetector.isFullscreenMode,t=YMPB.pub.isFullscreen();this.$yollaOptions.$deviceDetector.isFullscreenMode=t,e!==t&&this.swapBackAll()}if(this.checkPoorPerformance())return;if(this.convertToMultiSlots(),this.checkMutiCodeBlock(),this.checkCompanionCodeBlock(),this.refreshPosition(),this.cleanupDynamicAdunits(),an(this.$yollaOptions.$deviceDetector.slotType)>0&&this.processLazyloadingAdUnits(),this.convertRawSlotsIntoAdUnits(),this.checkGmiStatus(),this.checkOutstreamStatus(),this.updateRefreshRate(t),this._enableSwap&&Ya(),(e.enableRefresh?this.refresh():0)<1&&this.cleanupAuction(),(0,fi.A)(YMPB.pub.afterProcess))try{YMPB.pub.afterProcess.call(void 0,e,t)}catch(e){}this.clearCache()}processInInactive(e,t){this.refreshInInactive()}disableSwap(){this._enableSwap=!1,this.swapBackAll()}enableSwap(){this._enableSwap=!0}};function od(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i={value:-1};if("function"!=typeof window.requestAnimationFrame&&!1!==YMPB.options().YMPB_USE_RAF_API)return i.value=window.setTimeout(e,t),i;let n=Date.now();return i.value=requestAnimationFrame((function r(){Date.now()-n>=t?(e.call(void 0),i=null):i.value=requestAnimationFrame(r)})),i}window.YMPB_DATA=window.YMPB_DATA||{};let ad=[],dd=window.YMPB_DATA.dwell_time;function cd(){window.YMPB_DATA.count_dwell_time=0}function ld(e){return new Promise(((t,i)=>{window.__tcfapi?window.__tcfapi("getTCData",2,(function(i,n){e&&e(i),t(i)})):window.__cmp?window.__cmp("getConsentData",null,(function(i){e&&e(i),t(i)})):(e&&e(null),t(null))}))}var ud=i(5007);const pd=["visibilitychange","mousemove","mousedown","touchstart","touchend","touchmove","click","keydown","keyup","scroll","wheel"];class hd{constructor(e,t){(0,Me.A)(this,"_idleDuration",300),(0,Me.A)(this,"$ticker",void 0),(0,Me.A)(this,"_triggerUserActivite",null),(0,Me.A)(this,"$eventBus",void 0),this.$ticker=e,this.$eventBus=t,this._triggerUserActivite=kr(this.triggerUserActivite,500,{leading:!0,trailing:!1}),this.assertUserAction=this.assertUserAction.bind(this),this.init()}set idleDuration(e){(e=Math.round(e))>0&&(this._idleDuration=e)}get idleDuration(){return this._idleDuration}get idleTime(){return Math.floor((Date.now()-hd.lastActiveAt)/1e3)}triggerUserActivite(e){this.$eventBus.qd(Ht.$D,e)}assertUserAction(e){let t=this.isIdle(),i=this.idleTime;hd.lastActiveAt=Date.now();let n={wasIdle:t,idleTime:i,type:e.type};this._triggerUserActivite(n),t&&this.$eventBus.qd(Ht.mE,n)}isIdle(){return this.idleTime>=this.idleDuration}isActive(){return!At()&&!this.isIdle()}init(){pd.forEach((e=>{window.addEventListener(e,ha(this.assertUserAction,100))}))}}let fd;(0,Me.A)(hd,"lastActiveAt",Date.now());let gd,md=new pa($e.Bm,!0),vd=new pa(1,!1),bd=new fa,yd=null,Ad=null,_d=null;const Ed=new hd(md,Qt);let Id=null,wd=!1,Sd="pendding",Cd=0;function Td(){At()?vd.wake():vd.sleep()}function Od(e){let t=e.slot.getSlotElementId();if(e.slot.getOutOfPage()){let e=t.match(/\/([\w|-]+)$/);if(e){let i=e[1].match(/([\w|-]+)_\d+$/);if(i)return t=i[1],yd.$adUnitInstances.find((e=>e.isGmi&&0===e.adUnitCode.indexOf(t)))}}}function xd(e,t,i){let r=function(e){let t=ke.n.findBidByAdId(e);return t?ke.n.getAuction(t.auctionId):null}(t);if(r){let t=r.getBidsReceived();(0,n.A)(t,(t=>{e===t.adUnitCode&&i!==t.adId&&yd.$bidCache.releaseBid(t)}))}}function Rd(e){if(clearTimeout(Id),wd)return;wd=!0,"pendding"===Sd?Sd="ready":md.sleep(),yd.hideUnsupportedSlots(),window.YMPB.command.push=window.YMPB.cmd.push,Ca(YMPB.command),bd.onScrollStart((function(){md.sleep(),yd.swapBackAll()})),bd.onScroll((function(){yd.processLazyloadingAdUnits()})),bd.onScrollEnd((function(e){e.y<200&&yd.processLazyloadingAdUnits(),md.wake()}));let t=fd.getOptions();md.addProcesser({activated:!0,fn:yd.processAdUnits,calller:yd,duration:1e3,priority:0,params:e}),vd.addProcesser({activated:!0,fn:yd.processInInactive,calller:yd,duration:1e3,priority:0,params:e}),t.YMPB_PRECACHE_INTERVAL>=5&&t.BIDDER_LABELS_PRECACHING.length>0&&md.addProcesser({activated:!0,fn:ar,calller:yd,duration:1e3*t.YMPB_PRECACHE_INTERVAL,priority:0,params:{BIDDER_LABELS_PRECACHING:t.BIDDER_LABELS_PRECACHING,YMPB_PRECACHE_MULTIPLIER:t.YMPB_PRECACHE_MULTIPLIER,YMPB_PRECACHE_MAX_BIDS:t.YMPB_PRECACHE_MAX_BIDS,YMPB_FILTER_MIN_CPM:t.YMPB_FILTER_MIN_CPM,YMPB_FILTER_MIN_TTL:t.YMPB_FILTER_MIN_TTL,DYNAMIC_LOAD_SCREEN_VH:t.DYNAMIC_LOAD_SCREEN_VH+1,LABELS:[En.BIDDER_LABELS_PRECACHING]}}),t.YMPB_PRECACHE_INTERVAL_2>=5&&t.BIDDER_LABELS_PRECACHING_2.length>0&&md.addProcesser({activated:!0,fn:ar,calller:yd,duration:1e3*t.YMPB_PRECACHE_INTERVAL_2,priority:0,params:{BIDDER_LABELS_PRECACHING:t.BIDDER_LABELS_PRECACHING_2,YMPB_PRECACHE_MULTIPLIER:t.YMPB_PRECACHE_MULTIPLIER_2,YMPB_PRECACHE_MAX_BIDS:t.YMPB_PRECACHE_MAX_BIDS,YMPB_FILTER_MIN_CPM:t.YMPB_FILTER_MIN_CPM,YMPB_FILTER_MIN_TTL:t.YMPB_FILTER_MIN_TTL,DYNAMIC_LOAD_SCREEN_VH:t.DYNAMIC_LOAD_SCREEN_VH+1,LABELS:[En.BIDDER_LABELS_PRECACHING_2]}}),yd.processLazyloadingAdUnits(),"ready"===Sd&&(md.wake(),bd.start()),Qt.qd(Ht._p,{options:fd.getOptions(),blocker:!1})}function Dd(e){let t=fd.getOptions();if(window.addEventListener("message",(function(e){var t;const i=e.message?"message":"data";let n={type:""};if(!(0,r.A)(e[i]))return null;try{if(n=JSON.parse(e[i]),!n||"ReportingObserver"!==n.message)return null}catch(e){return null}"ReportingObserver"===n.message&&null!==(t=n.data)&&void 0!==t&&t.hbBidder&&Qt.qd(Ht.Ap,{type:n.type,data:n.data})}),!1),window.addEventListener("beforeunload",(function(){fd.$userSession.extend()})),window.addEventListener("visibilitychange",Td),Td(),t.YMPB_USP&&(Ad=new Sa("1"),Ad.init(),t.YMPB_USP_UI&&Ad.load(t)),t.GDPR_ENABLED){const i={version:fd.getOption("TCF_VERSION"),layout:fd.getOption("YMPB_GDPR_UI_LAYOUT"),startedAt:Date.now()};gd=new Ea(t),Id=setTimeout((()=>{Rd(e),Qt.qd(Ht.gW,i)}),$e.eY+100),fd.$geoInfo.update({is_gdpr:!0}),gd.detectTcf().then((()=>{gd.onCpmUiShown().then((()=>{clearTimeout(Id),Qt.qd(Ht.OT,i)})),gd.onUserActionComplete().then((t=>{clearTimeout(Id),function(e){e&&e.vendor.consents[755]&&e.purpose.consents[1]&&e.purpose.consents[3]&&e.purpose.consents[4]&&e.purpose.legitimateInterests[2]&&e.purpose.legitimateInterests[7]&&e.purpose.legitimateInterests[9]&&e.purpose.legitimateInterests[10]?Mt(0):Mt(1)}(t),Rd(e),Qt.qd(Ht.og,{tcData:t}),"useractioncomplete"===t.eventStatus&&(_a(t)?Qt.qd(Ht.Tl,i):Qt.qd(Ht.NN,i))})),"2.0"===t.TCF_VERSION&&window.__tcfapi("getTCData",2,(t=>{t.isServiceSpecific||!1!==t.gdprApplies||(fd.$geoInfo.update({is_gdpr:!1}),clearTimeout(Id),function(){clearTimeout(Id),fd.setOption("GDPR_ENABLED",!1);let e=Be.Ay.getConfig("consentManagement")||{};delete e.gdpr,Tn({consentManagement:e}),Mt(0)}(),Rd(e))}))})).catch((()=>{}))}else Mt(0),Rd(e),$e.rE&&(0,Aa.ix)()&&window.__tcfapi&&window.__tcfapi("getTCData",2,(e=>{"tcloaded"===e.eventStatus&&Qt.qd(Ht.og,{tcData:e})}))}Be.Ay.$e=Qt,vd.sleep(),YMPB.instream=function(e,t,i){if(wd&&!yd)throw new Error(Pe.A.AD_BLOCKER);return function(e,t){let i=!1,n=e=>{if(!i){if(i=!0,e){let t=e.statusData.isFail;t&&e.statusData.children&&e.statusData.children.length>0&&(t=e.statusData.children.reduce((function(e,t){return e||t.isFail}),!1)),e.success=!t}try{t.call(void 0,e)}catch(e){}}Qt.dispatchEvent(new CustomEvent(Ht.ef,{detail:e})),window.dispatchEvent(new CustomEvent(Ht.gi,{detail:e}))};if("stopped"===Ud.getYmpbStatus())return n(),Promise.reject({video:0,videoRetry:0,banner:0,message:"YOLLA tag stopped"});{document.body.classList.add("YMPlayer__running");let t=Ud.getOption("ENABLE_GMI_PREROLL"),i=Ud.getDeviceSlotType(),r=t?Bo(i):ko(e,i);return r.then((e=>{n(e)})).catch((e=>{n(e)})).finally((()=>{document.body.classList.remove("YMPlayer__running")})),r}}(t,i)},YMPB.insertCodeBlock=function(e,t){xa(e,fd.$deviceDetector.deviceType,t)},YMPB.removeCodeBlock=function(e){let t="".concat(fd.$deviceDetector.deviceType,"-").concat(e);yd.$adUnitInstances.findAll((e=>e.adUnitCode.indexOf(t)>=0)).forEach((e=>{try{e.delete(!0,!1,!0)}catch(e){}}))},YMPB.getVast=function(e,t,i){e=e||"preroll",Xn(fd.$deviceDetector.isMobile?"mobile":"desktop-"+e,fd.getOptions()).then((e=>{i.call(void 0,e)})).catch((()=>{i.call(void 0,"")}))},YMPB.showHighestCpmBids=function(){let e=[];return yd.$adUnitInstances.each((t=>{let i=_d.filterByAdUnit(t);i((t=>u(e,{adId:t.adId})<0));let n=i();if(n.length){let t=_d.chooseBidFromCacheItems(n);e.push(t[0])}})),e},YMPB.getConsentData=ld,YMPB.refresh=function(e,t){p(e)||E(e)?yd.refreshAll(t):((0,r.A)(e)&&(e=e.split(",")),yd.refreshByAdUnitCodes(e,t))},YMPB.execPreCacheByUnitCodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[En.BIDDER_LABELS_PREFETCHING],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Kn(e.map((e=>(e.indexOf("-")<0&&(e=fd.$deviceDetector.slotType+"-"+e),{adUnitCode:e,sizes:i}))),t,n)},YMPB.report=function(e,t){e&&t&&window.yaq("event",e,{eventCategory:"Report",eventLabel:t,eventValue:1})},YMPB.getMaxSizeByUnitCode=function(e){let t=yd.$adUnitInstances.find((function(t){return t.$adTag.id===e}));return null==t?void 0:t.$adSizeConfig.maxAllowedSize},YMPB.pause=function(){Sd="paused",bd.stop(),md.sleep(),vd.sleep(),yd&&yd.swapBackAll()},YMPB.resume=function(){"paused"===Sd&&(Sd="ready",md.wake(),vd.wake(),bd.start())},YMPB.stop=function(){YMPB.pause(),Sd="stopped",yd&&(yd.cleanupAuction(),yd.deleteAll(),setTimeout(yd.deleteAll.bind(yd),0))},YMPB.getCacheSize=function(){return _d.getUsedStorageSize()},YMPB.dwellTimeRefresh=function(){return function(){let e,t=window.YMPB_DATA.count_dwell_time;t>=dd?(window.YMPB.refresh([],{}),cd()):(e=dd-t+dd*ad.length,ad.push(e),od((function(){window.YMPB.refresh([],{}),ad.shift(),cd()}),1e3*e))}()},YMPB.getSlotPositions=function(e){let t=e?yd.$adUnitInstances.find({id:e}):void 0,i=yd.$adUnitInstances.items.filter((e=>{let i=!e.$status.isDestroyable&&Jt(e.$adTag.wrapperEl);return i&&t&&(i=e.adUnitCode!==t.adUnitCode),i}));return t&&i.unshift(t),i.map((e=>e.$status.$position.getPosition()))},YMPB.checkSlotIsCovered=function(e){let t=yd.$adUnitInstances.find({id:e});return t?Rn(t):-1},YMPB.getStatusData=function(e){let t=yd.$adUnitInstances.find({id:e});return t?t.$status.getStatusData():null},YMPB.checkBidderConsent=function(e){if(!e)return null;let t=ud.SL.getConsentData(),i=t.gdpr&&t.gdpr.consentString?t.gdpr.vendorData.vendor:null;if(i){let t=ud.o2.get(e),n={gvlid:(null==t?void 0:t.gvlid)||0,consents:!1,legitimateInterests:!1};return t&&(n={gvlid:t.gvlid,consents:i.consents[t.gvlid],legitimateInterests:i.legitimateInterests[t.gvlid]}),n}return null};const Ud={init:function(e,t,i){if(e.getOption("ENABLE_INTERSTITIAL")){e.getOption("YMPB_AUTO_INSERT").push('oop[data-interstitial="1"]')}let r={};(0,n.A)(t,(e=>{(0,n.A)(e.bids,(e=>{r[e.bidder]=e.alias}))})),e.setOption("DEBUG_PBJS",r,!1),function(e,t){fd=e;let i=fd.getOptions();md.useRaf=i.YMPB_USE_RAF_API,Ed.idleDuration=i.IDLE_DURATION,_d=new ca(i),yd=new sd(e,bd,_d),yd.resetAdUnitTemplate(t)}(e,t),On(),function(){let e=Ud.getOptionInstanse().getOptions();window.googletag.pubads().disableInitialLoad(),e.YMPB_SINGLE_REQUEST&&window.googletag.pubads().enableSingleRequest(),e.CHILD_DIRECTED_TREATMENT&&googletag.pubads().setPrivacySettings({childDirectedTreatment:!0,underAgeOfConsent:!0}),e.YMPB_COLLAPSE_EMPTY&&window.googletag.pubads().collapseEmptyDivs(),window.googletag.pubads().enableAsyncRendering(),$e.rE&&kt()}(),window.googletag.pubads().addEventListener("slotResponseReceived",(function(e){let t=e.slot.getSlotElementId(),i=yd.$adUnitInstances.find({id:t});null==i||i.$status.onRequestEnded()})),window.googletag.pubads().addEventListener("slotRenderEnded",(function(t){let i=t.slot.getSlotElementId(),n=yd.$adUnitInstances.find({id:i}),r=Gt(t.slot).hb_adid,s=e.getOption("RENDER_NOFILL"),o=[],a=!1;if(n||(n=Od(t)),n){n.$status.isDfpEmpty=t.isEmpty,n.$status.isFluidAds=t.isBackfill&&+t.size[0]<2,t.isEmpty||!t.isBackfill&&r||(o=t.size,n.$status.onAdxWon()),r&&n.$status.requestingBid&&(ti(o)||(o=[n.$status.requestingBid.width,n.$status.requestingBid.height]),t.isEmpty&&s&&(a=!0===n.renderWithoutPlatform()));let e={size:o,isDfpEmpty:t.isEmpty,isDirectRender:a};n.$status.onRenderEnded(e),Qt.dispatchEvent(new CustomEvent(Ht.$F,{detail:{statusData:n.$status.getStatusData()}})),n.isDynamicInsertEnabled&&function(e,t){if(e.$status.isFluidAds||t.isDfpEmpty)return;let i=t.size,n=e.isCompanion?e.$adSizeConfig.maxAllowedSize:e.$adSizeConfig.getOriginalMaxAllowedSize();if(e.isMulti){let t=Ud.getMultiByCode(e.adUnitCode);if(!t||1!==t.$adUnits.length)return;n=t.getMaxSize()}let r=Vo([],n,2,qe,!0,[2,2],[[i]]),s=1;for(let t=0;t<r.length;t++){const i=r[t];if(i)for(let t=0;t<i.length;t++){const n=i[t];if(n&&!Go(n)){let t={dataset:{type:e.adUnitCode.replace(/-\d+$/,""),refreshrate:0,parentSlot:e.ympbId,groupIndex:s++,groupType:"dynamic_inserted",subtype:pn(n),multiMode:"disabled",refreshCount:e.$status.refreshCounter},style:{width:"".concat(n[0],"px"),height:"".concat(n[1],"px")}};on(e.$adTag.el.parentElement,t)}}}}(n,e),n.isGmi&&t.isEmpty&&n.end()}let d="";if(!r||t.isEmpty||t.isBackfill){if(a){var c;d=null===(c=n)||void 0===c||null===(c=c.$status.requestingBid)||void 0===c?void 0:c.adId}}else d=r;xd(i,r,d)})),window.googletag.pubads().addEventListener("slotOnload",(function(e){let t=e.slot.getSlotElementId(),i=yd.$adUnitInstances.find({id:t});i&&i.$status.onSlotLoad()})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){let t=e.slot.getSlotElementId(),i=yd.$adUnitInstances.find({id:t});i&&i.$status.onDfpImpressed()})),window.googletag.pubads().addEventListener("gameManualInterstitialSlotReady",(function(e){let t=Od(e);t&&(Cd=Date.now(),e.makeGameManualInterstitialVisible(),t.$status.onDfpImpressed())})),window.googletag.pubads().addEventListener("gameManualInterstitialSlotClosed",(e=>{let t=Od(e);t&&t.end()})),Be.Ay.onEvent("setTargeting",(function(e){for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let n=e[i],r=yd.$adUnitInstances.find({id:i});if(r){let e=null;n&&n.hb_adid&&(t=n.hb_adid,e=_d.pickByAdId(t)||ke.n.findBidByAdId(t)),r.$status.requestingBid=e}}var t})),Be.Ay.onEvent("bidResponse",(function(t){let i=e.getOption("YMPB_ENABLE_CACHE");if((0,s.A)(i)){if(!1===i)return}else if((0,o.A)(i)&&(!i.hasOwnProperty(t.mediaType)||!i[t.mediaType]))return;if(t.width<2||t.height<2){let e=yd.$adUnitInstances.find({id:t.adUnitCode}),i=[];if(e)i=e.$adSizeConfig.subtype.length>0?e.$adSizeConfig.subtype[0]:e.$adSizeConfig.getDefaultSizes()[0];else{let e=yd.getAdUnitTemplate({code:t.adUnitCode.replace(/-\d+$/,"")});e&&(i=e.defaultSizes[0])}ni(i)||(i=ze),t.width=i[0],t.height=i[1],t.size=pn([t.width,t.height])}yd.$bidCache.save(t)})),Be.Ay.onEvent("auctionEnd",(function(t){if("completed"!==t.auctionStatus)return;let i="";if(t.adUnitCodes.forEach((e=>{if(Yo.codeTypeContains(e,"outstream")){var t;let e=null===(t=yd)||void 0===t?void 0:t.$adUnitInstances.find({isCompanion:!0,isOutstream:!0});if(e)return i=e.adUnitCode,!1}})),i){if(Ka(i))Xa(i,e.getOptions());else{t.bidsReceived.filter((e=>Yo.codeTypeContains(e.adUnitCode,"outstream"))).length<1&&Qa(i,e.getOptions())}}})),Be.Ay.onEvent("bidWon",(function(e){yd.$bidCache.removeById(e.adId);let t=yd.$adUnitInstances.find({id:e.adUnitCode});t&&t.$status.onBidWon(e)})),Be.Ay.onEvent("adRenderFailed",(function(e){let t=e.bid&&e.bid.adUnitCode?e.bid.adUnitCode:"",i=e.reason||"";if(t){let e=yd.$adUnitInstances.find({id:t});e&&e.$status.onPrebidRenderFailed(i)}})),Be.Ay.onEvent("adRenderSucceeded",(function(e){let t=e.bid&&e.bid.adUnitCode?e.bid.adUnitCode:"";if(t){let i=yd.$adUnitInstances.find({id:t});i&&i.$status.onPrebidRenderSuccessed(e.bid)}})),Qt.addEventListener(Ht._n,(e=>{let t={},i=e.detail.reduce(((e,t)=>e&&0===t.counter&&t.isDfpEmpty),!0);if((0,n.A)(e.detail,(e=>{e.parentId&&(t[e.parentId]=t[e.parentId]||[],(e.isDfpRendered||e.isDfpNoFill)&&t[e.parentId].push(e))})),i&&fd.getOption("ATTACH_URL_FLAG")&&Jn()&&kt(!0)&&fd.getOption("ATTACH_URL_FLAG_REFRESH")){let t=e.detail.map((e=>e.isSlotNofill?e.adUnitCode:""));t=t.filter((e=>e)),t.length>0&&yd.refreshByAdUnitCodes(t,{forceToRefresh:!0})}})),Qt.addEventListener(Ht.$D,(e=>{yd.dismissAdUnits(!0)})),Qt.addEventListener(Ht.Zy,(e=>{const t=e.detail.statusData.bid;t&&_d.lockBidAsRendered(t)})),Dd(i)},initWithBlocker:function(e,t){if(wd)return;wd=!0,fd=e,window.YMPB.command.push=window.YMPB.cmd.push,Ca(YMPB.command);let i=new Ba(e);i.resetAdUnitTemplate(t),i.hideUnsupportedSlots(),i.convertRawSlotsIntoAdTags(),Qt.qd(Ht._p,{options:fd.getOptions(),blocker:!0})},getYmpbStatus:()=>Sd,destroySlotByGroupId:e=>yd.destroyBy({groupId:e}),destroySlotByParentId:e=>yd.destroyBy({parentId:e}),getOption:e=>fd.getOption(e),getOptionInstanse:()=>fd,getGeoInfo:()=>fd.$geoInfo.values,getCacheInstanse:()=>_d,getMainTickerInstanse:()=>md,findAdUnit(e){var t;return null===(t=yd)||void 0===t?void 0:t.$adUnitInstances.find(e)},getAdUnitByParentId(e){var t;return(null===(t=yd)||void 0===t?void 0:t.$adUnitInstances.findAll({parentId:e}))||[]},getAdUnitInstanse(){var e;return(null===(e=yd)||void 0===e?void 0:e.$adUnitInstances.items)||[]},createAdUnit(e,t,i){var n;return null===(n=yd)||void 0===n?void 0:n.createNewAdUnit(e)},removeAdUnit(e){var t;e.delete(!0,!1,!0),null===(t=yd)||void 0===t||t.$adUnitInstances.remove(e),e=null},findRawAdUnitTemplate(e){var t;return null===(t=yd)||void 0===t?void 0:t.findRawAdUnitTemplate(e)},getAdUnitTemplate(e){var t;let i=null===(t=yd)||void 0===t?void 0:t.getAdUnitTemplate(e);if(i){let e=Ue(i);return e.index=yd.increaseCounter(),e}return null},getTcfManager:()=>gd,getScroller:()=>bd,getDeviceSlotType:()=>fd.$deviceDetector.slotType,swapBackAdUnitTag(e){yd.swapBackAdUnitTag(e)},checkGmiAllowed:()=>Date.now()-Cd>=12e4,getCompanionByCode:e=>yd.findCompanionByCode(e),getMultiByCode:e=>yd.findMultiByCode(e)}},8711:(e,t,i)=>{"use strict";i.d(t,{$D:()=>j,$F:()=>o,AS:()=>g,Ap:()=>U,Bt:()=>d,DK:()=>R,E_:()=>L,Fx:()=>_,IM:()=>w,NN:()=>M,NR:()=>u,NW:()=>p,OT:()=>k,Rm:()=>b,Rx:()=>E,Rz:()=>D,Tl:()=>$,UU:()=>y,XC:()=>C,ZP:()=>h,Zb:()=>T,Zy:()=>m,_n:()=>I,_p:()=>n,ef:()=>x,gW:()=>B,gi:()=>s,hZ:()=>v,ku:()=>l,l$:()=>O,lY:()=>c,lb:()=>a,mE:()=>N,n:()=>f,og:()=>P,qb:()=>r,uq:()=>A,vv:()=>S});const n="YMPB_ALL_SET",r="ympbBlocked",s="ympbPrerollDone",o="ON_DFP_RENDER_ENDED",a="ON_DFP_IMPRESSION",d="ON_PREBID_IMPRESSION",c="ON_SLOT_VISIBILITY_CHANGED",l="ON_SLOT_RESIZE",u="AD_UNIT_INITED",p="AD_UNIT_DELETED",h="COUNTDOWN_FINISHED",f="ON_BEFORE_AD_UNIT_REQUEST",g="ON_PREBID_RENDER_SUCCESS",m="ON_BID_RENDER_SUCCESS",v="ON_PREBID_RENDER_ERROR",b="ON_AD_UNIT_REQUEST_COMPLETE",y="ON_AD_UNIT_ERROR",A="ON_AD_UNIT_ENDED",_="ON_AD_UNIT_STALLED",E="ON_SET_BID",I="ON_RESPONSE",w="ON_PREROLL_INSERTED",S="ON_GMI_INSERTED",C="ON_PLAYER_ADS_LOADED",T="ON_PLAYER_ADS_STARTED",O="ads-request",x="ON_PREROLL_EXECUTE_FN",R="ON_YOLLA_AUCTION_ERROR",D="ON_STORAGE_ERROR",U="ON_HEAVY_ADS_ERROR",B="ON_TCF_TIMEOUT",k="ON_TCF_SHOW",P="ON_TCF_LOADED",$="ON_TCF_REJECTED_ALL",M="ON_TCF_ACCEPTED_SOME",L="ON_USER_CLICK_CLOSE",N="ON_EXIT_IDLE",j="ON_USER_ACTIVE"},7693:(e,t,i)=>{"use strict";var n;i.d(t,{A:()=>r}),function(e){e.YMPB_LOAD_ERROR="100",e.GPT_LOAD_ERROR="101",e.IMA_SDK_LOAD_ERROR="102",e.YOLLATAG_STOPPED="103",e.SCRIPT_LOADER_ERROR="104",e.AD_BLOCKER="105",e.ELEMENT_NOT_FOUND="201",e.FAILSAFE_TIMEOUT="202",e.ADUNIT_NOT_FOUND="203",e.NO_BID_AVAILABLE="204",e.ADUNIT_NOT_RESPONSE_INTIME="205",e.VAST_URL_FETCH_ERROR="210",e.UNSUPPORTED_TYPE="301",e.IMA_MGR_LOAD_ERROR="401",e.IMA_MAR_INIT_ERROR="402",e.IMA_AD_REQUS_TIMEOUT="403",e.IMA_CREATIVE_ERROR="404",e.GMI_EMPTY="5201"}(n||(n={}));const r=n},9614:(e,t,i)=>{"use strict";i.d(t,{FZ:()=>o,K0:()=>n,dK:()=>a,hZ:()=>s,w9:()=>r,yL:()=>d});const n="https://imasdk.googleapis.com/js/sdkloader/ima3.js",r="https://imasdk.googleapis.com/js/sdkloader/ima3_debug.js",s="https://portal.cdn.yollamedia.com/storage/ima3.js",o="https://securepubads.g.doubleclick.net/tag/js/gpt.js",a="https://btloader.com/tag?o=5760119151263744&upapi=true",d="https://d3sb3tx6bnukhg.cloudfront.net/script.js"},75:(e,t,i)=>{"use strict";i.d(t,{AT:()=>a,BJ:()=>h,Bm:()=>b,GV:()=>r,JG:()=>c,Jp:()=>I,M5:()=>v,MP:()=>C,R$:()=>f,Tf:()=>S,Wg:()=>T,Y8:()=>A,cq:()=>_,eY:()=>d,fI:()=>s,ff:()=>u,g4:()=>g,hE:()=>O,jP:()=>x,ke:()=>w,lk:()=>y,rE:()=>l,s9:()=>o,st:()=>E,uH:()=>m,z3:()=>R});var n=i(5940);const r="#a4a4a4",s="#a4a4a4",o=834,a=100,d=8e3,c="jyuExwS2r59-6",l=window.location!==window.parent.location,u=(0,n.A)(window.location)||window.location.hostname,p=window.location.ancestorOrigins&&window.location.ancestorOrigins.length>0?window.location.ancestorOrigins[0]:"",h=(l&&(p||window.document.referrer),/^https:/.test(window.location.href)),f="https://www.yollamedia.com/?utm_source="+encodeURIComponent(window.location.host),g=.5,m=.25,v=3,b=2,y=5,A=480,_=10,E=15,I=8,w=45,S=99,C=3e4,T=C+5e3,O=10,x=.75,R=1},7514:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(4467),r=i(8916),s=i(75);const o=class{constructor(){(0,n.A)(this,"_defaultOption",{path:"/",expires:365,domain:"."+window.location.hostname}),this._defaultOption.samesite="none",this._defaultOption.secure=s.BJ}getItem(e){let t=document.cookie?document.cookie.split("; "):[],i={};for(let n=0;n<t.length;n++){let r=t[n].split("="),s=r.slice(1).join("=");'"'===s[0]&&(s=s.slice(1,-1));try{let t=r[0];if(i[t]=s,e===t)break}catch(e){}}let n=e?i[e]:i;return void 0===n?null:n}setItem(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},this._defaultOption,i||{});"number"==typeof n.expires&&(n.expires=new Date(Date.now()+864e5*n.expires).toUTCString());let s="";["path","domain","expires","max-age","samesite","secure"].forEach((e=>{if(Object.prototype.hasOwnProperty.call(n,e)){let t=n[e];(0,r.A)(t)?t&&(s+="; ".concat(e)):s+="; ".concat(e," = ").concat(t.split(";")[0])}})),document.cookie=e+"="+t+s}removeItem(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setItem(e,"",Object.assign({},t,{expires:-1}))}readConverter(e){if(null===e)return null;e=e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);let t="";try{t=JSON.parse(e)}catch(i){t=e}return t}writeConverter(e){let t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)}catch(i){t=e+""}return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}keys(){return(document.cookie?document.cookie.split("; "):[]).map((e=>e.split("=")[0]))}};var a=i(3282);let d=null;function c(){return null!==d||(d=new o,d.setItem("test","ok"),navigator.cookieEnabled&&"ok"===d.getItem("test")?d.removeItem("test"):d=(0,a.A)()),d}},3282:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5390);function r(){try{return window.localStorage}catch(e){return new n.A}}},5716:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(4467);const r=class{get pending(){return"pending"===this.status}get rejected(){return"rejected"===this.status}get fulfilled(){return"fulfilled"===this.status}constructor(){(0,n.A)(this,"promise",void 0),(0,n.A)(this,"resolveFn",void 0),(0,n.A)(this,"rejectFn",void 0),(0,n.A)(this,"status","pending"),this.promise=new Promise(((e,t)=>{this.resolveFn=e,this.rejectFn=t}))}reject(e){this.status="rejected",this.rejectFn(e)}resolve(e){this.status="fulfilled",this.resolveFn(e)}}},5390:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(4467);const r=class{constructor(){(0,n.A)(this,"_store",{})}getItem(e){return this._store.hasOwnProperty(e)?this._store[e]:null}setItem(e,t){this._store[e]=t}removeItem(e){delete this._store[e]}readConverter(e){return e}writeConverter(e){return e}keys(){return Object.keys(this._store)}}},1375:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(7693),r=i(1697),s=i(4083),o=i(5716);class a{static load(e){const t=new o.A;return(0,s.A)(e,(()=>{t.resolve(!0)}),(()=>{t.reject((0,r.A)(n.A.SCRIPT_LOADER_ERROR))})),t.promise}}},4427:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(4467),r=i(7514);const s="euconsent-v2",o="addtl_consent";const a=new class{constructor(){(0,n.A)(this,"$store",(0,r.A)()),(0,n.A)(this,"_euconsent",null),(0,n.A)(this,"_addtlConsent",null),(0,n.A)(this,"hasOtherTcfUI",!1),this._euconsent=this.$store.getItem(s),this._addtlConsent=this.$store.getItem(o)}get euconsent(){return this._euconsent}get addtlConsent(){return this._addtlConsent}hasEuconsent(){return"string"==typeof this._euconsent&&!!this._euconsent}hasAddtlConsent(){return"string"==typeof this._addtlConsent&&!!this._addtlConsent}saveEuconsent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._euconsent=e,t||this.$store.setItem(s,e)}saveAddtlConsent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._addtlConsent=e,t||this.$store.setItem(o,e)}}},4865:(e,t,i)=>{"use strict";i.d(t,{A9:()=>p,Du:()=>u,I0:()=>c,VP:()=>r,W9:()=>o,jq:()=>l,kb:()=>h,lW:()=>d,mw:()=>g,nM:()=>a,uk:()=>s,vR:()=>f});var n=i(4517);const r="".concat("https://cmp.inmobi.com","/tcfv2/google-atp-list.json"),s="".concat("https://cmp.inmobi.com","/GVL-v2/"),o="vendor-list-trimmed-v1.json",a=10,d=2,c=43,l=!0,u=10001,p={segments:[n.Y4.CORE,n.Y4.PUBLISHER_TC]},h={vendors:[],purposes:[],specialFeatures:[],purposeLegitimateInterests:[],vendorLegitimateInterests:[],publisherConsents:[],publisherLegitimateInterests:[],gatps:[]},f=[141,92,217,773,876,824,740,240,628,174,272,720,318,40,231,830,788,870,331,147,649,57,738,766,299,458,377,539,310,50,790,553,556,15,39,813,14,93,447,47,149,664,9,151,22,511,889,612,809,855,264,565,799,859,834,224,613,615,6,66,205,507,779,410,211,827,841,199,195,27,41,798,822,697,746,259,723,359,375,722,785,782,501,793,23,891,780,155,733,354,728,495,685,215,409,797,223,394,742,167,783,561,598,748,122,63,647,678,610,461,771,549,273,801,721,12,618,666,597,724,715,736,462,128,185,30,218,625,439,658,739,94,815,620,684,374,256,741,422,869,836,792,329,848,235,676,2,493,729,840,672,315,890,520,734,803,767,319,243,277,179,285,416,378,77,143,138,591,630,248,868,683,85,91,847,298,412,334,875,570,573,713,323,541,440,763,209,707,735,761,665,133,343,778,833,754,852,826,126,708,674,434,584,110,796,168,825,402,688,854,8,213,183,849,413,312,877,1,120,347,795,756,781,408,100,78,471,350,119,262,823,888,316,644,455,731,328,87,845,892,758,768,536,690,580,274,749,170,657,765,654,98,467,550,865,881,626,856,206,178,699,131,365,873,606,253,479,730,871,333,535,150,712,265,675,596,278,428,436,438,789,129,811,872,252,527,49,838,294,568,62,745,747,569,820,528,314,751,325,544,794,424,702,810,843,805,691,67,667,804,254,884,148,97,587,65,109,95,508,764,846,486,153,317,578,270,614,770,776,599,228,791,142,498,79,769,184,193,858,152,358,817,216,703,867,101,279,687,289,311,302,663,807,737,743,681,20,72,263,878,709,530,450,34,160,48,521,37,577,468,519,502,130,812,373,816,624,645,646,802,784,882,388,832,31,304,716,777,509,241,617,719,883,602,255,280,488,349,385,772,303,227,559,164,543,638,732,139,361,360,516,727,384,839,127,140,444,490,177,297,236,887,874,609,593,762,427,418,725,860,226,850,76,512,842,808,250,835,11,880,682,60,547,290,574,266,545,631,192,886,800,659,787,863,819,203,158,759,194,108,554,71,4,16,506,351,753,86,371,157,415,775,84,621,33,80,337,491,505,111,59,261,429,73,435,53,711,68,652,46,82,161,45,546,115,531,653,246,134,639,145,694,295,381,857,104,662,590,844,249,655,165,293,238,484,851,137,136,114,517,714,198,275,42,466,89,200,475,448,786,132,124,102,202,336,650,244,90,44,345,686,750,524,382,21,656,670,893,423,88,387,837,861,239,648,862,242,828,814,757,482,607,159,829,831,162,459,212,579,368,26,760,7,744,190,380,879,571,276,83,821,706,774,601,284,282,668,431,18,281,51,718,70,866,251,173,154,234,818,210,301,469,321],g={premiumProperties:{vendorlist:[u,10,13,24,25,28,29,32,36,52,58,61,69,81,156,163,196,230,232,237,308,335,397,452,473,496,497,534,671,673,677,717,726,755,806,864,885,894,895,896,897,899,900,901,902,903,904,905,907,908,909,910,915,918,919,920,921,922,924,926,928,929,930,931,934,935,936,937,938,940,941,942,943,944,946,947,951,952,954,955,956,957,958,959,962,963,964,965,966,967,968,970,972,973,974,975,976,978,980,982,983,984,985,986,987,988,989,990,991,993,994,995,996,997,998,1001,1002,1003,1004,1006,1009,1011,1015,1016,1017,1018,1019,1020,1021,1022,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1035,1036,1037,1038,1039,1040,1042,1043,1045,1046,1047,1048,1049,1050,1051,1052,1053,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1143,1144]},premiumUiLabels:{},coreUiLabels:{agreeButton:"Continue"},theme:{uxBackgroundColor:"#f5f5f5",uxPrimaryButtonColor:"#1ad90d",uxSecondaryButtonColor:"#128d0a",uxPrimaryButtonTextColor:"#f5f5f5",uxSecondaryButtonTextColor:"#f5f5f5",uxToogleActiveColor:"#ff3c04",uxLinkColor:"#ff3c04",uxFontColor:"#111"},coreConfig:{quantcastAccountId:"jyuExwS2r59-6",privacyMode:["GDPR"],hashCode:"yZ45931PMnGfo9j80BaPYw",publisherCountryCode:"US",publisherName:"Yolla",vendorPurposeIds:[1,2,3,4,5,6,7,8,9,10],vendorFeaturesIds:[2,1,3],vendorPurposeLegitimateInterestIds:[2,3,4,5,6,7,8,9,10],vendorSpecialFeaturesIds:[1,2],vendorSpecialPurposesIds:[1,2],vendorLegitimateInterests:[],googleEnabled:!0,initScreenBodyTextOption:1,consentScope:"service",consentOnSafari:!1,lang_:"en",displayUi:"always",defaultToggleValue:"off",displayPersistentConsentLink:!1,initScreenRejectButtonShowing:!1,softOptInEnabled:!1,uiLayout:"popup",showSummaryView:!0,persistentConsentLinkLocation:3,publisherConsentRestrictionIds:[],publisherLIRestrictionIds:[],publisherPurposeIds:[1,3,4,8],publisherPurposeLegitimateInterestIds:[2,5,6,7,9,10],publisherSpecialPurposesIds:[],publisherFeaturesIds:[],publisherSpecialFeaturesIds:[],stacks:[],vendorListUpdateFreq:30,thirdPartyStorageType:"iframe"}}},3269:(e,t,i)=>{"use strict";i.d(t,{I:()=>s,V:()=>r});var n=i(9703);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,i=function(e){let t="",i="";const n=[],r=e.split(/([#.])/);for(let e=0;e<r.length;e++){const s=r[e];"#"===s?t=r[++e]:"."===s?n.push(r[++e]):s.length&&(i=s)}return{tag:i||"div",id:t,className:n.join(" ")}}(e);if(i.id)return document.getElementById(i.id);return((0,n.A)(t)?r(t)||document:t).querySelector(e)}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,i=((0,n.A)(t)?r(t)||document:t).querySelectorAll(e);return i.length>0?Array.from(i):[]}},1697:(e,t,i)=>{"use strict";function n(e){return new Error(e)}i.d(t,{A:()=>n})},5940:(e,t,i)=>{"use strict";function n(e){let t=(e=e.toString()).match(/^(https?\:\/\/)?([^\/?#]+)(?:[\/?#]|$)/i);return t?t[2].replace(/^www\./,""):""}i.d(t,{A:()=>n})},4083:(e,t,i)=>{"use strict";function n(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!(arguments.length>4&&void 0!==arguments[4]&&arguments[4])&&document.querySelector('script[src="'.concat(e,'"]')))return t&&t.call(void 0),Promise.resolve(!0);let r=document.createElement("script");r.src=e,r.async=!0;for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const t=n[e]+"";r.setAttribute(e,t)}return new Promise(((e,n)=>{r.onload=function(){t&&t(),e(!0)},r.onerror=function(){i&&i(),n()},document.head.appendChild(r)}))}i.d(t,{A:()=>n})},4474:(e,t,i)=>{"use strict";function n(e,t,i,n,r){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:r;return e===r?i:e}i.d(t,{A:()=>n})},2663:e=>{
/*
* @license MIT
* Fun Hooks v1.0.4
* (c) @snapwich
*/
s.SYNC=1,s.ASYNC=2,s.QUEUE=4;var t="fun-hooks",i=Object.freeze({ready:0}),n=new WeakMap;function r(e,t){return Array.prototype.slice.call(e,t)}function s(e){var o,a={},d=[];function c(e,t){return"function"==typeof e?h.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?h.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,i){var n=!0;void 0===t&&(t=Object.getOwnPropertyNames(e).filter((e=>!e.match(/^_/))),n=!1);var r={},s=["constructor"];do{t.forEach((function(t){var n=t.match(/(?:(sync|async):)?(.+)/),o=n[1]||"sync",a=n[2];if(!r[a]&&"function"==typeof e[a]&&-1===s.indexOf(a)){var d=e[a];r[a]=e[a]=h(o,d,i?[i,a]:void 0)}})),e=Object.getPrototypeOf(e)}while(n&&e);return r}function u(e){var t=Array.isArray(e)?e:e.split(".");return t.reduce((function(e,i,n){var r=e[i];return r||(n===t.length-1?(o||d.push((function(){})),e[i]=p((function(t){e[i]=t,!0}))):e[i]={})}),a)}function p(e){var t=[],i=[],r=function(){},s={before:function(e,i){return a.call(this,t,"before",e,i)},after:function(e,t){return a.call(this,i,"after",e,t)},getHooks:function(e){var n=t.concat(i);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(i){return t[i]===e[i]}))})));try{Object.assign(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(e){}return n},removeAll:function(){return this.getHooks().remove()}},o={install:function(n,s,o){this.type=n,r=o,o(t,i),e&&e(s)}};return n.set(s.after,o),s;function a(e,n,s,o){var a={hook:s,type:n,priority:o||10,remove:function(){var n=e.indexOf(a);-1!==n&&(e.splice(n,1),r(t,i))}};return e.push(a),e.sort((function(e,t){return t.priority-e.priority})),r(t,i),this}}function h(i,a,c){var l=a.after&&n.get(a.after);if(l){if(l.type!==i)throw t+": recreated hookable with different type";return a}var h,f=c?u(c):p(),g={get:function(e,t){return f[t]||Reflect.get.apply(Reflect,arguments)}};o||d.push(v);var m=new Proxy(a,g);return n.get(m.after).install(i,m,(function(e,t){var n,s=[];e.length||t.length?(e.forEach(o),n=s.push(void 0)-1,t.forEach(o),h=function(e,t,o){var a,d=0,c="async"===i&&"function"==typeof o[o.length-1]&&o.pop();function l(e){"sync"===i?a=e:c&&c.apply(null,arguments)}function u(e){if(s[d]){var n=r(arguments);return u.bail=l,n.unshift(u),s[d++].apply(t,n)}"sync"===i?a=e:c&&c.apply(null,arguments)}return s[n]=function(){var n=r(arguments,1);"async"===i&&c&&(delete u.bail,n.push(u));var s=e.apply(t,n);"sync"===i&&u(s)},u.apply(null,o),a}):h=void 0;function o(e){s.push(e.hook)}v()})),m;function v(){!o&&("sync"!==i||e.ready&s.SYNC)&&("async"!==i||e.ready&s.ASYNC)?"sync"!==i&&e.ready&s.QUEUE?g.apply=function(){var e=arguments;d.push((function(){m.apply(e[1],e[2])}))}:g.apply=function(){throw t+": hooked function not ready"}:g.apply=h}}return(e=Object.assign({},i,e)).ready?c.ready=function(){o=!0,function(e){for(var t;t=e.shift();)t()}(d)}:o=!0,c.get=u,c}e.exports=s},3410:(e,t,i)=>{"use strict";i.d(t,{A4:()=>c,J7:()=>l,Pg:()=>u});var n=i(2179),r=i(949),s=i(4474),o=i(3430);const a=(0,i(8122).m)(),d="outstream";function c(e){const{url:t,config:i,id:c,callback:l,loaded:u,adUnitCode:p,renderNow:h}=e;this.url=t,this.config=i,this.handlers={},this.id=c,this.renderNow=h,this.loaded=u,this.cmd=[],this.push=e=>{"function"==typeof e?this.loaded?e.call():this.cmd.push(e):(0,r.vV)("Commands given to Renderer.push must be wrapped in a function")},this.callback=l||(()=>{this.loaded=!0,this.process()}),this.render=function(){const e=arguments,i=()=>{this._render?this._render.apply(this,e):(0,r.JE)("No render function was provided, please use .setRender on the renderer")};!function(e){const t=a.adUnits,i=(0,o.I6)(t,(t=>t.code===e));if(!i)return!1;const n=(0,s.A)(i,"renderer"),r=!!(n&&n.url&&n.render),d=(0,s.A)(i,"mediaTypes.video.renderer"),c=!!(d&&d.url&&d.render);return!!(r&&!0!==n.backupOnly||c&&!0!==d.backupOnly)}(p)?h?i():(this.cmd.unshift(i),(0,n.R)(t,d,this.callback,this.documentContext)):((0,r.JE)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(p)),i())}.bind(this)}function l(e){return!(!e||!e.url&&!e.renderNow)}function u(e,t,i){let n=null;e.config&&e.config.documentResolver&&(n=e.config.documentResolver(t,document,i)),n||(n=document),e.documentContext=n,e.render(t,e.documentContext)}c.install=function(e){let{url:t,config:i,id:n,callback:r,loaded:s,adUnitCode:o,renderNow:a}=e;return new c({url:t,config:i,id:n,callback:r,loaded:s,adUnitCode:o,renderNow:a})},c.prototype.getConfig=function(){return this.config},c.prototype.setRender=function(e){this._render=e},c.prototype.setEventHandlers=function(e){this.handlers=e},c.prototype.handleVideoEvent=function(e){let{id:t,eventName:i}=e;"function"==typeof this.handlers[i]&&this.handlers[i](),(0,r.OG)("Prebid Renderer event for id ".concat(t," type ").concat(i))},c.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){(0,r.vV)("Error processing Renderer command: ",e)}}},6754:(e,t,i)=>{"use strict";i.d(t,{DL:()=>l,Ml:()=>r,Ue:()=>n,VJ:()=>p,hE:()=>u,hq:()=>c,mo:()=>d,qX:()=>s,uc:()=>a,yl:()=>o});const n="accessDevice",r="syncUser",s="enrichUfpd",o="enrichEids",a="fetchBids",d="reportAnalytics",c="transmitEids",l="transmitUfpd",u="transmitPreciseGeo",p="transmitTid"},4312:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var n=i(618);const r=(0,i(3969).ZI)((e=>n.Ay.resolveAlias(e)))},7850:(e,t,i)=>{"use strict";i.d(t,{Tn:()=>a,fW:()=>s,tW:()=>r,tp:()=>n,zu:()=>o});const n="prebid",r="bidder",s="userId",o="rtd",a="analytics"},3969:(e,t,i)=>{"use strict";i.d(t,{Dk:()=>o,Ii:()=>s,TQ:()=>h,XG:()=>l,ZI:()=>f,Zw:()=>c,bt:()=>u,e3:()=>p,iK:()=>a,q7:()=>d});var n=i(7850),r=i(8094);const s="component",o=s+"Type",a=s+"Name",d="adapterCode",c="storageType",l="configName",u="syncType",p="syncUrl",h="_config";function f(e){return function(t,i,r){const c={[o]:t,[a]:i,[s]:"".concat(t,".").concat(i)};return t===n.tW&&(c[d]=e(i)),g(Object.assign(c,r))}}const g=(0,r.A_)("sync",(e=>e))},2435:(e,t,i)=>{"use strict";i.d(t,{$p:()=>h});var n=i(4474),r=i(9827),s=i(2764),o=i(6754);const a=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((e=>"user.".concat(e))).concat("device.ext.cdep"),d=["user.eids","user.ext.eids"],c=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function l(e){return Object.assign({get(){},run(e,t,i,n,r){const s=i&&i[n];if(function(e){return null!=e&&("object"!=typeof e||Object.keys(e).length>0)}(s)&&r()){const e=this.get(s);void 0===e?delete i[n]:i[n]=e}}},e)}function u(e){return e.forEach((e=>{e.paths=e.paths.map((e=>{const t=e.split("."),i=t.pop();return[t.length>0?t.join("."):null,i]}))})),function(t,i){const r=[];for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];const d=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return function(t){return e.hasOwnProperty(t.name)||(e[t.name]=!!t.applies(...i)),e[t.name]}}(t,...o);return e.forEach((e=>{if(!1!==t[e.name])for(const[s,o]of e.paths){const a=null==s?i:(0,n.A)(i,s);if(r.push(e.run(i,s,a,o,d.bind(null,e))),!1===t[e.name])return}})),r.filter((e=>null!=e))}}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.io;return function(i){return!t(e,i)}}const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.io;const t=u(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.io;return[{name:o.DL,paths:a,applies:p(o.DL,e)},{name:o.hq,paths:d,applies:p(o.hq,e)},{name:o.hE,paths:c,applies:p(o.hE,e),get:e=>Math.round(100*(e+Number.EPSILON))/100},{name:o.VJ,paths:["source.tid"],applies:p(o.VJ,e)}].map(l)}(e)),i=u(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.io;return[{name:o.hq,paths:["userId","userIdAsEids"],applies:p(o.hq,e)},{name:o.VJ,paths:["ortb2Imp.ext.tid"],applies:p(o.VJ,e)}].map(l)}(e));return function(e){const n={};return{ortb2:i=>(t(n,i,e),i),bidRequest:t=>(i(n,t,e),t)}}}();(0,s.qB)(o.VJ,"enableTIDs config",(()=>{if(!r.$W.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}))},2764:(e,t,i)=>{"use strict";i.d(t,{io:()=>o,qB:()=>s});var n=i(949),r=i(3969);const[s,o]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.h0)("Activity control:");const t={};function i(e){return t[e]=t[e]||[]}function s(t,i,n,s){let o;try{o=n(s)}catch(n){e.logError("Exception in rule ".concat(i," for '").concat(t,"'"),n),o={allow:!1,reason:n}}return o&&Object.assign({activity:t,name:i,component:s[r.Ii]},o)}const o={};function a(t){let{activity:i,name:n,allow:r,reason:s,component:a}=t;const d="".concat(n," ").concat(r?"allowed":"denied"," '").concat(i,"' for '").concat(a,"'").concat(s?":":""),c=o.hasOwnProperty(d);if(c&&clearTimeout(o[d]),o[d]=setTimeout((()=>delete o[d]),1e3),!c){const t=[d];s&&t.push(s),(r?e.logInfo:e.logWarn).apply(e,t)}}return[function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const s=i(e),o=s.findIndex((e=>{let[t]=e;return r<t})),a=[r,t,n];return s.splice(o<0?s.length:o,0,a),function(){const e=s.indexOf(a);e>=0&&s.splice(e,1)}},function(e,t){let n,r;for(const[o,d,c]of i(e)){if(n!==o&&r)break;n=o;const i=s(e,d,c,t);if(i){if(!i.allow)return a(i),!1;r=i}}return r&&a(r),!0}]}()},302:(e,t,i)=>{"use strict";i.d(t,{$A:()=>A,BS:()=>R,Uc:()=>w,_0:()=>O,bw:()=>x,n6:()=>_,vW:()=>S,vd:()=>T});var n=i(949),r=i(4474),s=i(4124),o=i(5928),a=i(9827),d=i(3410),c=i(1152),l=i(6021),u=i(3011),p=i(8094),h=i(7566),f=i(2546);const{AD_RENDER_FAILED:g,AD_RENDER_SUCCEEDED:m,STALE_RENDER:v,BID_WON:b}=o.qY,{EXCEPTION:y}=o.as,A=(0,p.A_)("sync",(function(e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.k.resolve()).then((t=>null!=t?t:l.n.findBidByAdId(e))).catch((()=>{}))})),_=(0,p.A_)("sync",(function(e){s.emit(b,e),l.n.addWinningBid(e)}));function E(e){let{reason:t,message:i,bid:r,id:o}=e;const a={reason:t,message:i};r&&(a.bid=r,a.adId=r.adId),o&&(a.adId=o),(0,n.vV)("Error rendering ad (id: ".concat(o,"): ").concat(i)),s.emit(g,a)}function I(e){let{doc:t,bid:i,id:n}=e;const r={doc:t};i&&(r.bid=i),n&&(r.adId=n),s.emit(m,r)}function w(e,t){switch(e.event){case o.qY.AD_RENDER_FAILED:E({bid:t,id:t.adId,reason:e.info.reason,message:e.info.message});break;case o.qY.AD_RENDER_SUCCEEDED:I({doc:null,bid:t,id:t.adId});break;default:(0,n.vV)("Received event request for unsupported event: '".concat(e.event,"' (adId: '").concat(t.adId,"')"))}}function S(e,t,i){let{resizeFn:n,fireTrackers:r=h.vO}=i;if("resizeNativeHeight"===e.action){let i=function(e){let t=[0,0];try{if(YMPB.getMaxSizeByUnitCode)t=YMPB.getMaxSizeByUnitCode(e);else{const i=function(e){return document.getElementById(e)}(e);t=[i.offsetWidth,i.offsetHeight]}}catch(e){t=[0,0]}return t}(t.adUnitCode);n(Math.max(e.width,i[0]),Math.max(e.height,i[1]))}else r(e,t)}const C={[o.nl.EVENT]:w};C[o.nl.NATIVE]=S;const T=(0,p.A_)("sync",(function(e,t){const{ad:i,adUrl:r,cpm:s,originalCpm:o,width:a,height:d}=e,c={AUCTION_PRICE:o||s,CLICKTHROUGH:(null==t?void 0:t.clickUrl)||""};return{ad:(0,n.gM)(i,c),adUrl:(0,n.gM)(r,c),width:a,height:d}})),O=(0,p.A_)("sync",(function(e){let{renderFn:t,resizeFn:i,bidResponse:n,options:r}=e;if(n.mediaType===c.G_)return void E({reason:o.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:n,id:n.adId});const s=T(n,r);t(Object.assign({adId:n.adId},s));const{width:a,height:d}=s;null!=(null!=a?a:d)&&i(a,d)}));function x(e){let{renderFn:t,resizeFn:i,adId:d,options:c,bidResponse:l,doc:u}=e;if(null!=l){if(l.status!==o.tl.RENDERED||((0,n.JE)("Ad id ".concat(d," has been rendered before")),s.emit(v,l),!(0,r.A)(a.$W.getConfig("auctionOptions"),"suppressStaleRender"))){try{O({renderFn:t,resizeFn:i,bidResponse:l,options:c,doc:u})}catch(e){E({reason:o.as.EXCEPTION,message:e.message,id:d,bid:l})}_(l)}}else E({reason:o.as.CANNOT_FIND_AD,message:"Cannot find ad '".concat(d,"'"),id:d})}function R(e,t,i){let r;function s(e,i){E(Object.assign({id:t,bid:r},{reason:e,message:i}))}function a(t,i){e.defaultView&&e.defaultView.frameElement&&(t&&(e.defaultView.frameElement.width=t),i&&(e.defaultView.frameElement.height=i))}const d=(c={resizeFn:a},function(e,t,i){C.hasOwnProperty(e)&&C[e](t,i,c)});var c;function l(t){t.ad?(e.write(t.ad),e.close(),I({doc:e,bid:r,adId:r.adId})):(0,u.H)(r).then((i=>i(t,{sendMessage:(e,t)=>d(e,t,r),mkFrame:n.hw},e.defaultView))).then((()=>I({doc:e,bid:r,adId:r.adId})),(e=>{s((null==e?void 0:e.reason)||o.as.EXCEPTION,null==e?void 0:e.message),(null==e?void 0:e.stack)&&(0,n.vV)(e)}));const i=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));(0,n._s)(i,e,"html")}try{t&&e?e!==document||(0,n.al)()?A(t).then((n=>{r=n,x({renderFn:l,resizeFn:a,adId:t,options:{clickUrl:null==i?void 0:i.clickThrough},bidResponse:n,doc:e})})):s(o.as.PREVENT_WRITING_ON_MAIN_DOCUMENT,"renderAd was prevented from writing to the main document."):s(o.as.MISSING_DOC_OR_ADID,"missing ".concat(t?"doc":"adId"))}catch(e){s(y,e.message)}}O.before((function(e,t){const{bidResponse:i,doc:n}=t;(0,d.J7)(i.renderer)?((0,d.Pg)(i.renderer,i,n),I({doc:n,bid:i,id:i.adId}),e.bail()):e(t)}),100)},8202:(e,t,i)=>{"use strict";function n(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}i.d(t,{A:()=>n})},618:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>G,pX:()=>j,K5:()=>$,Gs:()=>N});var n=i(949),r=i(4474),s=i(7566),o=i(3426),a=i(8223),d=i(9827),c=i(8094),l=i(3430);let u={};function p(e,t,i){let n=function(e,t){let i=u[e]=u[e]||{bidders:{}};return t?i.bidders[t]=i.bidders[t]||{}:i}(e,i);return n[t]=(n[t]||0)+1,n[t]}function h(e){return(0,r.A)(u,"".concat(e,".requestsCounter"))||0}function f(e,t){return(0,r.A)(u,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0}function g(e,t){return(0,r.A)(u,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}var m=i(6449),v=i(5007),b=i(4124),y=i(5928),A=i(331),_=i(6021),E=i(7850),I=i(2764),w=i(6754),S=i(3969),C=i(2435);const T="pbsBidAdapter",O={CLIENT:"client",SERVER:"server"},x={isAllowed:I.io,redact:C.$p};let R={},D=R.bidderRegistry={},U=R.aliasRegistry={},B=[];d.$W.getConfig("s2sConfig",(e=>{e&&e.s2sConfig&&(B=(0,n.cy)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var k={};const P=(0,S.ZI)((e=>R.resolveAlias(e)));function $(e){return P(E.tp,T,{[S.XG]:e.configName})}const M=(0,c.A_)("sync",(function(e){let{bidderCode:t,auctionId:i,bidderRequestId:s,adUnits:o,src:a,metrics:d}=e;return o.reduce(((e,o)=>{const c=o.bids.filter((e=>e.bidder===t));return null==t&&0===c.length&&null!=o.s2sBid&&c.push({bidder:null}),e.push(c.reduce(((e,c)=>{const l=null==(c=Object.assign({},c,{ortb2Imp:(0,n.D9)({},o.ortb2Imp,c.ortb2Imp)},(0,n.SH)(o,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?o.mediaTypes:c.mediaTypes;return(0,n.wD)(l)?c=Object.assign({},c,{mediaTypes:l}):(0,n.vV)("mediaTypes is not correctly configured for adunit ".concat(o.code)),"client"===a&&function(e,t){p(e,"requestsCounter",t)}(o.code,t),e.push(Object.assign({},c,{adUnitCode:o.code,transactionId:o.transactionId,adUnitId:o.adUnitId,sizes:(0,r.A)(l,"banner.sizes")||(0,r.A)(l,"video.playerSize")||[],bidId:c.bid_id||(0,n.s0)(),bidderRequestId:s,auctionId:i,src:a,metrics:d,bidRequestsCount:h(o.code),bidderRequestsCount:f(o.code,c.bidder),bidderWinsCount:g(o.code,c.bidder)})),e}),[])),e}),[]).reduce(n.Bq,[]).filter((e=>""!==e))}),"getBids");const L=(0,c.A_)("sync",(function(e,t){let{getS2SBidders:i=j}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return e;{const n=i(t);return e.filter((e=>n.has(e.bidder)))}}),"filterBidsForAdUnit");const N=(0,c.A_)("sync",((e,t)=>e),"setupAdUnitMediaTypes");function j(e){(0,n.cy)(e)||(e=[e]);const t=new Set([null]);return e.filter((e=>e&&e.enabled)).flatMap((e=>e.bidders)).forEach((e=>t.add(e))),t}const F=(0,c.A_)("sync",(function(e,t){let{getS2SBidders:i=j}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=i(t);return(0,n.ZA)(e).reduce(((e,t)=>(e[r.has(t)?O.SERVER:O.CLIENT].push(t),e)),{[O.CLIENT]:[],[O.SERVER]:[]})}),"partitionBidders");function z(e,t){const i=D[e],n=(null==i?void 0:i.getSpec)&&i.getSpec();if(n&&n[t]&&"function"==typeof n[t])return[n,n[t]]}function q(e,t,i,r){try{(0,n.fH)("Invoking ".concat(e,".").concat(t));for(var s=arguments.length,o=new Array(s>4?s-4:0),a=4;a<s;a++)o[a-4]=arguments[a];d.$W.runWithBidder(e,r.bind(i,...o))}catch(i){(0,n.JE)("Error calling ".concat(t," of ").concat(e))}}function V(e,t,i){if((null==i?void 0:i.src)!==y.RW.SRC){const n=z(e,t);null!=n&&q(e,t,...n,i)}}R.makeBidRequests=(0,c.A_)("sync",(function(e,t,i,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;c=(0,A.BO)(c),b.emit(y.qY.BEFORE_REQUEST_BIDS,e),(0,s.nk)(e),e.forEach((e=>{(0,n.Qd)(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((e=>!e.bidder||x.isAllowed(w.uc,P(E.tW,e.bidder)))),p(e.code,"requestsCounter")})),e=N(e,o);let{[O.CLIENT]:u,[O.SERVER]:h}=F(e,B);d.$W.getConfig("bidderSequence")===d.Ov&&(u=(0,n.k4)(u));const f=(0,m.EN)();let g=[];const _=a.global||{},I=a.bidder||{};function S(e,t){const r=x.redact(null!=t?t:P(E.tW,e.bidderCode)),s=Object.freeze(r.ortb2((0,n.D9)({source:{tid:i}},_,I[e.bidderCode])));return e.ortb2=s,e.bids=e.bids.map((e=>(e.ortb2=s,r.bidRequest(e)))),e}B.forEach((r=>{const s=$(r);if(r&&r.enabled&&x.isAllowed(w.uc,s)){let{adUnits:o,hasModuleBids:a}=function(e,t){let i=(0,n.Go)(e),r=!1;return i.forEach((e=>{const i=e.bids.filter((e=>{var i;return e.module===T&&(null===(i=e.params)||void 0===i?void 0:i.configName)===t.configName}));1===i.length?(e.s2sBid=i[0],r=!0,e.ortb2Imp=(0,n.D9)({},e.s2sBid.ortb2Imp,e.ortb2Imp)):i.length>1&&(0,n.JE)('Multiple "module" bids for the same s2s configuration; all will be ignored',i),e.bids=L(e.bids,t).map((e=>(e.bid_id=(0,n.s0)(),e)))})),i=i.filter((e=>0!==e.bids.length||null!=e.s2sBid)),{adUnits:i,hasModuleBids:r}}(e,r),d=(0,n.lk)();(0===h.length&&a?[null]:h).forEach((e=>{const a=(0,n.s0)(),l=c.fork(),u=S({bidderCode:e,auctionId:i,bidderRequestId:a,uniquePbsTid:d,bids:M({bidderCode:e,auctionId:i,bidderRequestId:a,adUnits:(0,n.Go)(o),src:y.RW.SRC,metrics:l}),auctionStart:t,timeout:r.timeout,src:y.RW.SRC,refererInfo:f,metrics:l},s);0!==u.bids.length&&g.push(u)})),o.forEach((e=>{let t=e.bids.filter((e=>(0,l.I6)(g,(t=>(0,l.I6)(t.bids,(t=>t.bidId===e.bid_id))))));e.bids=t})),g.forEach((e=>{void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((e=>e.bids.length>0||null!=e.s2sBid)))}))}}));let C=function(e){let t=(0,n.Go)(e);return t.forEach((e=>{e.bids=L(e.bids,null)})),t=t.filter((e=>0!==e.bids.length)),t}(e);return u.forEach((e=>{const s=(0,n.s0)(),a=c.fork(),d=S({bidderCode:e,auctionId:i,bidderRequestId:s,bids:M({bidderCode:e,auctionId:i,bidderRequestId:s,adUnits:(0,n.Go)(C),labels:o,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:f,metrics:a}),l=D[e];l||(0,n.vV)("Trying to make a request for bidder that does not exist: ".concat(e)),l&&d.bids&&0!==d.bids.length&&g.push(d)})),g.forEach((e=>{v.mW.getConsentData()&&(e.gdprConsent=v.mW.getConsentData()),v.t6.getConsentData()&&(e.uspConsent=v.t6.getConsentData()),v.ad.getConsentData()&&(e.gppConsent=v.ad.getConsentData())})),g}),"makeBidRequests"),R.callBids=function(e,t,i,r,s,o,c){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(!t.length)return void(0,n.JE)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?");let[u,p]=t.reduce(((e,t)=>(e[Number(void 0!==t.src&&t.src===y.RW.SRC)].push(t),e)),[[],[]]);var h=[];p.forEach((e=>{for(var t=-1,i=0;i<h.length;++i)if(e.uniquePbsTid===h[i].uniquePbsTid){t=i;break}t<=-1&&h.push(e)}));let f=0;B.forEach((e=>{if(e&&h[f]&&j(e).has(h[f].bidderCode)){const t=(0,a.g4)(o,s?{request:s.request.bind(null,"s2s"),done:s.done}:void 0);let d=e.bidders;const u=D[e.adapter];let g=h[f].uniquePbsTid,m=h[f].adUnitsS2SCopy,v=p.filter((e=>e.uniquePbsTid===g));if(u){let s={ad_units:m,s2sConfig:e,ortb2Fragments:l,requestBidsTimeout:o};if(s.ad_units.length){let e=v.map((e=>(e.start=(0,n.vE)(),function(t){t||c(e.bidderRequestId),r.apply(e,arguments)})));const o=(0,n.ZA)(s.ad_units).filter((e=>d.includes(e)));(0,n.OG)("CALLING S2S HEADER BIDDERS ==== ".concat(o.length>0?o.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((e=>{b.emit(y.qY.BID_REQUESTED,{...e,tid:e.auctionId})})),u.callBids(s,p,i,(t=>e.forEach((e=>e(t)))),t)}}else(0,n.vV)("missing "+e.adapter);f++}})),u.forEach((e=>{e.start=(0,n.vE)();const t=D[e.bidderCode];d.$W.runWithBidder(e.bidderCode,(()=>{(0,n.OG)("CALLING BIDDER"),b.emit(y.qY.BID_REQUESTED,e)}));let l=(0,a.g4)(o,s?{request:s.request.bind(null,e.bidderCode),done:s.done}:void 0);const u=r.bind(e);try{d.$W.runWithBidder(e.bidderCode,t.callBids.bind(t,e,i,u,l,(()=>c(e.bidderRequestId)),d.$W.callbackWithBidder(e.bidderCode)))}catch(t){(0,n.vV)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),u()}}))},R.videoAdapters=[],R.registerBidAdapter=function(e,t){let{supportedMediaTypes:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;e&&t?"function"==typeof e.callBids?(D[t]=e,v.o2.register(E.tW,t,null===(r=e.getSpec)||void 0===r?void 0:r.call(e).gvlid),(0,l.mK)(i,"video")&&R.videoAdapters.push(t),(0,l.mK)(i,"native")&&s.mT.push(t)):(0,n.vV)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):(0,n.vV)("bidAdapter or bidderCode not specified")},R.aliasBidAdapter=function(e,t,i){if(void 0===D[t]){let r=D[e];if(void 0===r){const i=[];B.forEach((n=>{if(n.bidders&&n.bidders.length){const r=n&&n.bidders;n&&(0,l.mK)(r,t)?U[t]=e:i.push(e)}})),i.forEach((e=>{(0,n.vV)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{let a,d=function(e){let t=[];return(0,l.mK)(R.videoAdapters,e)&&t.push("video"),(0,l.mK)(s.mT,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)a=new r.constructor,a.setBidderCode(t);else{let s=r.getSpec(),d=i&&i.gvlid;null!=s.gvlid&&null==d&&(0,n.JE)("Alias '".concat(t,"' will NOT re-use the GVL ID of the original adapter ('").concat(s.code,"', gvlid: ").concat(s.gvlid,"). Functionality that requires TCF consent may not work as expected."));let c=i&&i.skipPbsAliasing;a=(0,o.xb)(Object.assign({},s,{code:t,gvlid:d,skipPbsAliasing:c})),U[t]=e}R.registerBidAdapter(a,t,{supportedMediaTypes:d})}catch(t){(0,n.vV)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else(0,n.OG)('alias name "'+t+'" has been already specified.')},R.resolveAlias=function(e){let t,i=e;for(;U[i]&&(!t||!t.has(i));)i=U[i],(t=t||new Set).add(i);return i},R.registerAnalyticsAdapter=function(e){let{adapter:t,code:i,gvlid:r}=e;t&&i?"function"==typeof t.enableAnalytics?(t.code=i,k[i]={adapter:t,gvlid:r},v.o2.register(E.Tn,i,r)):(0,n.vV)('Prebid Error: Analytics adaptor error for analytics "'.concat(i,'"\n        analytics adapter must implement an enableAnalytics() function')):(0,n.vV)("Prebid Error: analyticsAdapter or analyticsCode not specified")},R.enableAnalytics=function(e){(0,n.cy)(e)||(e=[e]),e.forEach((e=>{const t=k[e.provider];t&&t.adapter?x.isAllowed(w.mo,P(E.Tn,e.provider,{[S.TQ]:e}))&&t.adapter.enableAnalytics(e):(0,n.vV)("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},R.getBidAdapter=function(e){return D[e]},R.getAnalyticsAdapter=function(e){return k[e]},R.callTimedOutBidders=function(e,t,i){t=t.map((t=>(t.params=(0,n.SB)(e,t.adUnitCode,t.bidder),t.timeout=i,t))),t=(0,n.$z)(t,"bidder"),Object.keys(t).forEach((e=>{V(e,"onTimeout",t[e])}))},R.callBidWonBidder=function(e,t,i){var r,s;t.params=(0,n.SB)(i,t.adUnitCode,t.bidder),r=t.adUnitCode,s=t.bidder,p(r,"winsCounter",s),V(e,"onBidWon",t)},R.callBidBillableBidder=function(e){V(e.bidder,"onBidBillable",e)},R.callSetTargetingBidder=function(e,t){V(e,"onSetTargeting",t)},R.callBidViewableBidder=function(e,t){V(e,"onBidViewable",t)},R.callBidderError=function(e,t,i){V(e,"onBidderError",{error:t,bidderRequest:i})},R.checkBidAdapter=function(e){let t=d.$W.getConfig("s2sConfig"),i=t&&t.bidders;return void 0!==D[e]||i&&(0,l.mK)(i,e)},R.callDataDeletionRequest=(0,c.A_)("sync",(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r="onDataDeletionRequest";Object.keys(D).filter((e=>!U.hasOwnProperty(e))).forEach((e=>{const i=z(e,r);if(null!=i){const n=_.n.getBidsRequested().filter((t=>function(e){const t=new Set;for(;U.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=U[e];return e}(t.bidderCode)===e));q(e,r,...i,n,...t)}})),Object.entries(k).forEach((e=>{var i;let[s,o]=e;const a=null==o||null===(i=o.adapter)||void 0===i?void 0:i[r];if("function"==typeof a)try{a.apply(o.adapter,t)}catch(e){(0,n.vV)("error calling ".concat(r," of ").concat(s),e)}}))}));const G=R},3426:(e,t,i)=>{"use strict";i.d(t,{JN:()=>R,a$:()=>w,fn:()=>D,xb:()=>S});var n=i(8202),r=i(618),s=i(9827),o=i(3942),a=i(7045),d=i(7566),c=i(3210),l=i(5928),u=i(4124),p=i(3430),h=i(949),f=i(8094),g=i(6021),m=i(4070),v=i(331),b=i(2764),y=i(4312),A=i(7850),_=i(6754);const E=["cpm","ttl","creativeId","netRevenue","currency"],I=["auctionId","transactionId"];function w(e){const t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function i(e){const i=S(e);r.Ay.registerBidAdapter(i,e.code,t)}i(e),Array.isArray(e.aliases)&&e.aliases.forEach((t=>{let n,s,o=t;(0,h.Qd)(t)&&(o=t.code,n=t.gvlid,s=t.skipPbsAliasing),r.Ay.aliasRegistry[o]=e.code,i(Object.assign({},e,{code:o,gvlid:n,skipPbsAliasing:s}))}))}function S(e){return Object.assign(new n.A(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(i,n,a,d,c,p){if(!Array.isArray(i.bids))return;const f=function(e){if((0,b.io)(_.VJ,(0,y.s)(A.tW,e)))return{bidRequest:e=>e,bidderRequest:e=>e};function t(e,t,i){return I.includes(t)?null:Reflect.get(e,t,i)}function i(e,t){const i=new Proxy(e,t);return Object.entries(e).filter((e=>{let[t,i]=e;return"function"==typeof i})).forEach((t=>{let[n,r]=t;return i[n]=r.bind(e)})),i}const n=(0,h.Bj)((e=>i(e,{get:t})),(e=>e.bidId));return{bidRequest:n,bidderRequest:e=>i(e,{get:(i,r,s)=>"bids"===r?e.bids.map(n):t(i,r,s)})}}(i.bidderCode),g={};const E=[];function w(){a(),s.$W.runWithBidder(e.code,(()=>{u.emit(l.qY.BIDDER_DONE,i),t(E,i.gdprConsent,i.uspConsent,i.gppConsent)}))}const S=U(i).measureTime("validate",(()=>i.bids.filter((t=>function(t){if(!e.isBidRequestValid(t))return(0,h.JE)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1;return!0}(f.bidRequest(t))))));if(0===S.length)return void w();const C={};S.forEach((e=>{C[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),O(e,S.map(f.bidRequest),f.bidderRequest(i),d,p,{onRequest:e=>u.emit(l.qY.BEFORE_BIDDER_HTTP,i,e),onResponse:t=>{c(e.code),E.push(t)},onPaapi:e=>{const t=C[e.bidId];t?R(t,e):(0,h.JE)("Received fledge auction configuration for an unknown bidId",e)},onError:(t,n)=>{n.timedOut||c(e.code),r.Ay.callBidderError(e.code,n,i),u.emit(l.qY.BIDDER_ERROR,{error:n,bidderRequest:i}),(0,h.vV)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:t=>{const i=C[t.requestId];if(i){if(t.adapterCode=i.bidder,function(e,t){let i=m.u.get(t,"allowAlternateBidderCodes")||!1,n=m.u.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(n=(0,h.cy)(n)?n.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(h.hj):n,!i||(0,h.cy)(n)&&"*"!==n[0]&&!n.includes(e)))return!0;return!1}(t.bidderCode,i.bidder))return(0,h.JE)("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(i.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void n.reject(i.adUnitCode,t,l.Tf.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[i.bidder]);const e=Object.assign((0,o.O)(l.XQ.GOOD,i),t,(0,h.Up)(i,I));!function(e,t){const i=(0,v.BO)(t.metrics);i.checkpoint("addBidResponse"),g[e]=!0,i.measureTime("addBidResponse.validate",(()=>D(e,t)))?n(e,t):n.reject(e,t,l.Tf.INVALID)}(i.adUnitCode,e)}else(0,h.JE)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),n.reject(null,t,l.Tf.INVALID_REQUEST_ID)},onCompletion:w})}});function t(t,i,n,r){x(e,t,i,n,r)}}const C=["paapi","fledgeAuctionConfigs"],T=["bids"].concat(C);const O=(0,f.A_)("sync",(function(e,t,i,n,r,s){let{onRequest:o,onResponse:a,onPaapi:d,onError:c,onBid:l,onCompletion:u}=s;const p=U(i);u=p.startTiming("total").stopBefore(u);let f=p.measureTime("buildRequests",(()=>e.buildRequests(t,i)));if(!f||0===f.length)return void u();Array.isArray(f)||(f=[f]);const g=(0,h.U6)(u,f.length);f.forEach((t=>{const i=p.fork();function s(e){null!=e&&(e.metrics=i.fork().renameWith()),l(e)}const u=r((function(n,r){v();try{n=JSON.parse(n)}catch(e){}n={body:n,headers:{get:r.getResponseHeader.bind(r)}},a(n);try{n=i.measureTime("interpretResponse",(()=>e.interpretResponse(n,t)))}catch(t){return(0,h.vV)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void g()}let o,c;n&&!Object.keys(n).some((e=>!T.includes(e)))?(o=n.bids,c=function(e){const[t,i]=C.map((t=>e[t]));if(null!=t&&null!=i)throw new Error("Adapter response should use ".concat(C[0]," over ").concat(C[1],", not both"));return null!=t?t:i}(n)):o=n,(0,h.cy)(c)&&c.forEach(d),o&&((0,h.cy)(o)?o.forEach(s):s(o)),g()})),f=r((function(e,t){v(),c(e,t),g()}));o(t);const v=i.startTiming("net");function E(i){var n;const r=t.options;return Object.assign(i,r,{browsingTopics:!(null!=r&&r.hasOwnProperty("browsingTopics")&&!r.browsingTopics)&&((null===(n=m.u.get(e.code,"topicsHeader"))||void 0===n||n)&&(0,b.io)(_.DL,(0,y.s)(A.tW,e.code)))})}switch(t.method){case"GET":n("".concat(t.url).concat(function(e){if(e)return"?".concat("object"==typeof e?(0,h.bL)(e):e);return""}(t.data)),{success:u,error:f},void 0,E({method:"GET",withCredentials:!0}));break;case"POST":n(t.url,{success:u,error:f},"string"==typeof t.data?t.data:JSON.stringify(t.data),E({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:(0,h.JE)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),g()}}))}),"processBidderRequests"),x=(0,f.A_)("async",(function(e,t,i,n,o){const d=s.$W.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(d||!r.Ay.aliasRegistry[e.code])){let r=s.$W.getConfig("userSync.filterSettings"),d=e.getUserSyncs({iframeEnabled:!(!r||!r.iframe&&!r.all),pixelEnabled:!(!r||!r.image&&!r.all)},t,i,n,o);d&&(Array.isArray(d)||(d=[d]),d.forEach((t=>{a.zt.registerSync(t.type,e.code,t.url)})),a.zt.bidderDone(e.code))}}),"registerSyncs"),R=(0,f.A_)("sync",((e,t)=>{}),"addPaapiConfig");function D(e,t){let{index:i=g.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?function(){let e=Object.keys(t);return E.every((i=>(0,p.mK)(e,i)&&!(0,p.mK)([void 0,null],t[i])))}()?"native"!==t.mediaType||(0,d.Bm)(t,{index:i})?"video"!==t.mediaType||(0,c.vk)(t,{index:i})?!("banner"===t.mediaType&&!function(e,t){let{index:i=g.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;const n=i.getBidRequest(t),r=i.getMediaTypes(t),s=n&&n.sizes||r&&r.banner&&r.banner.sizes,o=(0,h.kK)(s);if(1===o.length){const[e,i]=o[0].split("x");return t.width=parseInt(e,10),t.height=parseInt(i,10),!0}return!1}(e,t,{index:i}))||((0,h.vV)(n("Banner bids require a width and height")),!1):((0,h.vV)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,h.vV)(n("Native bid missing some required properties.")),!1):((0,h.vV)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):((0,h.JE)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,h.JE)("No adUnitCode was supplied to addBidResponse."),!1)}function U(e){return(0,v.BO)(e.metrics).renameWith((t=>["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]))}},2179:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var n=i(3430),r=i(949);const s=new WeakMap,o=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","azerionedge","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost","contxtful","id5","51Degrees"];function a(e,t,i,a,d){if(!t||!e)return void(0,r.vV)("cannot load external script without url and moduleCode");if(!(0,n.mK)(o,t))return void(0,r.vV)("".concat(t," not whitelisted for loading external JavaScript"));a||(a=document);const c=p(a,e);if(c)return i&&"function"==typeof i&&(c.loaded?i():c.callbacks.push(i)),c.tag;const l=s.get(a)||{},u={loaded:!1,tag:null,callbacks:[]};return l[e]=u,s.set(a,l),i&&"function"==typeof i&&u.callbacks.push(i),(0,r.JE)("module ".concat(t," is loading external JavaScript")),function(t,i,n,s){n||(n=document);var o=n.createElement("script");o.type="text/javascript",o.async=!0;const a=p(n,e);a&&(a.tag=o);o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,i())}:o.onload=function(){i()};o.src=t,s&&(0,r.Bg)(o,s);return(0,r._s)(o,n),o}(e,(function(){u.loaded=!0;try{for(let e=0;e<u.callbacks.length;e++)u.callbacks[e]()}catch(e){(0,r.vV)("Error executing callback","adloader.js:loadExternalScript",e)}}),a,d);function p(e,t){const i=s.get(e);return i&&i[t]?i[t]:null}}},8223:(e,t,i)=>{"use strict";i.d(t,{RD:()=>p,g4:()=>u,hd:()=>h});var n=i(9827),r=i(949);const s={fetch:window.fetch.bind(window),makeRequest:(e,t)=>new Request(e,t),timeout(e,t){const i=new AbortController;let n=setTimeout((()=>{i.abort(),(0,r.vV)("Request timeout after ".concat(e,"ms"),t),n=null}),e);return{signal:i.signal,done(){n&&clearTimeout(n)}}}},o="GET",a="POST",d="Content-Type";function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t,i)=>{var r,o;let a;null==e||null!=(null===(r=i)||void 0===r?void 0:r.signal)||n.$W.getConfig("disableAjaxTimeout")||(a=s.timeout(e,t),i=Object.assign({signal:a.signal},i));let d=s.fetch(t,i);return null!=(null===(o=a)||void 0===o?void 0:o.done)&&(d=d.finally(a.done)),d};return null==t&&null==i||(r=(e=>function(n,r){const s=new URL(null==(null==n?void 0:n.url)?n:n.url,document.location).origin;let o=e(n,r);return t&&t(s),i&&(o=o.finally((()=>i(s)))),o})(r)),r}function l(e,t){let{status:i,statusText:n="",headers:s,url:o}=e,a=0;function c(e){if(0===a)try{var i;a=(new DOMParser).parseFromString(t,null==s||null===(i=s.get(d))||void 0===i||null===(i=i.split(";"))||void 0===i?void 0:i[0])}catch(t){a=null,e&&e(t)}return a}return{readyState:XMLHttpRequest.DONE,status:i,statusText:n,responseText:t,response:t,responseType:"",responseURL:o,get responseXML(){return c(r.vV)},getResponseHeader:e=>null!=s&&s.has(e)?s.get(e):null,toJSON(){return Object.assign({responseXML:c()},this)},timedOut:!1}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:t,done:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c(e,{request:t,done:i});return function(e,t,i){!function(e,t){const{success:i,error:n}="object"==typeof t&&null!=t?t:{success:"function"==typeof t?t:()=>null,error:(e,t)=>(0,r.vV)("Network error",e,t)};e.then((e=>e.text().then((t=>[e,t])))).then((e=>{let[t,r]=e;const s=l(t,r);t.ok||304===t.status?i(r,s):n(t.statusText,s)}),(e=>n("",Object.assign(l({status:0},""),{reason:e,timedOut:"AbortError"===(null==e?void 0:e.name)}))))}(n(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=i.method||(t?a:o);if(n===o&&t){const n=(0,r.Dl)(e,i);Object.assign(n.search,t),e=(0,r.c$)(n)}const c=new Headers(i.customHeaders);c.set(d,i.contentType||"text/plain");const l={method:n,headers:c};return n!==o&&t&&(l.body=t),i.withCredentials&&(l.credentials="include"),i.browsingTopics&&isSecureContext&&(l.browsingTopics=!0),i.keepalive&&(l.keepalive=!0),s.makeRequest(e,l)}(e,i,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})),t)}}const p=u(),h=c()},5388:(e,t,i)=>{"use strict";i.d(t,{AA:()=>C,HN:()=>X,UZ:()=>T,ZV:()=>W,mO:()=>G,mX:()=>B,v8:()=>L});var n=i(949),r=i(4474),s=i(9794),o=i(7566),a=i(1610),d=i(3410),c=i(9827),l=i(7045),u=i(8094),p=i(3430),h=i(3210),f=i(1152),g=i(6021),m=i(4070),v=i(4124),b=i(618),y=i(5928),A=i(2546),_=i(331),E=i(3861),I=i(8122);const{syncUsers:w}=l.zt,S="started",C="inProgress",T="completed";v.on(y.qY.BID_ADJUSTMENT,(function(e){!function(e){let t=(0,E.y)(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));const O=4,x={},R={},D=[],U=(0,I.m)();function B(e){let{adUnits:t,adUnitCodes:i,callback:a,cbTimeout:l,labels:u,auctionId:m,ortb2Fragments:E,metrics:I}=e;I=(0,_.BO)(I);const B=t,N=u,j=i,F=m||(0,n.lk)(),z=l,G=new Set,W=(0,A.v)();let H,Y,J,K,Q=[],X=a,Z=[],te=[],ie=[],ne=[],re=[];function se(){return{auctionId:F,timestamp:H,auctionEnd:Y,auctionStatus:K,adUnits:B,adUnitCodes:j,labels:N,bidderRequests:Z,noBids:ie,bidsReceived:te,bidsRejected:Q,winningBids:ne,timeout:z,metrics:I,seatNonBids:re}}function oe(e){if(e?v.emit(y.qY.AUCTION_TIMEOUT,se()):clearTimeout(J),void 0===Y){let i=[];e&&((0,n.OG)("Auction ".concat(F," timedOut")),i=Z.filter((e=>!G.has(e.bidderRequestId))).flatMap((e=>e.bids)),i.length&&v.emit(y.qY.BID_TIMEOUT,i)),K=T,Y=Date.now(),I.checkpoint("auctionEnd"),I.timeBetween("requestBids","auctionEnd","requestBids.total"),I.timeBetween("callBids","auctionEnd","requestBids.callBids"),W.resolve(),v.emit(y.qY.AUCTION_END,se()),M(B,(function(){try{if(null!=X){const t=te.filter((e=>j.includes(e.adUnitCode))).reduce(ee,{});X.apply(U,[t,e,F]),X=null}}catch(e){(0,n.vV)("Error executing bidsBackHandler",null,e)}finally{i.length&&b.Ay.callTimedOutBidders(t,i,z);let e=c.$W.getConfig("userSync")||{};e.enableOverride||w(e.syncDelay)}}))}}function ae(){c.$W.resetBidder(),(0,n.fH)("Bids Received for Auction with id: ".concat(F),te),K=T,oe(!1)}function de(e){G.add(e)}function ce(e){e.forEach((e=>{var t;t=e,Z=Z.concat(t)}));let t={},i={bidRequests:e,run:()=>{J=setTimeout((()=>oe(!0)),z),K=C,v.emit(y.qY.AUCTION_INIT,se());let i=function(e,t){let{index:i=g.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=0,l=!1,u=new Set,m={};function b(){a--,l&&0===a&&e()}function _(e,t,i){return m[t.requestId]=!0,function(e,t){let{index:i=g.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=i.getBidderRequest(e),s=i.getAdUnit(e),o=r&&r.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||(0,n.vE)(),requestTimestamp:e.requestTimestamp||o,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==s?void 0:s.ttlBuffer)&&(e.ttlBuffer=s.ttlBuffer);e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),a++,i(b)}function E(e,a){let l=null;if(t.getBidRequests().forEach((e=>{if(e.bidderCode===a.bidderCode)return l=(0,p.I6)(e.bids,(e=>e.bidId===a.requestId)),!l})),l&&(l.ymAlias&&(a.ymAlias=l.ymAlias),l.parentBidderCode&&(a.parentBidderCode=l.parentBidderCode)),a&&U.getMaxSizeByUnitCode&&a.mediaType===f.D4){let i=U.getMaxSizeByUnitCode(e);if(i&&i.length>0&&(a.width>i[0]||a.height>i[1]))return void _(e,a,(e=>{(0,n.JE)("Bid from ".concat(a.bidder||"unknown bidder"," was rejected: bid size mismatched"),a),t.addBidRejected(a),e()}))}_(e,a,(e=>{let l=function(e){var t;let{index:i=g.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.emit(y.qY.BID_ADJUSTMENT,e);const n=(null===(t=i.getBidRequest(e))||void 0===t?void 0:t.renderer)||i.getAdUnit(e).renderer,r=e.mediaType,o=i.getMediaTypes(e),a=o&&o[r];var l=a&&a.renderer,u=null;l&&l.url&&l.render&&(!0!==l.backupOnly||!e.renderer)?u=l:n&&n.url&&n.render&&(!0!==n.backupOnly||!e.renderer)&&(u=n);u&&(e.renderer=d.A4.install({url:u.url,config:u.options}),e.renderer.setRender(u.render));const p=V(e.mediaType,o,c.$W.getConfig("mediaTypePriceGranularity")),h=(0,s.j)(e.cpm,"object"==typeof p?p:c.$W.getConfig("customPriceBucket"),c.$W.getConfig("currency.granularityMultiplier"));return e.pbLg=h.low,e.pbMg=h.med,e.pbHg=h.high,e.pbAg=h.auto,e.pbDg=h.dense,e.pbCg=h.custom,e}(a);v.emit(y.qY.BID_ACCEPTED,l),l.mediaType===f.G_?function(e,t,i){let{index:s=g.n.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!0;const a=(0,r.A)(s.getMediaTypes({requestId:t.originalRequestId||t.requestId,adUnitId:t.adUnitId}),"video"),d=a&&(0,r.A)(a,"context"),l=a&&(0,r.A)(a,"useCacheKey");c.$W.getConfig("cache.url")&&(l||d!==h.H6)&&(!t.videoCacheKey||c.$W.getConfig("cache.ignoreBidderCacheKey")?(o=!1,q(e,t,i,a)):t.vastUrl||((0,n.vV)("videoCacheKey specified but not required vastUrl for video bid"),o=!1));o&&(L(e,t),i())}(t,l,e):((0,o.l6)(l)&&(0,o.gs)(l,i.getAdUnit(l)),L(t,l),e())}))}function I(e,i,r){return _(e,i,(e=>{i.rejectionReason=r,(0,n.JE)("Bid from ".concat(i.bidder||"unknown bidder"," was rejected: ").concat(r),i),v.emit(y.qY.BID_REJECTED,i),t.addBidRejected(i),e()}))}function w(){let i=this,r=t.getBidRequests();const s=c.$W.getConfig("auctionOptions");if(u.add(i),s&&!(0,n.Im)(s)){const e=s.secondaryBidders;e&&!r.every((t=>(0,p.mK)(e,t.bidderCode)))&&(r=r.filter((t=>!(0,p.mK)(e,t.bidderCode))))}l=r.every((e=>u.has(e))),i.bids.forEach((e=>{m[e.bidId]||(t.addNoBid(e),v.emit(y.qY.NO_BID,e))})),l&&0===a&&e()}return{addBidResponse:function(){function e(e,t){k.call({dispatch:E},e,t,(()=>{let i=!1;return n=>{i||(I(e,t,n),i=!0)}})())}return e.reject=I,e}(),adapterDone:function(){P(A.k.resolve()).finally((()=>w.call(this)))}}}(ae,this);b.Ay.callBids(B,e,i.addBidResponse,i.adapterDone,{request(e,i){l(x,i),l(t,e),R[e]||(R[e]={SRA:!0,origin:i}),t[e]>1&&(R[e].SRA=!1)},done(e){x[e]--,D[0]&&a(D[0])&&D.shift()}},z,de,E)}};function a(e){let t=!0,i=c.$W.getConfig("maxRequestsPerOrigin")||O;return e.bidRequests.some((e=>{let n=1,r=void 0!==e.src&&e.src===y.RW.SRC?"s2s":e.bidderCode;return R[r]&&(!1===R[r].SRA&&(n=Math.min(e.bids.length,i)),x[R[r].origin]+n>i&&(t=!1)),!t})),t&&e.run(),t}function l(e,t){void 0===e[t]?e[t]=1:e[t]++}a(i)||((0,n.JE)("queueing auction due to limited endpoint capacity"),D.push(i))}return v.on(y.qY.SEAT_NON_BID,(e=>{var t;e.auctionId===F&&(t=e.seatnonbid,re=re.concat(t))})),{addBidReceived:function(e){te=te.concat(e)},addBidRejected:function(e){Q=Q.concat(e)},addNoBid:function(e){ie=ie.concat(e)},removeBidReceived:function(e){for(let t=0;t<te.length;t++){const i=te[t];e.adId===i.adId&&te.splice(t,1)}},emptyAuction:function(){Z.length=0,te.length=0,ie.length=0,ne.length=0},getBidsReceivedByUnitCode:function(e){return te.filter((t=>t.adUnitCode===e))},executeCallback:oe,callBids:function(){K=S,H=Date.now();let e=I.measureTime("requestBids.makeRequests",(()=>b.Ay.makeBidRequests(B,H,F,z,N,E,I)));(0,n.fH)("Bids Requested for Auction with id: ".concat(F),e),I.checkpoint("callBids"),e.length<1?((0,n.JE)("No valid bid requests returned for auction"),ae()):$.call({dispatch:ce,context:this},e)},addWinningBid:function(e){const i=t.find((t=>t.adUnitId===e.adUnitId));ne=ne.concat(e),(0,n.Wz)(e),b.Ay.callBidWonBidder(e.adapterCode||e.bidder,e,t),i&&!i.deferBilling&&b.Ay.callBidBillableBidder(e)},setBidTargeting:function(e){b.Ay.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:()=>ne,getAuctionStart:()=>H,getAuctionEnd:()=>Y,getTimeout:()=>z,getAuctionId:()=>F,getAuctionStatus:()=>K,getAdUnits:()=>B,getAdUnitCodes:()=>j,getBidRequests:()=>Z,getBidsReceived:()=>te,getNoBids:()=>ie,getNonBids:()=>re,getFPD:()=>E,getMetrics:()=>I,end:W.promise}}const k=(0,u.A_)("sync",(function(e,t,i){!function(e){const t=c.$W.getConfig("maxBid");return!t||!e.cpm||t>=Number(e.cpm)}(t)?i(y.Tf.PRICE_TOO_HIGH):this.dispatch.call(null,e,t)}),"addBidResponse"),P=(0,u.A_)("sync",(e=>e),"responsesReady"),$=(0,u.A_)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),M=(0,u.A_)("async",(function(e,t){t&&t()}),"bidsBackCallback");function L(e,t){!function(e){let t;const i=!0===m.u.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(i||e.dealId)&&(t=function(e,t){let{index:i=g.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};const n=i.getBidRequest(t);var r={};const s=X(t.mediaType,e);Z(r,s,t,n),e&&m.u.getOwn(e,y.iD.ADSERVER_TARGETING)&&(Z(r,m.u.ownSettingsFor(e),t,n),t.sendStandardTargeting=m.u.get(e,"sendStandardTargeting"));t.native&&(r=Object.assign({},r,(0,o.Zj)(t)));return r}(e.bidderCode,e));e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),(0,_.BO)(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),v.emit(y.qY.BID_RESPONSE,t)}const N=e=>{(0,a.M_)(e.map((e=>e.bidResponse)),(function(t,i){i.forEach(((i,r)=>{const{auctionInstance:s,bidResponse:o,afterBidAdded:d}=e[r];t?(0,n.JE)("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")):""===i.uuid?(0,n.JE)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(o.videoCacheKey=i.uuid,o.vastUrl||(o.vastUrl=(0,a.MT)(o.videoCacheKey)),L(s,o),d())}))}))};let j,F;c.$W.getConfig("cache",(e=>{j="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,F="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));const z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,i=[[]],n=!1;const r=e=>e();return function(s,o,a){const d=F>0?e:r;i[i.length-1].length>=j&&i.push([]),i[i.length-1].push({auctionInstance:s,bidResponse:o,afterBidAdded:a}),n||(n=!0,d((()=>{i.forEach(t),i=[[]],n=!1}),F))}}(),q=(0,u.A_)("async",(function(e,t,i,n){z(e,t,i)}),"callPrebidCache");function V(e,t,i){if(e&&i){if(e===f.G_){const e=(0,r.A)(t,"".concat(f.G_,".context"),"instream");if(i["".concat(f.G_,"-").concat(e)])return i["".concat(f.G_,"-").concat(e)]}return i[e]}}const G=function(e){let{index:t=g.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=V(e.mediaType,t.getMediaTypes(e),c.$W.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&i?"string"==typeof i?i:"custom":c.$W.getConfig("priceGranularity")},W=e=>t=>{const i=e||G(t);return i===y.UE.AUTO?t.pbAg:i===y.UE.DENSE?t.pbDg:i===y.UE.LOW?t.pbLg:i===y.UE.MEDIUM?t.pbMg:i===y.UE.HIGH?t.pbHg:i===y.UE.CUSTOM?t.pbCg:void 0},H=()=>e=>e.creativeId?e.creativeId:"",Y=()=>e=>e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:"",J=()=>e=>e.meta&&(e.meta.networkId||e.meta.networkName)?(0,r.A)(e,"meta.networkName")||(0,r.A)(e,"meta.networkId"):"",K=()=>e=>e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:"";function Q(e,t){return{key:e,val:"function"==typeof t?function(e,i){return t(e,i)}:function(e){return(0,n._W)(e,t)}}}function X(e,t){const i=Object.assign({},m.u.settingsFor(null));if(i[y.iD.ADSERVER_TARGETING]||(i[y.iD.ADSERVER_TARGETING]=[Q(y.xS.BIDDER,"bidderCode"),Q(y.xS.AD_ID,"adId"),Q(y.xS.PRICE_BUCKET,W()),Q(y.xS.SIZE,"size"),Q(y.xS.DEAL,"dealId"),Q(y.xS.SOURCE,"source"),Q(y.xS.FORMAT,"mediaType"),Q(y.xS.ADOMAIN,Y()),Q(y.xS.ACAT,K()),Q(y.xS.DSP,J()),Q(y.xS.CRID,H())]),"video"===e){const e=i[y.iD.ADSERVER_TARGETING].slice();if(i[y.iD.ADSERVER_TARGETING]=e,[y.xS.UUID,y.xS.CACHE_ID].forEach((t=>{void 0===(0,p.I6)(e,(e=>e.key===t))&&e.push(Q(t,"videoCacheKey"))})),c.$W.getConfig("cache.url")&&(!t||!1!==m.u.get(t,"sendStandardTargeting"))){const t=(0,n.Dl)(c.$W.getConfig("cache.url"));void 0===(0,p.I6)(e,(e=>e.key===y.xS.CACHE_HOST))&&e.push(Q(y.xS.CACHE_HOST,(function(e){return(0,r.A)(e,"adserverTargeting.".concat(y.xS.CACHE_HOST))?e.adserverTargeting[y.xS.CACHE_HOST]:t.hostname})))}}return i}function Z(e,t,i,r){var s=t[y.iD.ADSERVER_TARGETING];return i.size=i.getSize(),(s||[]).forEach((function(s){var o=s.key,a=s.val;if(e[o]&&(0,n.JE)("The key: "+o+" is being overwritten"),(0,n.fp)(a))try{a=a(i,r)}catch(e){(0,n.vV)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==y.xS.DEAL&&o!==y.xS.ACAT&&o!==y.xS.DSP&&o!==y.xS.CRID||!(0,n.xQ)(a)&&null!=a?e[o]=a:(0,n.fH)("suppressing empty key '"+o+"' from adserver targeting")})),e}function ee(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},6021:(e,t,i)=>{"use strict";i.d(t,{n:()=>p});var n=i(949),r=i(5388);function s(e){Object.assign(this,{getAuction(t){let{auctionId:i}=t;if(null!=i)return e().find((e=>e.getAuctionId()===i))},getAdUnit(t){let{adUnitId:i}=t;if(null!=i)return e().flatMap((e=>e.getAdUnits())).find((e=>e.adUnitId===i))},getMediaTypes(e){let{adUnitId:t,requestId:i}=e;if(null!=i){const e=this.getBidRequest({requestId:i});if(null!=e&&(null==t||e.adUnitId===t))return e.mediaTypes}else if(null!=t){const e=this.getAdUnit({adUnitId:t});if(null!=e)return e.mediaTypes}},getBidderRequest(t){let{requestId:i,bidderRequestId:n}=t;if(null!=i||null!=n){let t=e().flatMap((e=>e.getBidRequests()));return null!=n&&(t=t.filter((e=>e.bidderRequestId===n))),null==i?t[0]:t.find((e=>e.bids&&null!=e.bids.find((e=>e.bidId===i))))}},getBidRequest(t){let{requestId:i}=t;if(null!=i)return e().flatMap((e=>e.getBidRequests())).flatMap((e=>e.bids)).find((e=>e&&e.bidId===i))}})}var o=i(5928),a=i(331),d=i(1063),c=i(7816),l=i(9827);const u="minBidCacheTTL";const p=function(){let e=null;const t=(0,d.H)({startTime:e=>e.end.then((()=>e.getAuctionEnd())),ttl:t=>null==e?null:t.end.then((()=>1e3*Math.max(e,...t.getBidsReceived().map(c.L))))});(0,c.u)((()=>{null!=e&&t.refresh()})),l.$W.getConfig(u,(i=>{const n=e;e=null==i?void 0:i[u],e="number"==typeof e?e:null,n!==e&&t.refresh()}));const i={onExpiry:t.onExpiry};function p(e){for(const i of t)if(i.getAuctionId()===e)return i}function h(){return t.toArray().flatMap((e=>e.getBidsReceived()))}return i.addWinningBid=function(e){const t=(0,a.BO)(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");const i=p(e.auctionId);i?(e.status=o.tl.RENDERED,i.addWinningBid(e)):(0,n.JE)("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:e=>e.getAuctionStatus()===r.UZ},getAdUnitCodes:{post:n.hj}}).forEach((e=>{let[n,{name:r=n,pre:s,post:o}]=e;const a=null==s?e=>e[r]():e=>s(e)?e[r]():[],d=null==o?e=>e:e=>e.filter(o);i[n]=()=>d(t.toArray().flatMap(a))})),i.getAllBidsForAdUnitCode=function(e){return h().filter((t=>t&&t.adUnitCode===e))},i.createAuction=function(e){const i=(0,r.mX)(e);return function(e){t.add(e)}(i),i},i.findBidByAdId=function(e){return h().find((t=>t.adId===e))},i.getStandardBidderAdServerTargeting=function(){return(0,r.HN)()[o.iD.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){let n=i.findBidByAdId(e);if(n&&(n.status=t),n&&t===o.tl.BID_TARGETING_SET){const e=p(n.auctionId);e&&e.setBidTargeting(n)}},i.getLastAuctionId=function(){const e=t.toArray();return e.length&&e[e.length-1].getAuctionId()},i.clearAllAuctions=function(){t.clear()},i.removeBidReceived=function(e){for(const i of t)i.removeBidReceived(e)},i.getAuction=p,i.getAuctionByAdUnitCode=function(e){let i=t.toArray();for(let t=i.length;t>0;t--){const n=i[t-1];if(n.getAdUnitCodes().indexOf(e)>-1)return n}return null},i.removeAuction=function(e){let i=p(e);i&&(i.emptyAuction(),t.remove(i))},i.clearAuctions=function(){let e=Date.now(),n=t.toArray();for(let t=n.length-1;t>=0;t--){let r=n[t];e-r._auctionEnd>=3e4&&i.removeAuction(r)}},i.index=new s((()=>t.toArray())),i}()},7816:(e,t,i)=>{"use strict";i.d(t,{L:()=>a,u:()=>d});var n=i(9827),r=i(949);let s=1;const o=[];function a(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:s)}function d(e){o.push(e)}n.$W.getConfig("ttlBuffer",(e=>{if("number"==typeof e.ttlBuffer){const t=s;s=e.ttlBuffer,t!==s&&o.forEach((e=>e(s)))}else(0,r.vV)("Invalid value for ttlBuffer",e.ttlBuffer)}))},4070:(e,t,i)=>{"use strict";i.d(t,{u:()=>u});var n=i(4474),r=i(949),s=i(8122),o=i(5928);function a(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function d(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}var c=new WeakSet;function l(e){return null==e?this.defaultScope:e}const u=new class{constructor(e,t){a(this,c),this.getSettings=e,this.defaultScope=t}get(e,t){let i=this.getOwn(e,t);return void 0===i&&(i=this.getOwn(null,t)),i}getOwn(e,t){return e=d(this,c,l).call(this,e),(0,n.A)(this.getSettings(),"".concat(e,".").concat(t))}getScopes(){return Object.keys(this.getSettings()).filter((e=>e!==this.defaultScope))}settingsFor(e){return(0,r.D9)({},this.ownSettingsFor(null),this.ownSettingsFor(e))}ownSettingsFor(e){return e=d(this,c,l).call(this,e),this.getSettings()[e]||{}}}((()=>(0,s.m)().bidderSettings||{}),o.iD.BD_SETTING_STANDARD)},3942:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(949);function r(e){let{src:t="client",bidder:i="",bidId:r,transactionId:s,adUnitId:o,auctionId:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var d=t,c=e||0;Object.assign(this,{bidderCode:i,width:0,height:0,statusMessage:function(){switch(c){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:(0,n.s0)(),requestId:r,transactionId:s,adUnitId:o,auctionId:a,mediaType:"banner",source:d}),this.getStatusCode=function(){return c},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function s(e,t){return new r(e,t)}},9827:(e,t,i)=>{"use strict";i.d(t,{$W:()=>h,Ov:()=>c});var n=i(9794),r=i(3430),s=i(949),o=i(4474),a=i(5928);const d="TRUE"===(0,s.Ez)(a.M).toUpperCase(),c="random",l={};l[c]=!0,l.fixed=!0;const u=c,p={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};const h=function(){let e,t,i,a=[],c=null;function h(){function o(e){return c[e].val}function a(e,t){c[e].val=t}e={};const c={publisherDomain:{set(e){null!=e&&(0,s.JE)("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),a("publisherDomain",e)}},priceGranularity:{val:p.MEDIUM,set(e){g(e)&&("string"==typeof e?a("priceGranularity",f(e)?e:p.MEDIUM):(0,s.Qd)(e)&&(a("customPriceBucket",e),a("priceGranularity",p.CUSTOM),(0,s.OG)("Using custom price granularity")))}},customPriceBucket:{val:{},set(){}},mediaTypePriceGranularity:{val:{},set(e){null!=e&&a("mediaTypePriceGranularity",Object.keys(e).reduce(((t,i)=>(g(e[i])?"string"==typeof e?t[i]=f(e[i])?e[i]:o("priceGranularity"):(0,s.Qd)(e)&&(t[i]=e[i],(0,s.OG)("Using custom price granularity for ".concat(i))):(0,s.JE)("Invalid price granularity for media type: ".concat(i)),t)),{}))}},bidderSequence:{val:u,set(e){l[e]?a("bidderSequence",e):(0,s.JE)("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set(e){(function(e){if(!(0,s.Qd)(e))return(0,s.JE)("Auction Options must be an object"),!1;for(let t of Object.keys(e)){if("secondaryBidders"!==t&&"suppressStaleRender"!==t)return(0,s.JE)("Auction Options given an incorrect param: ".concat(t)),!1;if("secondaryBidders"===t){if(!(0,s.cy)(e[t]))return(0,s.JE)("Auction Options ".concat(t," must be of type Array")),!1;if(!e[t].every(s.O8))return(0,s.JE)("Auction Options ".concat(t," must be only string")),!1}else if("suppressStaleRender"===t&&!(0,s.Lm)(e[t]))return(0,s.JE)("Auction Options ".concat(t," must be of type boolean")),!1}return!0})(e)&&a("auctionOptions",e)}}};let h={debug:d,bidderTimeout:3e3,enableSendAllBids:true,useBidCache:false,deviceAccess:true,timeoutBuffer:400,disableAjaxTimeout:false,maxNestedIframes:10,maxBid:5e3};function f(e){return(0,r.I6)(Object.keys(p),(t=>e===p[t]))}function g(e){if(!e)return(0,s.vV)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)f(e)||(0,s.JE)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if((0,s.Qd)(e)&&!(0,n.q)(e))return(0,s.vV)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(h,Object.fromEntries(Object.entries(c).map((e=>{let[t,i]=e;return[t,Object.assign({get:o.bind(null,t),set:a.bind(null,t),enumerable:!0},i)]})))),t&&_(Object.keys(t).reduce(((e,i)=>(t[i]!==h[i]&&(e[i]=h[i]||{}),e)),{})),t=h,i={}}function f(){if(c&&i&&(0,s.Qd)(i[c])){let e=i[c];const n=new Set(Object.keys(t).concat(Object.keys(e)));return(0,r.A6)(n).reduce(((i,n)=>(void 0===e[n]?i[n]=t[n]:void 0===t[n]?i[n]=e[n]:(0,s.Qd)(e[n])?i[n]=(0,s.D9)({},t[n],e[n]):i[n]=e[n],i)),{})}return Object.assign({},t)}const[g,m]=[f,function(){const e=f();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((e=>function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0];return t?(0,o.A)(e(),t):f()}return A(...arguments)})),[v,b]=[m,g].map((e=>function(){let t=e(...arguments);return t&&"object"==typeof t&&(t=(0,s.Go)(t)),t}));function y(i){if(!(0,s.Qd)(i))return void(0,s.vV)("setConfig options must be an object");let n=Object.keys(i),r={};n.forEach((n=>{let o=i[n];(0,s.Qd)(e[n])&&(0,s.Qd)(o)&&(o=Object.assign({},e[n],o));try{r[n]=t[n]=o}catch(e){(0,s.JE)("Cannot set config for property ".concat(n," : "),e)}})),_(r)}function A(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t;if("string"!=typeof e&&(n=e,e="*",i=t||{}),"function"!=typeof n)return void(0,s.vV)("listener must be a function");const r={topic:e,callback:n};return a.push(r),i.init&&n("*"===e?m():{[e]:m(e)}),function(){a.splice(a.indexOf(r),1)}}function _(e){const t=Object.keys(e);a.filter((e=>(0,r.mK)(t,e.topic))).forEach((t=>{t.callback({[t.topic]:e[t.topic]})})),a.filter((e=>"*"===e.topic)).forEach((t=>t.callback(e)))}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!function(e){if(!(0,s.Qd)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,s.Qd)(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((n=>{i[n]||(i[n]={}),Object.keys(e.config).forEach((r=>{let o=e.config[r];if((0,s.Qd)(o)){const e=t?s.D9:Object.assign;i[n][r]=e({},i[n][r]||{},o)}else i[n][r]=o}))}))}catch(e){(0,s.vV)(e)}}function I(e,t){c=e;try{return t()}finally{w()}}function w(){c=null}return h(),{getCurrentBidder:function(){return c},resetBidder:w,getConfig:m,getAnyConfig:g,readConfig:v,readAnyConfig:b,setConfig:y,mergeConfig:function(e){if(!(0,s.Qd)(e))return void(0,s.vV)("mergeConfig input must be an object");const t=(0,s.D9)(f(),e);return y({...t}),t},setDefaults:function(i){(0,s.Qd)(e)?(Object.assign(e,i),Object.assign(t,i)):(0,s.vV)("defaults must be an object")},resetConfig:h,runWithBidder:I,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return I(e,t.bind(this,...n))}(0,s.JE)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:E,getBidderConfig:function(){return i},mergeBidderConfig:function(e){return E(e,!0)}}}()},5007:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function s(e,t,i){return(t=r(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{ZH:()=>g,o2:()=>x,B1:()=>f,SL:()=>D,et:()=>O,mW:()=>S,ad:()=>T,t6:()=>C});var o=i(3645),a=i(9963),d=i(949),c=i(2546),l=i(9827);function u(e,t,i){p(e,t),t.set(e,i)}function p(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}const f=Object.freeze({}),g=Object.freeze({});var m=new WeakMap,v=new WeakMap,b=new WeakMap,y=new WeakMap,A=new WeakMap,_=new WeakMap,E=new WeakSet;class I{constructor(){var e,t;p(e=this,t=E),t.add(e),u(this,m,{writable:!0,value:void 0}),u(this,v,{writable:!0,value:void 0}),u(this,b,{writable:!0,value:void 0}),u(this,y,{writable:!0,value:void 0}),u(this,A,{writable:!0,value:!0}),u(this,_,{writable:!0,value:void 0}),s(this,"generatedTime",void 0),s(this,"hashFields",void 0),this.reset()}reset(){(0,a.A)(this,b,(0,c.v)()),(0,a.A)(this,m,!1),(0,a.A)(this,v,null),(0,a.A)(this,y,!1),this.generatedTime=null}enable(){(0,a.A)(this,m,!0)}get enabled(){return(0,o.A)(this,m)}get ready(){return(0,o.A)(this,y)}get promise(){return(0,o.A)(this,y)?c.k.resolve((0,o.A)(this,v)):((0,o.A)(this,m)||h(this,E,w).call(this,null),(0,o.A)(this,b).promise)}setConsentData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,d.vE)();this.generatedTime=t,(0,a.A)(this,A,!0),h(this,E,w).call(this,e)}getConsentData(){return(0,o.A)(this,v)}get hash(){return(0,o.A)(this,A)&&((0,a.A)(this,_,(0,d.PB)(JSON.stringify((0,o.A)(this,v)&&this.hashFields?this.hashFields.map((e=>(0,o.A)(this,v)[e])):(0,o.A)(this,v)))),(0,a.A)(this,A,!1)),(0,o.A)(this,_)}}function w(e){(0,a.A)(this,y,!0),(0,a.A)(this,v,e),(0,o.A)(this,b).resolve(e)}const S=new class extends I{constructor(){super(...arguments),s(this,"hashFields",["gdprApplies","consentString"])}getConsentMeta(){const e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:(0,d.O8)(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}},C=new class extends I{getConsentMeta(){const e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}},T=new class extends I{constructor(){super(...arguments),s(this,"hashFields",["applicableSections","gppString"])}getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}},O=(()=>{function e(){return!!l.$W.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset(){},get promise(){return c.k.resolve(e())},get hash(){return e()?"1":"0"}}})(),x=function(){const e={},t={},i={};return{register(n,r,s){s&&((e[r]=e[r]||{})[n]=s,t.hasOwnProperty(r)?t[r]!==s&&(t[r]=i):t[r]=s)},get(n){const r={modules:e[n]||{}};return t.hasOwnProperty(n)&&t[n]!==i&&(r.gvlid=t[n]),r}}}(),R={gdpr:S,usp:C,gpp:T,coppa:O};const D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return e=Object.entries(e),Object.assign({get promise(){return c.k.all(e.map((e=>{let[t,i]=e;return i.promise.then((e=>[t,e]))}))).then((e=>Object.fromEntries(e)))},get hash(){return(0,d.PB)(e.map((e=>{let[t,i]=e;return i.hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((t=>{return[t,(i=t,function(){return Object.fromEntries(e.map((e=>{let[t,n]=e;return[t,n[i]()]})))})];var i}))))}()},5928:(e,t,i)=>{"use strict";i.d(t,{M:()=>r,RW:()=>h,Tf:()=>g,UE:()=>c,XQ:()=>s,Zh:()=>u,_B:()=>y,as:()=>a,cA:()=>d,h0:()=>m,iD:()=>n,jO:()=>v,nl:()=>A,oA:()=>b,qY:()=>o,tl:()=>f,x5:()=>p,xS:()=>l});const n={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},r="pbjs_debug",s={GOOD:1},o={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError"},a={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},d={bidWon:"adUnitCode"},c={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},l={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",CACHE_PATH:"hb_cache_path",YM_ALIAS:"yalias",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},u={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host",CACHE_PATH:"hb_cache_path",YM_ALIAS:"yalias"},p={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},h={SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},f={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},g={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},m={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},v={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},b={ICON:1,MAIN:3},y=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],A={REQUEST:"Prebid Request",RESPONSE:"Prebid Response",NATIVE:"Prebid Native",EVENT:"Prebid Event"}},9794:(e,t,i)=>{"use strict";i.d(t,{j:()=>p,q:()=>f});var n=i(3430),r=i(949),s=i(9827);const o=2,a={buckets:[{max:5,increment:.5}]},d={buckets:[{max:20,increment:.1}]},c={buckets:[{max:20,increment:.01}]},l={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},u={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return isNaN(n)&&(n=""),{low:""===n?"":h(e,a,i),med:""===n?"":h(e,d,i),high:""===n?"":h(e,c,i),auto:""===n?"":h(e,u,i),dense:""===n?"":h(e,l,i),custom:""===n?"":h(e,t,i)}}function h(e,t,i){let a="";if(!f(t))return a;const d=t.buckets.reduce(((e,t)=>e.max>t.max?e:t),{max:0});let c=0,l=(0,n.I6)(t.buckets,(t=>{if(e>d.max*i){let e=t.precision;void 0===e&&(e=o),a=(t.max*i).toFixed(e)}else{if(e<=t.max*i&&e>=c*i)return t.min=c,t;c=t.max}}));return l&&(a=function(e,t,i){const n=void 0!==t.precision?t.precision:o,a=t.increment*i,d=t.min*i;let c=Math.floor,l=s.$W.getConfig("cpmRoundingFunction");"function"==typeof l&&(c=l);let u,p,h=Math.pow(10,n+2),f=(e*h-d*h)/(a*h);try{u=c(f)*a+d}catch(e){p=!0}(p||"number"!=typeof u)&&((0,r.JE)("Invalid rounding function passed in config"),u=Math.floor(f)*a+d);return u=Number(u.toFixed(10)),u.toFixed(n)}(e,l,i)),a}function f(e){if((0,r.Im)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;let t=!0;return e.buckets.forEach((e=>{e.max&&e.increment||(t=!1)})),t}},3011:(e,t,i)=>{"use strict";i.d(t,{H:()=>o,k:()=>s});var n=i(2546),r=i(949);const s=(0,i(8094).A_)("sync",(function(e){return'!function(){"use strict";window.render=function({ad:d,adUrl:i,width:n,height:e},{mkFrame:o},r){if(!d&&!i)throw{reason:"noAd",message:"Missing ad markup or URL"};{const t=r.document,s={width:n,height:e};i&&!d?s.src=i:s.srcdoc=d,t.body.appendChild(o(t,s))}}}();'})),o=function(){const e={};return function(t){const i=s(t);return e.hasOwnProperty(i)||(e[i]=new n.k((e=>{const t=(0,r.CA)();t.srcdoc="<script>".concat(i,"<\/script>"),t.onload=()=>e(t.contentWindow.render),document.body.appendChild(t)}))),e[i]}}()},4124:(e,t,i)=>{"use strict";i.r(t),i.d(t,{addEvents:()=>A,clearEvents:()=>E,emit:()=>y,get:()=>v,getEvents:()=>b,has:()=>_,off:()=>m,on:()=>g});var n=i(949),r=i(5928),s=i(1063),o=i(9827);const a="eventHistoryTTL";let d=null;const c=(0,s.H)({monotonic:!0,ttl:()=>d});o.$W.getConfig(a,(e=>{var t;const i=d;e=null===(t=e)||void 0===t?void 0:t[a],d="number"==typeof e?1e3*e:null,i!==d&&c.refresh()}));let l=Array.prototype.slice,u=Array.prototype.push,p=Object.values(r.qY);const h=r.cA,f=function(){let e={},t={};function i(e){return p.includes(e)}return t.has=i,t.on=function(t,r,s){if(i(t)){let i=e[t]||{que:[]};s?(i[s]=i[s]||{que:[]},i[s].que.push(r)):i.que.push(r),e[t]=i}else n.vV("Wrong event name : "+t+" Valid event names :"+p)},t.emit=function(t){!function(t,i){n.OG("Emitting event for: "+t);let r=i[0]||{},s=r[h[t]],o=e[t]||{que:[]};var a=Object.keys(o);let d=[];c.add({eventType:t,args:r,id:s,elapsedTime:n.V()}),s&&a.includes(s)&&u.apply(d,o[s].que),u.apply(d,o.que),(d||[]).forEach((function(e){if(e)try{e.apply(null,i)}catch(e){n.vV("Error executing handler:","events.js",e,t)}}))}(t,l.call(arguments,1))},t.off=function(t,i,r){let s=e[t];n.Im(s)||n.Im(s.que)&&n.Im(s[r])||r&&(n.Im(s[r])||n.Im(s[r].que))||(r?(s[r].que||[]).forEach((function(e){let t=s[r].que;e===i&&t.splice(t.indexOf(e),1)})):(s.que||[]).forEach((function(e){let t=s.que;e===i&&t.splice(t.indexOf(e),1)})),e[t]=s)},t.get=function(){return e},t.addEvents=function(e){p=p.concat(e)},t.getEvents=function(){return c.toArray().map((e=>Object.assign({},e)))},t}();f.addEvents(["videoAdLoaded","videoAdError","videoAdComplete"]),n.cD(f.emit.bind(f));const{on:g,off:m,get:v,getEvents:b,emit:y,addEvents:A,has:_}=f;function E(){c.clear()}},6693:(e,t,i)=>{"use strict";i.d(t,{w:()=>E});var n=i(8094),r=i(6449),s=i(6034),o=i(949),a=i(316),d=i(9827),c=i(2546);const l=["architecture","bitness","model","platformVersion","fullVersionList"],u=["brands","mobile","platform"],p=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const i=t&&u.some((e=>void 0!==t[e]))?Object.freeze(f(1,t)):null;return function(){return i}}(),h=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData;const i={},n=new WeakMap;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;if(!n.has(e)){const t=Array.from(e);t.sort(),n.set(e,t.join("|"))}const r=n.get(e);if(!i.hasOwnProperty(r))try{i[r]=t.getHighEntropyValues(e).then((e=>(0,o.Im)(e)?null:Object.freeze(f(2,e)))).catch((()=>null))}catch(e){i[r]=c.k.resolve(null)}return i[r]}}();function f(e,t){function i(e,t){const i={brand:e};return(0,o.O8)(t)&&!(0,o.xQ)(t)&&(i.version=t.split(".")),i}const n={source:e};return t.platform&&(n.platform=i(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(n.browsers=(t.fullVersionList||t.brands).map((e=>{let{brand:t,version:n}=e;return i(t,n)}))),void 0!==t.mobile&&(n.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((e=>{const i=t[e];(0,o.O8)(i)&&(n[e]=i)})),n}var g=i(4703),m=i(2764),v=i(4312),b=i(6754),y=i(7850);const A={getRefererInfo:r.EN,findRootDomain:s.S,getWindowTop:o.mb,getWindowSelf:o.l4,getHighEntropySUA:h,getLowEntropySUA:p},_=(0,g.i8)("FPD"),E=(0,n.A_)("sync",(e=>{const t=[e,w().catch((()=>null)),c.k.resolve("cookieDeprecationLabel"in navigator&&(0,m.io)(b.Ue,(0,v.s)(y.tp,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((()=>null))];return c.k.all(t).then((e=>{let[t,i,n]=e;const r=A.getRefererInfo();if(function(e){["app","site","device"].forEach((t=>{const i=d.$W.getConfig(t);null!=i&&(e[t]=(0,o.D9)({},i,e[t]))}))}(t),Object.entries(C).forEach((e=>{let[i,n]=e;const s=n(t,r);s&&Object.keys(s).length>0&&(t[i]=(0,o.D9)({},s,t[i]))})),i&&(0,a.J)(t,"device.sua",Object.assign({},i,t.device.sua)),n){const e={cdep:n};(0,a.J)(t,"device.ext",Object.assign({},e,t.device.ext))}t=_(t);for(let e of g.Dy)if((0,g.O$)(t,e)){t[e]=(0,o.D9)({},T(t,r),t[e]);break}return t}))}));function I(e){try{return e(A.getWindowTop())}catch(t){return e(A.getWindowSelf())}}function w(){const e=d.$W.getConfig("firstPartyData.uaHints");return Array.isArray(e)&&0!==e.length?A.getHighEntropySUA(e):c.k.resolve(A.getLowEntropySUA())}function S(e){return(0,o.SH)(e,Object.keys(e))}const C={site(e,t){if(!g.Dy.filter((e=>"site"!==e)).some(g.O$.bind(null,e)))return S({page:t.page,ref:t.ref})},device:()=>I((e=>{var t;const i={w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:(0,o.l9)()?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()};return null!==(t=e.navigator)&&void 0!==t&&t.webdriver&&(0,a.J)(i,"ext.webdriver",!0),i})),regs(){const e={};I((e=>e.navigator.globalPrivacyControl))&&(0,a.J)(e,"ext.gpc",1);const t=d.$W.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function T(e,t){var i,n;const s=(0,r.gR)(t.page,{noLeadingWww:!0});return S({domain:s,keywords:null===(i=I((e=>e.document.querySelector("meta[name='keywords']"))))||void 0===i||null===(i=i.content)||void 0===i||null===(n=i.replace)||void 0===n?void 0:n.call(i,/\s/g,""),publisher:S({domain:A.findRootDomain(s)})})}},4703:(e,t,i)=>{"use strict";i.d(t,{Dy:()=>r,O$:()=>o,i8:()=>s});var n=i(949);const r=["dooh","app","site"];function s(e){return function(t){return r.reduce(((i,r)=>(o(t,r)&&(null!=i?((0,n.JE)("".concat(e," specifies both '").concat(i,"' and '").concat(r,"'; dropping the latter.")),delete t[r]):i=r),i)),null),t}}function o(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}},6034:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var n=i(949);const r=(0,i(5689).CK)("fpdEnrichment"),s=(0,n.Bj)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!r.cookiesAreEnabled())return e;const t=e.split(".");if(2===t.length)return e;let i,s,o=-2;const a="_rdc".concat(Date.now()),d="writeable";do{i=t.slice(o).join(".");let e=new Date((0,n.vE)()+1e4).toUTCString();r.setCookie(a,d,e,"Lax",i,void 0);r.getCookie(a,void 0)===d?(s=!1,r.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i,void 0)):(o+=-1,s=Math.abs(o)<=t.length)}while(s);return i}))},8094:(e,t,i)=>{"use strict";i.d(t,{A_:()=>o,Gc:()=>d,Y6:()=>f,Yn:()=>c,bz:()=>h,pT:()=>l,xG:()=>p});var n=i(2663),r=i.n(n),s=i(2546);let o=r()({ready:r().SYNC|r().ASYNC|r().QUEUE});const a=(0,s.v)();o.ready=(()=>{const e=o.ready;return function(){try{return e.apply(o,arguments)}finally{a.resolve()}}})();const d=a.promise,c=o.get;function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,i)}const u={};function p(e,t){let{postInstallAllowed:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o("async",(function(n){n.forEach((e=>t(...e))),i&&(u[e]=t)}),e)([])}function h(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const r=u[e];if(r)return r(...i);c(e).before(((e,t)=>{t.push(i),e(t)}))}function f(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((t=>[t,{get:()=>e[t]}])))),t}},1152:(e,t,i)=>{"use strict";i.d(t,{D4:()=>s,G_:()=>r,LM:()=>o,s6:()=>n});const n="native",r="video",s="banner",o="adpod"},7566:(e,t,i)=>{"use strict";i.d(t,{Bm:()=>E,IX:()=>x,Nh:()=>p,Xj:()=>k,Zj:()=>S,gs:()=>w,l6:()=>b,mT:()=>u,nk:()=>A,vO:()=>I,yl:()=>R});var n=i(4474),r=i(949),s=i(3430),o=i(6021),a=i(5928),d=i(1152),c=i(302),l=i(3011);const u=[],p=Object.keys(a.x5).map((e=>a.x5[e])),h={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},f=M(a.h0),g=M(a.jO),m={img:1,js:2,1:"img",2:"js"},v={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function b(e){return e.native&&"object"==typeof e.native}function y(e){if(e&&e.type&&function(e){if(!e||!(0,s.mK)(Object.keys(h),e))return(0,r.vV)("".concat(e," nativeParam is not supported")),!1;return!0}(e.type)&&(e=h[e.type]),!e||!e.ortb||_(e.ortb))return e}function A(e){e.forEach((e=>{const t=e.nativeParams||(0,n.A)(e,"mediaTypes.native");t&&(e.nativeParams=y(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!(0,r.Qd)(e))return void(0,r.vV)("Native assets object is empty or not an object: ",e);const t={ver:"1.2",assets:[]};for(let i in e){if(a._B.includes(i))continue;if(!a.x5.hasOwnProperty(i)){(0,r.vV)("Unrecognized native asset code: ".concat(i,". Asset will be ignored."));continue}if("privacyLink"===i){t.privacy=1;continue}const n=e[i];let s=0;n.required&&(0,r.Lm)(n.required)&&(s=Number(n.required));const o={id:t.assets.length,required:s};if(i in a.h0)o.data={type:a.jO[a.h0[i]]},n.len&&(o.data.len=n.len);else if("icon"===i||"image"===i){if(o.img={type:"icon"===i?a.oA.ICON:a.oA.MAIN},n.aspect_ratios)if((0,r.cy)(n.aspect_ratios))if(n.aspect_ratios.length){const{min_width:e,min_height:t}=n.aspect_ratios[0];(0,r.Fq)(e)&&(0,r.Fq)(t)?(o.img.wmin=e,o.img.hmin=t):(0,r.vV)("image.aspect_ratios min_width or min_height are invalid: ",e,t);const i=n.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>"".concat(e.ratio_width,":").concat(e.ratio_height)));i.length>0&&(o.img.ext={aspectratios:i})}else(0,r.vV)("image.aspect_ratios was passed, but it's empty:",n.aspect_ratios);else(0,r.vV)("image.aspect_ratios was passed, but it's not a an array:",n.aspect_ratios);n.sizes&&(2===n.sizes.length&&(0,r.Fq)(n.sizes[0])&&(0,r.Fq)(n.sizes[1])?(o.img.w=n.sizes[0],o.img.h=n.sizes[1],delete o.img.hmin,delete o.img.wmin):(0,r.vV)("image.sizes was passed, but its value is not an array of integers:",n.sizes))}else"title"===i?o.title={len:n.len||140}:"ext"===i&&(o.ext=n,delete o.required);t.assets.push(o)}return t}(e.nativeParams))}))}function _(e){const t=e.assets;if(!Array.isArray(t)||0===t.length)return(0,r.vV)("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;const i=t.map((e=>e.id));return t.length!==new Set(i).size||i.some((e=>e!==parseInt(e,10)))?((0,r.vV)("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?((0,r.vV)("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((e=>function(e){if(!(0,r.Qd)(e))return(0,r.vV)("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!(0,r.Et)(e.img.w)&&!(0,r.Et)(e.img.wmin))return(0,r.vV)("for img asset there must be 'w' or 'wmin' property"),!1;if(!(0,r.Et)(e.img.h)&&!(0,r.Et)(e.img.hmin))return(0,r.vV)("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!(0,r.Et)(e.title.len))return(0,r.vV)("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!(0,r.Et)(e.data.type))return(0,r.vV)("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&(0,r.Et)(e.video.minduration)&&(0,r.Et)(e.video.maxduration)))return(0,r.vV)("video asset is not properly configured"),!1;return!0}(e)))}function E(e){var t;let{index:i=o.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i.getAdUnit(e);if(!a)return!1;let d=a.nativeOrtbRequest;return function(e,t){if(!(0,n.A)(e,"link.url"))return(0,r.vV)("native response doesn't have 'link' property. Ortb response: ",e),!1;let i=t.assets.filter((e=>1===e.required)).map((e=>e.id)),o=e.assets.map((e=>e.id));const a=i.every((e=>(0,s.mK)(o,e)));a||(0,r.vV)("didn't receive a bid with all required assets. Required ids: ".concat(i,", but received ids in response: ").concat(o));return a}((null===(t=e.native)||void 0===t?void 0:t.ortb)||$(e.native,d),d)}function I(e,t){const i=t.native.ortb||P(t.native);return"click"===e.action?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{fetchURL:i=r.z$}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){var n;const r=(e.assets||[]).filter((e=>e.link)).reduce(((e,t)=>(e[t.id]=t.link,e)),{}),s=(null===(n=e.link)||void 0===n?void 0:n.clicktrackers)||[];let o=r[t],a=s;o&&(a=o.clicktrackers||[]),a.forEach((e=>i(e)))}else{var s;((null===(s=e.link)||void 0===s?void 0:s.clicktrackers)||[]).forEach((e=>i(e)))}}(i,null==e?void 0:e.assetId):function(e){let{runMarkup:t=(e=>(0,r.ro)(e)),fetchURL:i=r.z$}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e.eventtrackers||[]).filter((e=>e.event===v.impression));let{img:s,js:o}=n.reduce(((e,t)=>(m.hasOwnProperty(t.method)&&e[m[t.method]].push(t.url),e)),{img:[],js:[]});e.imptrackers&&(s=s.concat(e.imptrackers));s.forEach((e=>i(e))),o=o.map((e=>'<script async src="'.concat(e,'"><\/script>'))),e.jstracker&&(o=o.concat([e.jstracker]));o.length&&t(o.join("\n"))}(i),e.action}function w(e,t){var i;const n=null==t?void 0:t.nativeOrtbRequest,r=null===(i=e.native)||void 0===i?void 0:i.ortb;if(n&&r){const t=function(e,t){const i={},n=(null==t?void 0:t.assets)||[];i.clickUrl=e.link.url,i.privacyLink=e.privacy;for(const t of(null==e?void 0:e.assets)||[]){const e=n.find((e=>t.id===e.id));t.title?i.title=t.title.text:t.img?i[e.img.type===a.oA.MAIN?"image":"icon"]={url:t.img.url,width:t.img.w,height:t.img.h}:t.data&&(i[f[g[e.data.type]]]=t.data.value)}i.impressionTrackers=[];let r=[];e.imptrackers&&i.impressionTrackers.push(...e.imptrackers);for(const t of(null==e?void 0:e.eventtrackers)||[])t.event===v.impression&&t.method===m.img&&i.impressionTrackers.push(t.url),t.event===v.impression&&t.method===m.js&&r.push(t.url);r=r.map((e=>'<script async src="'.concat(e,'"><\/script>'))),null!=e&&e.jstracker&&r.push(e.jstracker);r.length&&(i.javascriptTrackers=r.join("\n"));return i}(r,n);Object.assign(e.native,t)}["rendererUrl","adTemplate"].forEach((i=>{var n;const r=null==t||null===(n=t.nativeParams)||void 0===n?void 0:n[i];r&&(e.native[i]=D(r))}))}function S(e){let{index:t=o.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};const r=t.getAdUnit(e),s=!1!==(0,n.A)(r,"nativeParams.sendTargetingKeys"),d=function(e){const t={};(0,n.A)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((e=>{t[e]="hb_native_".concat(e)}));return{...a.x5,...t}}(r),c={...e.native,...e.native.ext};return delete c.ext,Object.keys(c).forEach((t=>{const o=d[t];let a=D(e.native[t])||D((0,n.A)(e,"native.ext.".concat(t)));if("adTemplate"===t||!o||!a)return;let c=(0,n.A)(r,"nativeParams.".concat(t,".sendId"));if("boolean"!=typeof c&&(c=(0,n.A)(r,"nativeParams.ext.".concat(t,".sendId"))),c){a="".concat(o,":").concat(e.adId)}let l=(0,n.A)(r,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof l&&(l=(0,n.A)(r,"nativeParams.ext.".concat(t,".sendTargetingKeys")));("boolean"==typeof l?l:s)&&(i[o]=a)})),i}function C(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];return Object.entries(e).filter((e=>{let[n,r]=e;return r&&(!1===i&&"ext"===n||null==t||t.includes(n))})).forEach((e=>{let[r,s]=e;!1===i&&"ext"===r?n.push(...C(s,t,!0)):(i||a.x5.hasOwnProperty(r))&&n.push({key:r,value:D(s)})})),n}function T(e,t,i){let{index:n=o.n.index}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s={message:"assetResponse",adId:e.adId};let d=(0,c.vd)(t).native;return d?(s.native=Object.assign({},d),s.renderer=(0,l.k)(t),null!=i&&(d.assets=d.assets.filter((e=>{let{key:t}=e;return i.includes(t)})))):d=function(e,t,i){var n;const s={...(0,r.SH)(e.native,["rendererUrl","adTemplate"]),assets:C(e.native,i),nativeKeys:a.x5};return e.native.ortb?s.ortb=e.native.ortb:null!==(n=t.mediaTypes)&&void 0!==n&&null!==(n=n.native)&&void 0!==n&&n.ortb&&(s.ortb=$(e.native,t.nativeOrtbRequest)),s}(t,n.getAdUnit(t),i),Object.assign(s,d)}const O=Object.fromEntries(Object.entries(a.x5).map((e=>{let[t,i]=e;return[i,t]})));function x(e,t){const i=e.assets.map((e=>O[e]));return T(e,t,i)}function R(e,t){return T(e,t,null)}function D(e){return(null==e?void 0:e.url)||e}function U(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}function B(e){if(!_(e))return;const t={};for(const i of e.assets){if(i.title){const e={required:!!i.required&&Boolean(i.required),len:i.title.len};t.title=e}else if(i.img){const e={required:!!i.required&&Boolean(i.required)};if(i.img.w&&i.img.h)e.sizes=[i.img.w,i.img.h];else if(i.img.wmin&&i.img.hmin){const t=U(i.img.wmin,i.img.hmin);e.aspect_ratios=[{min_width:i.img.wmin,min_height:i.img.hmin,ratio_width:i.img.wmin/t,ratio_height:i.img.hmin/t}]}i.img.type===a.oA.MAIN?t.image=e:t.icon=e}else if(i.data){let e=Object.keys(a.jO).find((e=>a.jO[e]===i.data.type)),n=Object.keys(a.h0).find((t=>a.h0[t]===e));t[n]={required:!!i.required&&Boolean(i.required)},i.data.len&&(t[n].len=i.data.len)}e.privacy&&(t.privacyLink={required:!1})}return t}function k(e){{if(!e||!(0,r.cy)(e))return e;if(!e.some((e=>{var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[d.s6])||void 0===t?void 0:t.ortb})))return e;let t=(0,r.Go)(e);for(const e of t)e.mediaTypes&&e.mediaTypes[d.s6]&&e.mediaTypes[d.s6].ortb&&(e.mediaTypes[d.s6]=Object.assign((0,r.Up)(e.mediaTypes[d.s6],a._B),B(e.mediaTypes[d.s6].ortb)),e.nativeParams=y(e.mediaTypes[d.s6]));return t}}function P(e){const t={link:{},eventtrackers:[]};return Object.entries(e).forEach((e=>{let[i,n]=e;switch(i){case"clickUrl":t.link.url=n;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(n)?n:[n];break;case"impressionTrackers":(Array.isArray(n)?n:[n]).forEach((e=>{t.eventtrackers.push({event:v.impression,method:m.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(n)?n.join(""):n;break;case"privacyLink":t.privacy=n}})),t}function $(e,t){const i={...P(e),assets:[]};function n(e,n){let s=t.assets.find(e);null!=s&&(s=(0,r.Go)(s),n(s),i.assets.push(s))}return Object.keys(e).filter((t=>!!e[t])).forEach((t=>{const i=D(e[t]);switch(t){case"title":n((e=>null!=e.title),(e=>{e.title={text:i}}));break;case"image":case"icon":const e="image"===t?a.oA.MAIN:a.oA.ICON;n((t=>null!=t.img&&t.img.type===e),(e=>{e.img={url:i}}));break;default:t in a.h0&&n((e=>null!=e.data&&e.data.type===a.jO[a.h0[t]]),(e=>{e.data={value:i}}))}})),i}function M(e){var t={};for(var i in e)t[e[i]]=i;return t}},3430:(e,t,i)=>{"use strict";function n(e,t,i){return e&&e.includes(t,i)||!1}function r(){return Array.from.apply(Array,arguments)}function s(e,t,i){return e&&e.find(t,i)}i.d(t,{A6:()=>r,I6:()=>s,mK:()=>n})},5215:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Z,Ay:()=>oe});var n=i(8122),r=i(949),s=i(4474),o=i(316),a=i(7566),d=i(5928),c=i(3430),l=i(302),u=i(3011);const{REQUEST:p,RESPONSE:h,NATIVE:f,EVENT:g}=d.nl,m={[p]:function(e,t,i){(0,l.bw)({renderFn(t){e(Object.assign({message:h,renderer:(0,u.k)(i)},t))},resizeFn:b(t.adId,i),options:t.options,adId:t.adId,bidResponse:i})},[g]:function(e,t,i){if(null==i)return void(0,r.vV)("Cannot find ad '".concat(t.adId,"' for x-origin event request"));if(i.status!==d.tl.RENDERED)return void(0,r.JE)("Received x-origin event request without corresponding render request for ad '".concat(i.adId,"'"));return(0,l.Uc)(t,i)}};function v(){window.addEventListener("message",(function(e){!function(e){var t=e.message?"message":"data",i={};try{i=JSON.parse(e[t])}catch(e){return}if(i&&i.adId&&i.message&&m.hasOwnProperty(i.message))(0,l.$A)(i.adId,i.message===d.nl.REQUEST).then((t=>{var n,s;m[i.message]((n=i.adId,s=function(e){return null==e.origin&&0===e.ports.length?function(){const e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw(0,r.vV)(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return s(Object.assign({},e,{adId:n}),...i)}),i,t)}))}(e)}),!1)}function b(e,t){return function(i,n){!function(e){let{adId:t,adUnitCode:i,width:n,height:s}=e;function o(e){return e?e+"px":"100%"}function a(e){let n=d(t,i),r=document.getElementById(n);return r&&r.querySelector(e)}function d(e,t){return(0,r.II)()?l(e):(0,r.t1)()?u(t):t}function l(e){const t=(0,c.I6)(window.googletag.pubads().getSlots(),(t=>(0,c.I6)(t.getTargetingKeys(),(i=>(0,c.mK)(t.getTargeting(i),e)))));return t?t.getSlotElementId():null}function u(e){let t=window.apntag.getTag(e);return t&&t.targetId}["div","iframe"].forEach((e=>{let t=a(e+':not([style*="display: none"])');if(t){let e=t.style;e.width=o(n),e.height=o(s)}else(0,r.JE)("Unable to locate matching page element for adUnitCode ".concat(i,".  Can't resize it to ad's dimensions.  Please review setup."))}))}({...t,width:i,height:n,adId:e})}}Object.assign(m,{[f]:function(e,t,i){if(null==i)return void(0,r.vV)("Cannot find ad for x-origin event request: '".concat(t.adId,"'"));i.status!==d.tl.RENDERED&&(0,l.n6)(i);switch(t.action){case"assetRequest":e((0,a.IX)(t,i));break;case"allAssetRequest":e((0,a.yl)(t,i));break;default:(0,l.vW)(t,i,{resizeFn:b(t.adId,i)})}}});var y=i(7045),A=i(9827),_=i(6021),E=i(574),I=i(8094),w=i(3942),S=i(2179),C=i(2546);const T="__YMPB_debugging__";function O(){return(0,n.m)().installedModules.includes("debugging")}function x(e){return new C.k((t=>{(0,S.R)(e,"debugging",t)}))}function R(){let{alreadyInstalled:e=O,script:t=x}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null;return function(){return null==i&&(i=new C.k(((i,s)=>{setTimeout((()=>{if(e())i();else{const e="https://cdn.jsdelivr.net/npm/prebid.js@8.52.2/dist/debugging-standalone.js";(0,r.OG)('Debugging module not installed, loading it from "'.concat(e,'"...')),(0,n.m)()._installDebugging=!0,t(e).then((()=>{(0,n.m)()._installDebugging({DEBUG_KEY:T,hook:I.A_,config:A.$W,createBid:w.O,logger:(0,r.h0)("DEBUG:")})})).then(i,s)}}))}))),i}}const D=function(){let{load:e=R(),hook:t=(0,I.Yn)("requestBids")}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=null,n=!1;function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return C.k.resolve().then((()=>e.apply(this,i)))}function s(){t.getHooks({hook:r}).remove(),n=!1}return{enable:function(){n||(i=e(),t.before(r,99),n=!0)},disable:s,reset:function(){i=null,s()}}}();D.reset;A.$W.getConfig("debugging",(function(e){let{debugging:t}=e;null!=t&&t.enabled?D.enable():D.disable()}));var U=i(5689),B=i(618),k=i(4124),P=i(331),$=i(6693),M=i(5007),L=i(9846),N=i(3210);const j=(0,n.m)(),{triggerUserSyncs:F}=y.zt,{ADD_AD_UNITS:z,REQUEST_BIDS:q,SET_TARGETING:V}=d.qY,G={bidWon:function(e){if(!_.n.getBidsRequested().map((e=>e.bids.map((e=>e.adUnitCode)))).reduce(r.Bq).filter(r.hj).includes(e))return void(0,r.vV)('The "'+e+'" placement is not defined.');return!0}};function W(e,t){let i=[];return(0,r.cy)(e)&&(t?e.length===t:e.length>0)&&(e.every((e=>(0,r.Uu)(e,2)))?i=e:(0,r.Uu)(e,2)&&i.push(e)),i}function H(e){const t=(0,r.Go)(e),i=t.mediaTypes.banner,n=W(i.sizes);return n.length>0?(i.sizes=n,t.sizes=n):((0,r.vV)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Y(e){const t=(0,r.Go)(e),i=t.mediaTypes.video;if(i.playerSize){let e="number"==typeof i.playerSize[0]?2:1;const n=W(i.playerSize,e);n.length>0?(2===e&&(0,r.fH)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=n,t.sizes=n):((0,r.vV)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function J(e){const t=(0,r.Go)(e),i=t.mediaTypes.native;if(i.ortb){const e=Object.keys(d.x5).filter((e=>d.x5[e].includes("hb_native_"))),n=Object.keys(i).filter((t=>e.includes(t)));n.length>0&&((0,r.vV)("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(n," keys from request.")),n.forEach((e=>delete t.mediaTypes.native[e])))}return i.image&&i.image.sizes&&!Array.isArray(i.image.sizes)&&((0,r.vV)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),i.image&&i.image.aspect_ratios&&!Array.isArray(i.image.aspect_ratios)&&((0,r.vV)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),i.icon&&i.icon.sizes&&!Array.isArray(i.icon.sizes)&&((0,r.vV)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function K(e,t){let i=(0,s.A)(e,"mediaTypes.".concat(t,".pos"));if(!(0,r.Et)(i)||isNaN(i)||!isFinite(i)){let i="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");(0,r.JE)(i),k.emit(d.qY.AUCTION_DEBUG,{type:"WARNING",arguments:i}),delete e.mediaTypes[t].pos}return e}function Q(e){const t=t=>"adUnit.code '".concat(e.code,"' ").concat(t),i=e.mediaTypes,n=e.bids;return null==n||(0,r.cy)(n)?null==n&&null==e.ortb2Imp?((0,r.vV)(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):i&&0!==Object.keys(i).length?(null==e.ortb2Imp||null!=n&&0!==n.length||(e.bids=[{bidder:null}],(0,r.OG)(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):((0,r.vV)(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):((0,r.vV)(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){let e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){let t=D,i=null;try{i=e.getItem(T)}catch(e){}null!==i&&t.enable()}}(),j.bidderSettings=j.bidderSettings||{},j.libLoaded=!0,j.version="v8.52.2",(0,r.fH)("Prebid.js v8.52.2 loaded"),j.installedModules=j.installedModules||[],j.adUnits=j.adUnits||[],j.triggerUserSyncs=F;const X={validateAdUnit:Q,validateBannerMediaType:H,validateSizes:W};Object.assign(X,{validateNativeMediaType:J}),Object.assign(X,{validateVideoMediaType:Y});const Z=(0,I.A_)("sync",(function(e){const t=[];return e.forEach((e=>{if(null==(e=Q(e)))return;const i=e.mediaTypes;let n,r,s;i.banner&&(n=H(e),i.banner.hasOwnProperty("pos")&&(n=K(n,"banner"))),i.video&&(r=Y(n||e),i.video.hasOwnProperty("pos")&&(r=K(r,"video"))),i.native&&(s=J(r||(n||e)));const o=Object.assign({},n,r,s);t.push(o)})),t}),"checkAdUnitSetup");function ee(e){const t=_.n[e]().filter((e=>_.n.getAdUnitCodes().includes(e.adUnitCode))),i=_.n.getLastAuctionId();return t.map((e=>e.adUnitCode)).filter(r.hj).map((e=>t.filter((t=>t.auctionId===i&&t.adUnitCode===e)))).filter((e=>e&&e[0]&&e[0].adUnitCode)).map((e=>({[e[0].adUnitCode]:{bids:e}}))).reduce(((e,t)=>Object.assign(e,t)),{})}j.getAdserverTargetingForAdUnitCodeStr=function(e){if((0,r.fH)("Invoking YMPB.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=j.getAdserverTargetingForAdUnitCode(e);return(0,r.$D)(t)}(0,r.OG)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},j.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){const t=_.n.getAllBidsForAdUnitCode(e).filter(E.Yl);return t.length?t.reduce(L.Vk):{}}(0,r.OG)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},j.getAdserverTargetingForAdUnitCode=function(e){return j.getAdserverTargeting(e)[e]},j.getAdserverTargeting=function(e){return(0,r.fH)("Invoking YMPB.getAdserverTargeting",arguments),E.iS.getAllTargeting(e)},j.getConsentMetadata=function(){return(0,r.fH)("Invoking YMPB.getConsentMetadata"),M.SL.getConsentMeta()},j.getNoBids=function(){return(0,r.fH)("Invoking YMPB.getNoBids",arguments),ee("getNoBids")},j.getNoBidsForAdUnitCode=function(e){return{bids:_.n.getNoBids().filter((t=>t.adUnitCode===e))}},j.getBidResponses=function(){return(0,r.fH)("Invoking YMPB.getBidResponses",arguments),ee("getBidsReceived")},j.getBidResponsesForAdUnitCode=function(e){return{bids:_.n.getBidsReceived().filter((t=>t.adUnitCode===e))}},j.setTargetingForGPTAsync=function(e,t){if((0,r.fH)("Invoking YMPB.setTargetingForGPTAsync",arguments),!(0,r.II)())return void(0,r.vV)("window.googletag is not defined on the page");let i=E.iS.getAllTargeting(e);if(j.getOption)for(const e in i)if(Object.hasOwnProperty.call(i,e)){let t=+i[e].hb_pb;if(t>0){let n=j.getOption("YMPB_PB_REDUCE");t=t>n?(100*t-100*n)/100:0,t<j.getOption("YMPB_CPM_TARGET_MIN")?i[e]={}:i[e].hb_pb=t.toFixedNoRounding(2)}}return E.iS.resetPresetTargeting(e,t),E.iS.setTargetingForGPT(i,t),Object.keys(i).forEach((e=>{Object.keys(i[e]).forEach((t=>{"hb_adid"===t&&_.n.setStatusForBids(i[e][t],d.tl.BID_TARGETING_SET)}))})),k.emit(V,i),i},j.setTargetingForAst=function(e){(0,r.fH)("Invoking YMPB.setTargetingForAn",arguments),E.iS.isApntagDefined()?(E.iS.setTargetingForAst(e),k.emit(V,E.iS.getAllTargeting())):(0,r.vV)("window.apntag is not defined on the page")},j.renderAd=(0,I.A_)("async",(function(e,t,i){(0,r.fH)("Invoking YMPB.renderAd",arguments),(0,r.OG)("Calling renderAd with adId :"+t),(0,l.BS)(e,t,i)})),j.removeAdUnit=function(e){if((0,r.fH)("Invoking YMPB.removeAdUnit",arguments),!e)return void(j.adUnits=[]);let t;t=(0,r.cy)(e)?e:[e],t.forEach((e=>{for(let t=j.adUnits.length-1;t>=0;t--)j.adUnits[t].code===e&&j.adUnits.splice(t,1)}))},j.requestBids=function(){const e=(0,I.A_)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:i,adUnitCodes:n,labels:s,auctionId:o,ttlBuffer:a,ortb2:d,metrics:l,defer:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k.emit(q);const p=t||A.$W.getConfig("bidderTimeout");(0,r.fH)("Invoking YMPB.requestBids",arguments),n&&n.length?i=i.filter((e=>(0,c.mK)(n,e.code))):n=i&&i.map((e=>e.code));const h={global:(0,r.D9)({},A.$W.getAnyConfig("ortb2")||{},d||{}),bidder:Object.fromEntries(Object.entries(A.$W.getBidderConfig()).map((e=>{let[t,i]=e;return[t,i.ortb2]})).filter((e=>{let[t,i]=e;return null!=i})))};return(0,$.w)(C.k.resolve(h.global)).then((t=>(h.global=t,te({bidsBackHandler:e,timeout:p,adUnits:i,adUnitCodes:n,labels:s,auctionId:o,ttlBuffer:a,ortb2Fragments:h,metrics:l,defer:u}))))}),"requestBids");return(0,I.Y6)(e,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.adUnits||j.adUnits;return t.adUnits=(0,r.cy)(i)?i.slice():[i],t.metrics=(0,P.K7)(),t.metrics.checkpoint("requestBids"),t.defer=(0,C.v)({promiseFactory:e=>new Promise(e)}),e.call(this,t),t.defer.promise}))}();const te=(0,I.A_)("async",(function(){let{bidsBackHandler:e,timeout:t,adUnits:i,ttlBuffer:n,adUnitCodes:s,labels:a,auctionId:d,ortb2Fragments:l,metrics:u,defer:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const h=(0,B.pX)(A.$W.getConfig("s2sConfig")||[]);function f(t,i,n){if("function"==typeof e)try{e(t,i,n)}catch(e){(0,r.vV)("Error executing bidsBackHandler",null,e)}p.resolve({bids:t,timedOut:i,auctionId:n})}!function(e){e.forEach((e=>(0,N.V0)(e)))}(i),i=(0,P.BO)(u).measureTime("requestBids.validate",(()=>Z(i)));const g={};if(i.forEach((e=>{var t;const i=Object.keys(e.mediaTypes||{banner:"banner"}),s=e.bids.map((e=>e.bidder)),o=B.Ay.bidderRegistry,a=s.filter((e=>!h.has(e)));e.adUnitId=(0,r.lk)();const d=null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid;d&&(g.hasOwnProperty(e.code)?(0,r.JE)("Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '".concat(e.code,"'")):g[e.code]=d),null==n||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=n),a.forEach((t=>{const n=o[t],s=n&&n.getSpec&&n.getSpec(),a=s&&s.supportedMediaTypes||["banner"];i.some((e=>(0,c.mK)(a,e)))||((0,r.JE)((0,r.bz)(e,t)),e.bids=e.bids.filter((e=>e.bidder!==t)))}))})),i&&0!==i.length){i.forEach((e=>{var t;const i=(null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid)||g[e.code]||(0,r.lk)();g.hasOwnProperty(e.code)||(g[e.code]=i),e.transactionId=i,(0,o.J)(e,"ortb2Imp.ext.tid",i)}));const e=_.n.createAuction({adUnits:i,adUnitCodes:s,callback:f,cbTimeout:t,labels:a,auctionId:d,ortb2Fragments:l,metrics:u});let n=i.length;n>15&&(0,r.fH)("Current auction ".concat(e.getAuctionId()," contains ").concat(n," adUnits."),i),s.forEach((t=>E.iS.setLatestAuctionForAdUnit(t,e.getAuctionId()))),e.callBids()}else(0,r.OG)("No adUnits configured. No bids requested."),f()}),"startAuction");j.requestBids.before((function(e,t){function i(e){for(var t;t=e.shift();)t()}i(U.s0),i(ie),e.call(this,t)}),49),j.addAdUnits=function(e){(0,r.fH)("Invoking YMPB.addAdUnits",arguments),j.adUnits.push.apply(j.adUnits,(0,r.cy)(e)?e:[e]),k.emit(z)},j.onEvent=function(e,t,i){(0,r.fH)("Invoking YMPB.onEvent",arguments),(0,r.fp)(t)?!i||G[e].call(null,i)?k.on(e,t,i):(0,r.vV)('The id provided is not valid for event "'+e+'" and no handler was set.'):(0,r.vV)('The event handler provided is not a function and was not set on event "'+e+'".')},j.offEvent=function(e,t,i){(0,r.fH)("Invoking YMPB.offEvent",arguments),i&&!G[e].call(null,i)||k.off(e,t,i)},j.getEvents=function(){return(0,r.fH)("Invoking YMPB.getEvents"),k.getEvents()},j.registerBidAdapter=function(e,t){(0,r.fH)("Invoking YMPB.registerBidAdapter",arguments);try{B.Ay.registerBidAdapter(e(),t)}catch(e){(0,r.vV)("Error registering bidder adapter : "+e.message)}},j.registerAnalyticsAdapter=function(e){(0,r.fH)("Invoking YMPB.registerAnalyticsAdapter",arguments);try{B.Ay.registerAnalyticsAdapter(e)}catch(e){(0,r.vV)("Error registering analytics adapter : "+e.message)}},j.createBid=function(e){return(0,r.fH)("Invoking YMPB.createBid",arguments),(0,w.O)(e)};const ie=[],ne=(0,I.A_)("async",(function(e){e&&!(0,r.Im)(e)?((0,r.fH)("Invoking YMPB.enableAnalytics for: ",e),B.Ay.enableAnalytics(e)):(0,r.vV)("YMPB.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");j.enableAnalytics=function(e){ie.push(ne.bind(this,e))},j.aliasBidder=function(e,t,i){(0,r.fH)("Invoking YMPB.aliasBidder",arguments),e&&t?B.Ay.aliasBidAdapter(e,t,i):(0,r.vV)("bidderCode and alias must be passed as arguments","YMPB.aliasBidder")},j.aliasRegistry=B.Ay.aliasRegistry,A.$W.getConfig("aliasRegistry",(e=>{"private"===e.aliasRegistry&&delete j.aliasRegistry})),j.getAllWinningBids=function(){return _.n.getAllWinningBids()},j.findBidByAdId=function(e){const t=_.n.findBidByAdId(e);if(t){let{adId:e,adUnitCode:i,requestId:n,auctionId:r,trackingId:s}=t;return{adId:e,adUnitCode:i,requestId:n,auctionId:r,trackingId:s}}return null},j.getAllPrebidWinningBids=function(){return _.n.getBidsReceived().filter((e=>e.status===d.tl.BID_TARGETING_SET))},j.getHighestCpmBids=function(e){return E.iS.getWinningBids(e)},j.markWinningBidAsUsed=function(e){const t=re(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&_.n.addWinningBid(t[0])};const re=(e,t)=>{let i=[];return e.adUnitCode&&e.adId?i=_.n.getBidsReceived().filter((t=>t.adId===e.adId&&t.adUnitCode===e.adUnitCode)):e.adUnitCode?i=E.iS.getWinningBids(e.adUnitCode):e.adId?i=_.n.getBidsReceived().filter((t=>t.adId===e.adId)):(0,r.JE)(t),i};function se(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){(0,r.vV)("Error processing command :","prebid.js",e)}}))}j.getConfig=A.$W.getAnyConfig,j.readConfig=A.$W.readAnyConfig,j.mergeConfig=A.$W.mergeConfig,j.mergeBidderConfig=A.$W.mergeBidderConfig,j.setConfig=A.$W.setConfig,j.setBidderConfig=A.$W.setBidderConfig,j.que.push((()=>v())),j.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){(0,r.vV)("Error processing command :",e.message,e.stack)}else(0,r.vV)("Commands written into YMPB.cmd.push must be wrapped in a function")},j.que.push=j.cmd.push,j.processQueue=function(){I.A_.ready(),se(j.que),se(j.cmd)},j.triggerBilling=e=>{const t=re(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),i=t.find((t=>t.requestId===e.requestId))||t[0];if(t.length>0&&i)try{B.Ay.callBidBillableBidder(i)}catch(e){(0,r.vV)("Error when triggering billing :",e)}else(0,r.JE)("The bid provided to triggerBilling did not match any bids received.")};const oe=j},8122:(e,t,i)=>{"use strict";i.d(t,{E:()=>o,m:()=>s});const n=window,r=n.YMPB=n.YMPB||{};function s(){return r}function o(e){r.installedModules.push(e)}r.cmd=r.cmd||[],r.que=r.que||[],n===window&&(n._pbjsGlobals=n._pbjsGlobals||[],n._pbjsGlobals.push("YMPB"))},6449:(e,t,i)=>{"use strict";i.d(t,{EN:()=>d,gR:()=>o});var n=i(9827),r=i(949);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;let i=t.location.protocol;try{i=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?i+e:"".concat(i,"//").concat(e)}function o(e){let{noLeadingWww:t=!1,noPort:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=new URL(s(e))}catch(e){return}return e=i?e.hostname:e.host,t&&e.startsWith("www.")&&(e=e.substring(4)),e}function a(e){try{const t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}const d=function(e){let t,i,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return r.top!==r?e:function(){const s=a(r.document),o=r.location.href;return t===s&&o===i||(t=s,i=o,n=e()),n}}((c=window,function(){const e=[],t=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(c),i=n.$W.getConfig("maxNestedIframes");let d,l,u,p,h=!1,f=0,g=!1,m=!1,v=!1;do{const i=d,n=m;let s,o=!1,p=null;m=!1,d=d?d.parent:c;try{s=d.location.href||null}catch(e){o=!0}if(o)if(n){const e=i.context;try{p=e.sourceUrl,l=p,v=!0,g=!0,d===c.top&&(h=!0),e.canonicalUrl&&(u=e.canonicalUrl)}catch(e){}}else{(0,r.JE)("Trying to access cross domain iframe. Continuing without referrer and location");try{const e=i.document.referrer;e&&(p=e,d===c.top&&(h=!0))}catch(e){}!p&&t&&t[f-1]&&(p=t[f-1],d===c.top&&(v=!0)),p&&!g&&(l=p)}else{if(s&&(p=s,l=p,g=!1,d===c.top)){h=!0;const e=a(d.document);e&&(u=e)}d.context&&d.context.sourceUrl&&(m=!0)}e.push(p),f++}while(d!==c.top&&f<i);e.reverse();try{p=c.top.document.referrer}catch(e){}const b=h||v?l:null,y=n.$W.getConfig("pageUrl")||u||null;let A=n.$W.getConfig("pageUrl")||b||s(y,c);return b&&b.indexOf("?")>-1&&-1===A.indexOf("?")&&(A="".concat(A).concat(b.substring(b.indexOf("?")))),{reachedTop:h,isAmp:g,numIframes:f-1,stack:e,topmostLocation:l||null,location:b,canonicalUrl:y,page:A,domain:o(A)||null,ref:p||null,legacy:{reachedTop:h,isAmp:g,numIframes:f-1,stack:e,referer:l||null,canonicalUrl:y}}}));var c},5689:(e,t,i)=>{"use strict";i.d(t,{CK:()=>v,X0:()=>h,qk:()=>p,s0:()=>f,vM:()=>m});var n=i(949),r=i(4070),s=i(7850),o=i(2764),a=i(3969),d=i(6754),c=i(9827),l=i(618),u=i(4312);const p="html5",h="cookie";let f=[];function g(){let{moduleName:e,moduleType:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isAllowed:i=o.io}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function r(n,r){let o=e;const p=c.$W.getCurrentBidder();p&&t===s.tW&&l.Ay.aliasRegistry[p]===e&&(o=p);return n({valid:i(d.Ue,(0,u.s)(t,o,{[a.Zw]:r}))})}function g(e,t,i){if(!i||"function"!=typeof i)return r(e,t);f.push((function(){let n=r(e,t);i(n)}))}const m=function(e){return g((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){(0,n.vV)("Local storage api disabled")}return!1}),p,e)};return{setCookie:function(e,t,i,n,r,s){return g((function(s){if(s&&s.valid){const s=r&&""!==r?" ;domain=".concat(encodeURIComponent(r)):"",o=i&&""!==i?" ;expires=".concat(i):"",a=null!=n&&"none"==n.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(o,"; path=/").concat(s).concat(n?"; SameSite=".concat(n):"").concat(a)}}),h,s)},getCookie:function(e,t){return g((function(t){if(t&&t.valid){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}return null}),h,t)},localStorageIsEnabled:function(e){return g((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),p,e)},cookiesAreEnabled:function(e){return g((function(e){return!(!e||!e.valid)&&(0,n.GE)()}),h,e)},setDataInLocalStorage:function(e,t,i){return g((function(i){i&&i.valid&&m()&&window.localStorage.setItem(e,t)}),p,i)},getDataFromLocalStorage:function(e,t){return g((function(t){return t&&t.valid&&m()?window.localStorage.getItem(e):null}),p,t)},removeDataFromLocalStorage:function(e,t){return g((function(t){t&&t.valid&&m()&&window.localStorage.removeItem(e)}),p,t)},hasLocalStorage:m,findSimilarCookies:function(e,t){return g((function(t){if(t&&t.valid){const t=[];if((0,n.N9)()){const i=document.cookie.split(";");for(;i.length;){const n=i.pop();let r=n.indexOf("=");r=r<0?n.length:r;decodeURIComponent(n.slice(0,r).replace(/^\s+/,"")).indexOf(e)>=0&&t.push(decodeURIComponent(n.slice(r+1)))}}return t}}),h,t)}}}function m(){let{moduleType:e,moduleName:t,bidderCode:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function n(){throw new Error("Invalid invocation for getStorageManager: must set either bidderCode, or moduleType + moduleName")}return i?((e&&e!==s.tW||t)&&n(),e=s.tW,t=i):t&&e||n(),g({moduleType:e,moduleName:t})}function v(e){return g({moduleName:e,moduleType:s.tp})}(0,o.qB)(d.Ue,"deviceAccess config",(function(){if(!(0,n.N9)())return{allow:!1}})),(0,o.qB)(d.Ue,"bidderSettings.*.storageAllowed",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.u;if(e[a.Dk]!==s.tW)return;let i=t.get(e[a.q7],"storageAllowed");if(i&&!0!==i){const t=e[a.Zw];i=Array.isArray(i)?i.some((e=>e===t)):i===t}else i=!!i;return i?void 0:{allow:i}}))},574:(e,t,i)=>{"use strict";i.d(t,{Yl:()=>_,iS:()=>S,m2:()=>w});var n=i(949),r=i(4474),s=i(9827),o=i(7566),a=i(6021),d=i(1152),c=i(8094),l=i(4070),u=i(3430),p=i(5928),h=i(9846),f=i(7816),g=[];const m="targetingControls.allowTargetingKeys",v="targetingControls.addTargetingKeys",b='Only one of "'.concat(m,'" or "').concat(v,'" can be set'),y=Object.keys(p.xS).map((e=>p.xS[e]));let A={isActualBid:e=>e.getStatusCode()===p.XQ.GOOD,isBidNotExpired:e=>e.responseTimestamp+1e3*(0,f.L)(e)>(0,n.vE)(),isUnusedBid:e=>e&&(e.status&&!(0,u.mK)([p.tl.RENDERED],e.status)||!e.status)};function _(e){return!Object.values(A).some((t=>!t(e)))}const E=(0,c.A_)("sync",(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){const r=[],o=s.$W.getConfig("sendBidsControl.dealPrioritization");let a=(0,n.$z)(e,"adUnitCode");return Object.keys(a).forEach((e=>{let s=[],d=(0,n.$z)(a[e],"bidderCode");Object.keys(d).forEach((e=>s.push(d[e].reduce(t)))),i>0?(s=o?s.sort(I(!0)):s.sort(((e,t)=>t.cpm-e.cpm)),r.push(...s.slice(0,i))):r.push(...s)})),r}return e}));function I(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,i){return void 0!==t.adserverTargeting.hb_deal&&void 0===i.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==i.adserverTargeting.hb_deal?1:e?i.cpm-t.cpm:i.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}function w(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>window.googletag.pubads().getSlots())().reduce(((e,i)=>{const r=(0,n.fp)(t)&&t(i);return Object.keys(e).filter((0,n.fp)(r)?r:(0,n.iC)(i)).forEach((t=>e[t].push(i))),e}),Object.fromEntries(e.map((e=>[e,[]]))))}const S=function(e){let t={},i={};function a(e,t){return e.adserverTargeting&&t&&((0,n.cy)(t)&&(0,u.mK)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=i.hasOwnProperty("enableSendAllVideoBids")?i.enableSendAllVideoBids:s.$W.getConfig("enableSendAllVideoBids"),r=i.hasOwnProperty("enableSendAllBids")?i.enableSendAllBids:s.$W.getConfig("enableSendAllBids");if(!1===r&&!1===n)return function(e,t){if(!0===s.$W.getConfig("targetingControls.alwaysIncludeDeals")){const i=y.concat(o.Nh);return E(t,h.Vk).map((t=>{if(t.dealId&&a(t,e))return{[t.adUnitCode]:R(t,i.filter((e=>void 0!==t.adserverTargeting[e])))}})).filter((e=>e))}return[]}(e,t);const c=n?[]:E(t.filter((e=>e.mediaType===d.G_)),h.Vk,1),l=r?[]:E(t.filter((e=>e.mediaType!==d.G_)),h.Vk,1);return function(e,t){const i=y.concat(o.Nh),n=s.$W.getConfig("sendBidsControl.bidLimit"),r=E(t,h.Vk,n),d=s.$W.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=d?d.map((e=>p.xS[e])):i;return r.map((t=>{if(a(t,e))return{[t.adUnitCode]:R(t,i.filter((e=>void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e))))}})).filter((e=>e))}(e,t.filter((e=>{if(e.mediaType===d.G_){if(!1===n)return!!(0,u.I6)(c,(t=>t.adId===e.adId))}else if(!1===r)return!!(0,u.I6)(l,(t=>t.adId===e.adId));return!0})))}function f(t){return"string"==typeof t?[t]:(0,n.cy)(t)?t:e.getAdUnitCodes()||[]}function A(){let t=e.getBidsReceived();if(s.$W.getConfig("useBidCache")){const e=s.$W.getConfig("bidCacheFilterFunction");"function"==typeof e&&(t=t.filter((t=>i[t.adUnitCode]===t.auctionId||!!e(t))))}else t=t.filter((e=>i[e.adUnitCode]===e.auctionId));return t=t.filter((e=>(0,r.A)(e,"video.context")!==d.LM)).filter(_),t.forEach((e=>(e.latestTargetedAuctionId=i[e.adUnitCode],e))),E(t,h.Bq)}function S(e,i){let n=t.getWinningBids(e,i),r=C();return n=n.map((e=>({[e.adUnitCode]:Object.keys(e.adserverTargeting).filter((t=>void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===r.indexOf(t))).reduce(((t,i)=>{const n=[e.adserverTargeting[i]],r={[i.substring(0,20)]:n};if(i===p.xS.DEAL){const s="".concat(i,"_").concat(e.bidderCode).substring(0,20),o={[s]:n};return[...t,r,o]}return[...t,r]}),[])}))),n}function C(){return e.getStandardBidderAdServerTargeting().map((e=>e.key)).concat(y).filter(n.hj)}function T(e,t,i,r){return Object.keys(t.adserverTargeting).filter(O()).forEach((i=>{e.length&&e.filter(function(e){return function(i){return i.adUnitCode===t.adUnitCode&&i.adserverTargeting[e]}}(i)).forEach(function(e){return function(i){(0,n.cy)(i.adserverTargeting[e])||(i.adserverTargeting[e]=[i.adserverTargeting[e]]),i.adserverTargeting[e]=i.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(n.hj),delete t.adserverTargeting[e]}}(i))})),e.push(t),e}function O(){let e=C();return e=e.concat(o.Nh),function(t){return-1===e.indexOf(t)}}function x(e){return{[e.adUnitCode]:Object.keys(e.adserverTargeting).filter(O()).map((t=>({[t.substring(0,20)]:[e.adserverTargeting[t]]})))}}function R(e,t){return t.map((t=>({["".concat(t,"_").concat(e.bidderCode).substring(0,20)]:[e.adserverTargeting[t]]})))}return t.setLatestAuctionForAdUnit=function(e,t){i[e]=t},t.resetPresetTargeting=function(e,t){if((0,n.II)()){const i=f(e);let n=g.reduce(((e,t)=>(e[t]=null,e)),{});Object.values(w(i,t)).forEach((e=>{e.forEach((e=>e.updateTargetingFromMap(n)))}))}},t.resetPresetTargetingAST=function(e){f(e).forEach((function(e){const t=window.apntag.getTag(e);if(t&&t.keywords){const i=Object.keys(t.keywords),n={};i.forEach((e=>{(0,u.mK)(g,e.toLowerCase())||(n[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:n})}}))},t.getAllTargeting=function(t,i,o){const a=f(t);void 0===i&&(i=A());var d=S(a,i).concat(function(e,t){return t.filter((t=>(0,u.mK)(e,t.adUnitCode))).map((e=>Object.assign({},e))).reduce(T,[]).map(x).filter((e=>e))}(a,i)).concat(c(a,i,o)).concat(function(t){function i(e){return(0,r.A)(e,p.iD.ADSERVER_TARGETING)}function s(e){const t=i(e);return Object.keys(t).map((function(e){return(0,n.O8)(t[e])&&(t[e]=t[e].split(",").map((e=>e.trim()))),(0,n.cy)(t[e])||(t[e]=[t[e]]),{[e]:t[e]}}))}return e.getAdUnits().filter((e=>(0,u.mK)(t,e.code)&&i(e))).map((e=>({[e.code]:s(e)})))}(a));d.map((e=>{Object.keys(e).map((t=>{e[t].map((e=>{-1===g.indexOf(Object.keys(e)[0])&&(g=Object.keys(e).concat(g))}))}))}));const l=Object.keys(Object.assign({},p.Zh,p.x5));let h=s.$W.getConfig(m);const y=s.$W.getConfig(v);if(null!=y&&null!=h)throw new Error(b);h=null!=y?l.concat(y):h||l,Array.isArray(h)&&h.length>0&&(d=function(e,t){const i=Object.assign({},p.xS,p.x5),r=Object.keys(i),s={};(0,n.fH)("allowTargetingKeys - allowed keys [ ".concat(t.map((e=>i[e])).join(", ")," ]")),e.map((e=>{const n=Object.keys(e)[0],o=e[n].filter((e=>{const n=Object.keys(e)[0],o=0===r.filter((e=>0===n.indexOf(i[e]))).length||(0,u.I6)(t,(e=>{const t=i[e];return 0===n.indexOf(t)}));return s[n]=!o,o}));e[n]=o}));const o=Object.keys(s).filter((e=>s[e]));return(0,n.fH)("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((e=>e[Object.keys(e)[0]].length>0))}(d,h)),d=function(e){let t=e.map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].map((e=>({[Object.keys(e)[0]]:e[Object.keys(e)[0]].join(",")}))).reduce(((e,t)=>Object.assign(t,e)),{})}))).reduce((function(e,t){var i=Object.keys(t)[0];return e[i]=Object.assign({},e[i],t[i]),e}),{});return t}(d);const _=s.$W.getConfig("targetingControls.auctionKeyMaxChars");return _&&((0,n.fH)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(_," characters.  Running checks on auction keys...")),d=function(e,t){let i=(0,n.Go)(e),r=Object.keys(i).map((e=>({adUnitCode:e,adserverTargeting:i[e]}))).sort(I());return r.reduce((function(e,r,s,o){let a=(d=r.adserverTargeting,Object.keys(d).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(d[t]),"%26")}),""));var d;s+1===o.length&&(a=a.slice(0,-3));let c=r.adUnitCode,l=a.length;return l<=t?(t-=l,(0,n.fH)("AdUnit '".concat(c,"' auction keys comprised of ").concat(l," characters.  Deducted from running threshold; new limit is ").concat(t),i[c]),e[c]=i[c]):(0,n.JE)("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(l,", the current allotted amount was ").concat(t,".\n"),i[c]),s+1===o.length&&0===Object.keys(e).length&&(0,n.vV)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(d,_)),a.forEach((e=>{d[e]||(d[e]={})})),d},s.$W.getConfig("targetingControls",(function(e){null!=(0,r.A)(e,m)&&null!=(0,r.A)(e,v)&&(0,n.vV)(b)})),t.setTargetingForGPT=function(e,t){Object.entries(w(Object.keys(e),t)).forEach((t=>{let[i,r]=t;r.forEach((t=>{Object.keys(e[i]).forEach((t=>{let n=e[i][t];"string"==typeof n&&-1!==n.indexOf(",")&&(n=n.split(",")),e[i][t]=n})),(0,n.OG)("Attempting to set targeting-map for slot: ".concat(t.getSlotElementId()," with targeting-map:"),e[i]),t.updateTargetingFromMap(e[i])}))}))},t.getWinningBids=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A();const i=f(e);if(!0===s.$W.getConfig("useBidCache")){let e=t.filter((e=>e.mediaType===d.G_&&i.indexOf(e.adUnitCode)<0)).sort(((e,t)=>t.cpm-e.cpm));i.forEach((t=>{if(t.indexOf("preroll")>0&&e.length>0){e.shift().adUnitCode=t}}))}t=t.filter((e=>(0,u.mK)(i,e.adUnitCode))),t=t.filter((e=>!0===l.u.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0));let r=t.map((e=>e.adUnitCode)).filter(n.hj);return t=r.map((e=>{let i=t.filter((t=>t.adUnitCode===e?t:null));return i=i.reduce(h.Vk),i})),t},t.setTargetingForAst=function(e){let i=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){(0,n.vV)("unable to reset targeting for AST"+e)}Object.keys(i).forEach((e=>Object.keys(i[e]).forEach((t=>{if((0,n.OG)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(i[e][t])),(0,n.O8)(i[e][t])||(0,n.cy)(i[e][t])){let n={},r=/pt[0-9]/;t.search(r)<0?n[t.toUpperCase()]=i[e][t]:n[t]=i[e][t],window.apntag.setKeywords(e,n,{overrideKeyValue:!0})}}))))},t.isApntagDefined=function(){if(window.apntag&&(0,n.fp)(window.apntag.setKeywords))return!0},t}(a.n)},7045:(e,t,i)=>{"use strict";i.d(t,{zt:()=>h});var n=i(949),r=i(9827),s=i(3430),o=i(5689),a=i(2764),d=i(6754),c=i(3969),l=i(7850),u=i(4312);r.$W.setDefaults({userSync:(0,n.Go)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});const p=(0,o.CK)("usersync");const h=function(e){let t={},i={image:[],iframe:[]},o=new Set,a={},p={image:!0,iframe:!1},h=e.config;function f(){if(h.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!p.iframe)return;g(i.iframe,(e=>{let[t,r]=e;(0,n.OG)("Invoking iframe user sync for bidder: ".concat(t)),(0,n.SG)(r),function(e,t){e.image=e.image.filter((e=>e[0]!==t))}(i,t)}))}(),function(){if(!p.image)return;g(i.image,(e=>{let[t,i]=e;(0,n.OG)("Invoking image pixel user sync for bidder: ".concat(t)),(0,n.z$)(i)}))}()}catch(e){return(0,n.vV)("Error firing user syncs",e)}i={image:[],iframe:[]}}}function g(e,t){(0,n.k4)(e).forEach(t)}function m(e,t){let i=h.filterSettings;if(function(e,t){if(e.all&&e[t])return(0,n.JE)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;let i=e.all?e.all:e[t],r=e.all?"all":t;if(!i)return!1;let s=i.filter,o=i.bidders;if(s&&"include"!==s&&"exclude"!==s)return(0,n.JE)('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(s,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==o&&!(Array.isArray(o)&&o.length>0&&o.every((e=>(0,n.O8)(e)&&"*"!==e))))return(0,n.JE)('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(i,e)){p[e]=!0;let n=i.all?i.all:i[e],r="*"===n.bidders?[t]:n.bidders;const o={include:(e,t)=>!(0,s.mK)(e,t),exclude:(e,t)=>(0,s.mK)(e,t)};return o[n.filter||"include"](r,t)}return!p[e]}return r.$W.getConfig("userSync",(e=>{if(e.userSync){let t=e.userSync.filterSettings;(0,n.Qd)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}h=Object.assign(h,e.userSync)})),e.regRule(d.Ml,"userSync config",(e=>{if(!h.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[c.Dk]===l.tW){const i=e[c.bt],n=e[c.iK];if(!t.canBidderRegisterSync(i,n))return{allow:!1,reason:"".concat(i," syncs are not enabled for ").concat(n)}}})),t.registerSync=(t,r,s)=>o.has(r)?(0,n.OG)('already fired syncs for "'.concat(r,'", ignoring registerSync call')):h.syncEnabled&&(0,n.cy)(i[t])?r?0!==h.syncsPerBidder&&Number(a[r])>=h.syncsPerBidder?(0,n.JE)('Number of user syncs exceeded for "'.concat(r,'"')):void(e.isAllowed(d.Ml,(0,u.s)(l.tW,r,{[c.bt]:t,[c.e3]:s}))&&(i[t].push([r,s]),a=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(a,r))):(0,n.JE)("Bidder is required for registering sync"):(0,n.JE)('User sync type "'.concat(t,'" not supported')),t.bidderDone=o.add.bind(o),t.syncUsers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(f,Number(e));f()},t.triggerUserSyncs=()=>{h.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=(e,t)=>!h.filterSettings||!m(e,t),t}(Object.defineProperties({config:r.$W.getConfig("userSync"),isAllowed:a.io,regRule:a.qB},{browserSupportsCookies:{get:function(){return!(0,n.Vt)()&&p.cookiesAreEnabled()}}}))},949:(e,t,i)=>{"use strict";i.d(t,{bu:()=>ne,cD:()=>b,El:()=>Qe,c$:()=>Ve,Wz:()=>de,GE:()=>Oe,sC:()=>Pe,gR:()=>re,hw:()=>G,CA:()=>W,Tz:()=>ue,PB:()=>He,dp:()=>V,Go:()=>_e,bD:()=>Ge,U6:()=>xe,Bk:()=>pe,Bq:()=>fe,eP:()=>ze,lk:()=>C,u5:()=>T,D4:()=>ge,ZA:()=>ve,l9:()=>ke,SH:()=>De,Ez:()=>H,V:()=>Ce,YI:()=>E,s0:()=>S,SB:()=>Be,_W:()=>me,l4:()=>M,mb:()=>$,$z:()=>Re,N9:()=>Te,al:()=>Ee,_s:()=>se,ro:()=>ce,SG:()=>le,iC:()=>$e,t1:()=>ye,cy:()=>Q,Uu:()=>je,Lm:()=>ee,Im:()=>te,xQ:()=>ie,fp:()=>J,II:()=>be,Fq:()=>Le,Et:()=>X,Qd:()=>Z,Vt:()=>Ie,O8:()=>K,wD:()=>Ue,vV:()=>z,fH:()=>j,OG:()=>N,JE:()=>F,Bj:()=>Je,D9:()=>We,n7:()=>B,bL:()=>O,kK:()=>D,Dl:()=>qe,Up:()=>Ne,h0:()=>q,gM:()=>we,$l:()=>Ye,Bg:()=>Ke,k4:()=>Ae,cf:()=>k,bM:()=>U,y$:()=>R,vE:()=>Se,$D:()=>x,z$:()=>ae,hj:()=>he,bz:()=>Me});var n=i(9827);function r(e){var t,i,n;if(Array.isArray(e)){for(i=Array(t=e.length);t--;)i[t]=(n=e[t])&&"object"==typeof n?r(n):n;return i}if("[object Object]"===Object.prototype.toString.call(e)){for(t in i={},e)"__proto__"===t?Object.defineProperty(i,t,{value:r(e[t]),configurable:!0,enumerable:!0,writable:!0}):i[t]=(n=e[t])&&"object"==typeof n?r(n):n;return i}return e}var s=i(3430),o=i(5928),a=i(2546),d=i(8122),c="String",l="Function",u="Number",p="Object",h="Boolean",f=Object.prototype.toString;let g,m=Boolean(window.console);Boolean(m&&window.console.log),Boolean(m&&window.console.info),Boolean(m&&window.console.warn),Boolean(m&&window.console.error);const v=(0,d.m)();function b(e){g=e}function y(){null!=g&&g(...arguments)}const A={checkCookieSupport:Oe,createTrackPixelIframeHtml:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";t&&(e=encodeURI(e));i&&(i='sandbox="'.concat(i,'"'));return"<iframe ".concat(i,' id="').concat(S(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')},getWindowSelf:M,getWindowTop:$,canAccessWindowTop:function(){try{if(A.getWindowTop().location.href)return!0}catch(e){return!1}},getWindowLocation:L,insertUserSyncIframe:le,insertElement:se,isFn:J,triggerPixel:ae,logError:z,logWarn:F,logMessage:N,logInfo:j,parseQS:Fe,formatQS:ze,deepEqual:Ge};let _={};function E(){return _}var I,w=(I=0,function(){return++I});function S(){return w()+Math.random().toString(16).substr(2)}function C(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,C)}function T(e,t){return(null==t?void 0:t[e])||""}function O(e){let t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+encodeURIComponent(e[i])+"&");return t=t.replace(/&$/,""),t}function x(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((t=>"".concat(t,"=").concat(encodeURIComponent(e[t])))).join("&"):""}function R(e){return"string"==typeof e?e.split(/\s*,\s*/).map((e=>e.match(/^(\d+)x(\d+)$/i))).filter((e=>e)).map((e=>{let[t,i,n]=e;return[parseInt(i,10),parseInt(n,10)]})):Array.isArray(e)?P(e)?[e]:e.filter(P):[]}function D(e){return R(e).map(U)}function U(e){return e[0]+"x"+e[1]}function B(e){if(P(e))return U(e)}function k(e){return{w:e[0],h:e[1]}}function P(e){return Q(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function $(){return window.top}function M(){return window.self}function L(){return window.location}function N(){V()}function j(){V()}function F(){V(),y(o.qY.AUCTION_DEBUG,{type:"WARNING",arguments})}function z(){V(),y(o.qY.AUCTION_DEBUG,{type:"ERROR",arguments})}function q(e){function t(t){return function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];t(e,...n)}}return{logError:t(z),logWarn:t(F),logMessage:t(N),logInfo:t(j)}}function V(){return!!n.$W.getConfig("debug")}const G=(()=>{const e={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"};return function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.createElement("iframe");return Object.assign(r,Object.assign({},e,i)),Object.assign(r.style,n),r}})();function W(){return G(document,{id:S(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function H(e){return Fe(L().search)[e]||""}function Y(e,t){return f.call(e)==="[object "+t+"]"}function J(e){return Y(e,l)}function K(e){return Y(e,c)}const Q=Array.isArray.bind(Array);function X(e){return Y(e,u)}function Z(e){return Y(e,p)}function ee(e){return Y(e,h)}function te(e){return!e||(Q(e)||K(e)?!(e.length>0):Object.keys(e).length<=0)}function ie(e){return K(e)&&(!e||0===e.length)}function ne(e,t){if(J(null==e?void 0:e.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((e=>{let[i,n]=e;return t.call(this,n,i)}))}function re(e,t){return J(null==e?void 0:e.includes)&&e.includes(t)}function se(e,t,i,n){let r;t=t||document,r=i?t.getElementsByTagName(i):t.getElementsByTagName("head");try{if(r=r.length?r:t.getElementsByTagName("body"),r.length){r=r[0];let t=n?null:r.firstChild;return r.insertBefore(e,t)}}catch(e){}}function oe(e,t){let i=null;return new a.k((n=>{const r=function(){e.removeEventListener("load",r),e.removeEventListener("error",r),null!=i&&window.clearTimeout(i),n()};e.addEventListener("load",r),e.addEventListener("error",r),null!=t&&(i=window.setTimeout(r,t))}))}function ae(e,t,i){const n=new Image;t&&A.isFn(t)&&oe(n,i).then(t),n.src=e}function de(e){let{source:t,burl:i}=e;t===o.RW.SRC&&i&&A.triggerPixel(i)}function ce(e){if(!e)return;const t=W();var i;A.insertElement(t,document,"body"),(i=t.contentWindow.document).open(),i.write(e),i.close()}function le(e,t,i){let n=A.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;let s=r.firstChild;t&&A.isFn(t)&&oe(s,i).then(t),A.insertElement(s,document,"html",!0)}function ue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:encodeURI;if(!e)return"";let i='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return i+='<img src="'+t(e)+'"></div>',i}function pe(e){return Array.from(e.matchAll(/\$({[^}]+})/g)).map((e=>e[1])).reduce(((e,t)=>e.replace("$"+encodeURIComponent(t),"$"+t)),encodeURI(e))}function he(e,t,i){return i.indexOf(e)===t}function fe(e,t){return e.concat(t)}function ge(e,t){if(e)return t.flatMap((e=>e.bids)).find((t=>["bidId","adId","bid_id"].some((i=>t[i]===e))))}function me(e,t){return e[t]}function ve(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.adUnits).map((e=>e.bids.map((e=>e.bidder)).reduce(fe,[]))).reduce(fe,[]).filter((e=>void 0!==e)).filter(he)}function be(){if(window.googletag&&J(window.googletag.pubads)&&J(window.googletag.pubads().getSlots))return!0}function ye(){if(window.apntag&&J(window.apntag.getTag))return!0}function Ae(e){let t=e.length;for(;t>0;){let i=Math.floor(Math.random()*t);t--;let n=e[t];e[t]=e[i],e[i]=n}return e}function _e(e){return r(e)||{}}function Ee(){try{return A.getWindowSelf()!==A.getWindowTop()}catch(e){return!0}}function Ie(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function we(e,t){if(e)return Object.entries(t).reduce(((e,t)=>{let[i,n]=t;return e.replace(new RegExp("\\$\\{"+i+"\\}","g"),n||"")}),e)}function Se(){return(new Date).getTime()}function Ce(){return window.performance&&window.performance.now&&window.performance.now()||0}function Te(){return!1!==n.$W.getConfig("deviceAccess")}function Oe(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function xe(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));let i=0;return function(){i++,i===t&&e.apply(this,arguments)}}function Re(e,t){return e.reduce((function(e,i){return(e[i[t]]=e[i[t]]||[]).push(i),e}),{})}function De(e,t){return t.filter((t=>e[t])).reduce(((t,i)=>Object.assign(t,{[i]:e[i]})),{})}function Ue(e){const t=["banner","native","video"],i=["instream","outstream","adpod"];return!!Object.keys(e).every((e=>(0,s.mK)(t,e)))&&(!e.video||!e.video.context||(0,s.mK)(i,e.video.context))}function Be(e,t,i){return e.filter((e=>e.code===t)).flatMap((e=>e.bids)).filter((e=>e.bidder===i)).map((e=>e.params||{}))}function ke(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack}const Pe=(e,t)=>e.getAdUnitPath()===t||e.getSlotElementId()===t;function $e(e){return t=>Pe(e,t)}function Me(e,t){const i=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(i," ad unit\n    containing bidders that don't support ").concat(i,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}const Le=Number.isInteger.bind(Number);function Ne(e,t){return"object"!=typeof e?{}:t.reduce(((i,n,r)=>{if("function"==typeof n)return i;let s=n,o=n.match(/^(.+?)\sas\s(.+?)$/i);o&&(n=o[1],s=o[2]);let a=e[n];return"function"==typeof t[r+1]&&(a=t[r+1](a,i)),void 0!==a&&(i[s]=a),i}),{})}function je(e,t){return Q(e)&&(!t||e.length===t)&&e.every((e=>Le(e)))}function Fe(e){return e?e.replace(/^\?/,"").split("&").reduce(((e,t)=>{let[i,n]=t.split("=");return/\[\]$/.test(i)?(i=i.replace("[]",""),e[i]=e[i]||[],e[i].push(n)):e[i]=n||"",e}),{}):{}}function ze(e){return Object.keys(e).map((t=>Array.isArray(e[t])?e[t].map((e=>"".concat(t,"[]=").concat(e))).join("&"):"".concat(t,"=").concat(e[t]))).join("&")}function qe(e,t){let i=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?i.href=e:i.href=decodeURIComponent(e);let n=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:i.href,protocol:(i.protocol||"").replace(/:$/,""),hostname:i.hostname,port:+i.port,pathname:i.pathname.replace(/^(?!\/)/,"/"),search:n?i.search:A.parseQS(i.search||""),hash:(i.hash||"").replace(/^#/,""),host:i.host||window.location.host}}function Ve(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(A.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function Ge(e,t){let{checkTypes:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t||i&&e.constructor!==t.constructor)return!1;{const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n){if(!t.hasOwnProperty(r))return!1;if(!Ge(e[r],t[r],{checkTypes:i}))return!1}return!0}}function We(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(!i.length)return e;const r=i.shift();if(Z(e)&&Z(r))for(const t in r)Z(r[t])?(e[t]||Object.assign(e,{[t]:{}}),We(e[t],r[t])):Q(r[t])?e[t]?Q(e[t])&&r[t].forEach((i=>{let n=1;for(let r=0;r<e[t].length;r++)if(Ge(e[t][r],i)){n=0;break}n&&e[t].push(i)})):Object.assign(e,{[t]:[...r[t]]}):Object.assign(e,{[t]:r[t]});return We(e,...i)}function He(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=function(e,t){if(J(Math.imul))return Math.imul(e,t);var i=(4194303&e)*(t|=0);return 4290772992&e&&(i+=(4290772992&e)*t|0),0|i},n=3735928559^t,r=1103547991^t;for(let t,s=0;s<e.length;s++)t=e.charCodeAt(s),n=i(n^t,2654435761),r=i(r^t,1597334677);return n=i(n^n>>>16,2246822507)^i(r^r>>>13,3266489909),r=i(r^r>>>16,2246822507)^i(n^n>>>13,3266489909),(4294967296*(2097151&r)+(n>>>0)).toString()}function Ye(e){try{return JSON.parse(e)}catch(e){}}function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};const i=new Map,n=function(){const n=t.apply(this,arguments);return i.has(n)||i.set(n,e.apply(this,arguments)),i.get(n)};return n.clear=i.clear.bind(i),n}function Ke(e,t){Object.entries(t).forEach((t=>{let[i,n]=t;return e.setAttribute(i,n)}))}function Qe(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e,n=0,r=e.length&&e.length-1;const s=i(t);for(;r-n>1;){const t=n+Math.round((r-n)/2);s>i(e[t])?n=t:r=t}for(;e.length>n&&s>i(e[n]);)n++;return n}},3861:(e,t,i)=>{"use strict";i.d(t,{y:()=>o});var n=i(6021),r=i(4070),s=i(949);function o(e,t,i){var o;let{index:a=n.n.index,bs:d=r.u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i=i||a.getBidRequest(t);const c=null==t?void 0:t.adapterCode,l=(null==t?void 0:t.bidderCode)||(null===(o=i)||void 0===o?void 0:o.bidder),u=d.get(null==t?void 0:t.adapterCode,"adjustAlternateBids"),p=d.getOwn(l,"bidCpmAdjustment")||d.get(u?c:l,"bidCpmAdjustment");if(p&&"function"==typeof p)try{return p(e,Object.assign({},t),i)}catch(e){(0,s.vV)("Error during bid adjustment",e)}return e}},331:(e,t,i)=>{"use strict";i.d(t,{Ak:()=>m,BO:()=>h,K7:()=>f,NL:()=>v});var n=i(9827);const r="performanceMetrics",s=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),o=new WeakMap;function a(){let{now:e=s,mkNode:t=l,mkTimer:i=c,mkRenamer:n=(e=>e),nodes:r=o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){return function s(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>({forEach(t){t(e)}});a=n(a);const d=(c="timestamps",function(e){return o.dfWalk({visit(t,i){const n=i[c];if(n.hasOwnProperty(e))return n[e]}})});var c;function l(e,t){const i=a(e);o.dfWalk({follow:(e,t)=>t.propagate&&(!e||!e.stopPropagation),visit(e,n){i.forEach((i=>{null==e?n.metrics[i]=t:(n.groups.hasOwnProperty(i)||(n.groups[i]=[]),n.groups[i].push(t))}))}})}function u(t){return i(e,(e=>l(t,e)))}function p(){let e={};return o.dfWalk({visit(t,i){e=Object.assign({},!t||t.includeGroups?i.groups:null,i.metrics,e)}}),e}const h={startTiming:u,measureTime:function(e,t){return u(e).stopAfter(t)()},measureHookTime:function(e,t,i){const n=u(e);return i(function(e){const t=n.stopBefore(e);return t.bail=e.bail&&n.stopBefore(e.bail),t.stopTiming=n,t.untimed=e,t}(t))},checkpoint:function(t){o.timestamps[t]=e()},timeSince:function(t,i){const n=d(t),r=null!=n?e()-n:null;return null!=i&&l(i,r),r},timeBetween:function(e,t,i){const n=d(e),r=d(t),s=null!=n&&null!=r?r-n:null;return null!=i&&l(i,s),s},setMetric:l,getMetrics:p,fork:function(){let{propagate:e=!0,stopPropagation:i=!1,includeGroups:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(t([[o,{propagate:e,stopPropagation:i,includeGroups:n}]]),a)},join:function(e){let{propagate:t=!0,stopPropagation:i=!1,includeGroups:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=r.get(e);null!=s&&s.addParent(o,{propagate:t,stopPropagation:i,includeGroups:n})},newMetrics:function(){return s(o.newSibling(),a)},renameWith:function(e){return s(o,e)},toJSON:()=>p()};return r.set(h,o),h}(t([]))}}function d(e,t,i){return function(){t&&t();try{return e.apply(this,arguments)}finally{i&&i()}}}function c(e,t){const i=e();let n=!1;function r(){n||(t(e()-i),n=!0)}return r.stopBefore=e=>d(e,r),r.stopAfter=e=>d(e,null,r),r}function l(e){return{metrics:{},timestamps:{},groups:{},addParent(t,i){e.push([t,i])},newSibling:()=>l(e.slice()),dfWalk(){let t,{visit:i,follow:n=(()=>!0),visited:r=new Set,inEdge:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.has(this)){if(r.add(this),t=i(s,this),null!=t)return t;for(const[o,a]of e)if(n(s,a)&&(t=o.dfWalk({visit:i,follow:n,visited:r,inEdge:a}),null!=t))return t}}}}const u=(()=>{const e=function(){},t=()=>({}),i={forEach:e},n=()=>null;n.stopBefore=e=>e,n.stopAfter=e=>e;const r=Object.defineProperties({dfWalk:e,newSibling:()=>r,addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((e=>[e,{get:t}]))));return a({now:()=>0,mkNode:()=>r,mkRenamer:()=>()=>i,mkTimer:()=>n,nodes:{get:e,set:e}})()})();let p=!0;function h(e){return p&&e||u}n.$W.getConfig(r,(e=>{p=!!e[r]}));const f=(()=>{const e=a();return function(){return p?e():u}})();function g(e,t){return function(i,n){return function(r){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];const d=this;return h(t.apply(d,o)).measureHookTime(e+i,r,(function(e){return n.call(d,e,...o)}))}}}const m=g("requestBids.",(e=>e.metrics)),v=g("addBidResponse.",((e,t)=>t.metrics))},2546:(e,t,i)=>{"use strict";i.d(t,{k:()=>u,v:()=>h});var n=i(3645),r=i(9963);function s(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function o(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}const a=0,d=1;var c=new WeakMap,l=new WeakMap;class u{static timeout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new u((t=>{0===e?t():setTimeout(t,e)}))}constructor(e){if(s(this,c,{writable:!0,value:void 0}),s(this,l,{writable:!0,value:void 0}),"function"!=typeof e)throw new Error("resolver not a function");const t=[],i=[];let[n,o]=[a,d].map((e=>function(r){if(e===a&&"function"==typeof(null==r?void 0:r.then))r.then(n,o);else if(!t.length)for(t.push(e,r);i.length;)i.shift()()}));try{e(n,o)}catch(e){o(e)}(0,r.A)(this,c,t),(0,r.A)(this,l,i)}then(e,t){const i=(0,n.A)(this,c);return new this.constructor(((r,s)=>{const o=()=>{let n=i[1],[o,d]=i[0]===a?[e,r]:[t,s];if("function"==typeof o){try{n=o(n)}catch(e){return void s(e)}d=r}d(n)};i.length?o():(0,n.A)(this,l).push(o)}))}catch(e){return this.then(null,e)}finally(e){let t;return this.then((i=>(t=i,e())),(i=>(t=this.constructor.reject(i),e()))).then((()=>t))}static race(e){return new this(((t,i)=>{o(this,u,p).call(this,e,((e,n)=>e?t(n):i(n)))}))}static all(e){return new this(((t,i)=>{let n=[];o(this,u,p).call(this,e,((e,t,r)=>e?n[r]=t:i(t)),(()=>t(n)))}))}static allSettled(e){return new this((t=>{let i=[];o(this,u,p).call(this,e,((e,t,n)=>i[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}),(()=>t(i)))}))}static resolve(e){return new this((t=>t(e)))}static reject(e){return new this(((t,i)=>i(e)))}}function p(e,t,i){let n=e.length;function r(){t.apply(this,arguments),--n<=0&&i&&i()}0===e.length&&i?i():e.forEach(((e,t)=>this.resolve(e).then((e=>r(!0,e,t)),(e=>r(!1,e,t)))))}function h(){let e,t,{promiseFactory:i=(e=>new u(e))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function n(e){return t=>e(t)}return{promise:i(((i,n)=>{e=i,t=n})),resolve:n(e),reject:n(t)}}},9846:(e,t,i)=>{"use strict";function n(e,t){return e===t?0:e<t?-1:1}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e;return(t,i)=>n(e(t),e(i))}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return(t,i)=>-e(t,i)||0}function o(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i){for(const n of t){const t=n(e,i);if(0!==t)return t}return 0}}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return(t,i)=>e(i,t)<0?i:t}function d(){return a(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n))}i.d(t,{Bp:()=>a,Bq:()=>p,NV:()=>r,Ph:()=>d,Vk:()=>u});const c=r((e=>e.cpm)),l=r((e=>e.responseTimestamp)),u=d(o(c,s(r((e=>e.timeToRespond))))),p=d(o(c,s(l)));d(o(c,l))},1063:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(2546),r=i(949);function s(){let{startTime:e=r.vE,ttl:t=(()=>null),monotonic:i=!1,slack:s=5e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=new Map,a=[],d=[],c=i?e=>d.push(e):e=>d.splice((0,r.El)(d,e,(e=>e.expiry)),0,e);let l,u;function p(){if(u&&clearTimeout(u),d.length>0){const e=(0,r.vE)();l=Math.max(e,d[0].expiry+s),u=setTimeout((()=>{const e=(0,r.vE)();let t=0;for(const i of d){if(i.expiry>e)break;a.forEach((e=>{try{e(i.item)}catch(e){(0,r.vV)(e)}})),o.delete(i.item),t++}d.splice(0,t),u=null,p()}),l-e)}else u=null}function h(i){const r={},o=f;let a;const[d,h]=Object.entries({start:e,delta:t}).map((e=>{let t,[d,h]=e;return function(){const e=t={};n.k.resolve(h(i)).then((i=>{e===t&&(r[d]=i,o===f&&null!=r.start&&null!=r.delta&&(a=r.start+r.delta,c(g),(null==u||l>a+s)&&p()))}))}})),g={item:i,refresh:h,get expiry(){return a}};return d(),h(),g}let f={};return{[Symbol.iterator]:()=>o.keys(),add(e){!o.has(e)&&o.set(e,h(e))},remove(e){o.delete(e)},clear(){d.length=0,p(),o.clear(),f={}},toArray:()=>Array.from(o.keys()),refresh(){d.length=0,p();for(const e of o.values())e.refresh()},onExpiry:e=>(a.push(e),()=>{const t=a.indexOf(e);t>=0&&a.splice(t,1)})}}},3210:(e,t,i)=>{"use strict";i.d(t,{E2:()=>p,H6:()=>d,V0:()=>l,mn:()=>c,vk:()=>u});var n=i(4474),r=i(949),s=i(9827),o=i(8094),a=i(6021);const d="outstream",c="instream";function l(e){var t;const i=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;null!=i&&null==i.plcmt&&(i.context===d||[2,3,4].includes(i.placement)?i.plcmt=4:i.context!==d&&[2,6].includes(i.playbackmethod)&&(i.plcmt=2))}function u(e){let{index:t=a.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(0,n.A)(t.getMediaTypes(e),"video"),r=i&&(0,n.A)(i,"context"),s=i&&(0,n.A)(i,"useCacheKey"),o=t.getAdUnit(e);return p(e,o,i,r,s)}const p=(0,o.A_)("sync",(function(e,t,i,n,o){return i&&(o||n!==d)?s.$W.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,r.vV)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with YMPB.setConfig({ cache: {url: "..."} });\n      '),!1):!(n===d&&!o)||!!(e.renderer||t&&t.renderer||i.renderer)}),"checkVideoBidSetup")},1610:(e,t,i)=>{"use strict";i.d(t,{MT:()=>p,M_:()=>u,RQ:()=>c});var n=i(8223),r=i(9827),s=i(6021);const o="pb_",a=o+"uuid",d=15;function c(e){if(e.trackingId)return e.trackingId;let t="".concat(o).concat(e.adId);if(e.vastUrl)return t;let i=e.vastXml&&e.vastXml.match(/<Ad.+id=("|')(\w+)(\1)[^>]*>/i);return i&&(t=i[2]),t}function l(e){let{index:t=s.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="",n=c(e);if(e.trackingId=n,e.vastUrl){i=function(e,t){t=t&&(Array.isArray(t)?t:[t]);const i=new RegExp("[?&]".concat(a,"(=([^&#]*)|&|#|$)")).exec(e);let n=i?'id="'.concat(i[2],'"'):"",r=t?t.map((e=>"<Impression><![CDATA[".concat(e,"]]></Impression>"))).join(""):"";return'<VAST version="3.0">\n    <Ad '.concat(n,">\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA[").concat(e,"]]></VASTAdTagURI>\n        ").concat(r,"\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}(e.vastUrl+"&".concat(a,"=").concat(n),e.vastImpUrl)}else o=e.vastXml,l=n,i=o&&l?o=o.replace(/<Ad\b[^>]*>/i,"<Ad ".concat(l,">")):o;var o,l;const u=t.getAuction(e);let p={type:"xml",value:i,ttlseconds:Number(e.ttl)+d};return r.$W.getConfig("cache.vasttrack")&&(p.bidder=e.bidder,p.bidid=e.requestId,p.aid=e.auctionId),null!=u&&(p.timestamp=u.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(p.key=e.customCacheKey),p}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.g4;const s={puts:e.map(l)};i(r.$W.getConfig("cache.timeout"))(r.$W.getConfig("cache.url"),function(e){return{success:function(t){let i;try{i=JSON.parse(t).responses}catch(t){return void e(t,[])}i?e(null,i):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,i){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(i))),[])}}}(t),JSON.stringify(s),{contentType:"text/plain",withCredentials:!0})}function p(e){return"".concat(r.$W.getConfig("cache.url"),"?uuid=").concat(e)}},3323:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(1601),r=i.n(n),s=i(6314),o=i.n(s)()(r());o.push([e.id,"@keyframes l2{to{transform:rotate(1turn)}}.ympb_target,.ympb_target_multi,.ympb_target_companion,.ympb_target_fullscreen,.ympb_target_delay{min-width:120px}.ympb_target{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;align-content:center;font-size:12px !important}.ympb_target[data-type*='gmi']{position:fixed;top:-90px;right:0;bottom:0;left:0;background-color:rgba(1,1,1,0.5) !important;z-index:2147483640}.ympb_target[data-type*='gmi'] ::after{content:' ';width:6em;height:6em;position:absolute;top:45%;left:49%;border-radius:50%;border:0.5em solid #a4a4a4;border-right-color:#ff3c04;animation:l2 1s infinite linear;z-index:3}.ympb_target[data-type*='gmi'][data-status='dfp_impressed']::after{display:none}.ympb_target[data-type*='adhesion']{bottom:0;width:100%;height:auto;position:fixed;background:transparent}.ympb_target[data-type*='adhesion'].ympb_target_no_bg{width:auto;display:inline-block;width:auto;left:50%;transform:translateX(-50%)}.ympb_target[data-status='closed'],.ympb_target[data-status='destroyed']{visibility:hidden;margin-bottom:0 !important}.ympb_target[data-status='disabled']{margin-bottom:0 !important;border:none !important}.ympb_target .ympb_loader_container{width:6em;height:6em;position:absolute;top:50%;left:50%;transform:translate(-3em, -3em)}.ympb_target .ympb_loader{width:5em;height:5em;border-radius:50%;border:0.5em solid #a4a4a4;border-right-color:#ff3c04;animation:l2 1s infinite linear;z-index:3}.ympb_target .ympb_video_header{color:#eee;background:rgba(0,0,0,0.8);font-size:12px !important;font-weight:700;padding:0.25em 0.5em !important;text-transform:uppercase;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;align-content:center;height:2em;overflow:hidden;position:relative;z-index:3}.ympb_target .ympb_video_header>a,.ympb_target .ympb_video_header>span{display:inline-block}.ympb_target .ympb_video_header--gap{flex-grow:1}.ympb_target .ympb_video_header .ympb-logo{margin-left:0.25em}.ympb_target .ympb_video_header svg{fill:#fff;width:auto;height:1rem;display:inline}.ympb_target .ympb_video_header .ympb_video_skip_btn{text-decoration:none;cursor:pointer;color:#fff;font-weight:700;padding:0 0.25em;min-width:6em;text-align:center}.ympb_target .ympb_video_header .ympb_video_mute_btn{text-decoration:none;margin:0 0.5em;padding:0 0.25em;width:auto}.ympb_target .ympb_video_header .ympb_video_mute_btn--muted{display:none}.ympb_target .ympb_video_header .ympb_video_mute_btn.muted .ympb_video_mute_btn--unmuted{display:none}.ympb_target .ympb_video_header .ympb_video_mute_btn.muted .ympb_video_mute_btn--muted{display:block}.ympb_target .ympb_video_header .ympb_video_duration{margin-left:0.5em}.ympb_target[data-type*='-preroll'] .ympb_instanse_ima{margin-top:-2.5em;padding-top:2.5em}.ympb_target .ympb_video_container{width:100%;margin:0 auto}.ympb_target .ympb_video_body{width:100%;position:relative;height:0;padding-bottom:56.25%;background-color:rgba(0,0,0,0.5)}.ympb_target .ympb_video_body>video,.ympb_target .ympb_video_body>iframe,.ympb_target .ympb_video_body .ympb_video_slot,.ympb_target .ympb_video_body .ympb_video_play_btn{position:absolute;top:0;right:0;bottom:0;left:0;z-index:0}.ympb_target .ympb_video_body .ympb_video_slot{overflow:visible}.ympb_target .ympb_video_body .ympb_video_play_btn{display:flex;align-content:center;justify-content:center;align-items:center;cursor:pointer;flex-direction:column;font:400 11px/16px \"-apple-system\",BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell !important;opacity:0.8;color:#fff}.ympb_target .ympb_video_body .ympb_video_play_btn:hover{opacity:1}.ympb_target .ympb_video_body .ympb_video_play_btn--text{font-size:3em;margin-top:1em}.ympb_target .ympb_video_body .ympb_video_play_btn>svg{width:50%;min-height:8em;max-width:10em;display:block;fill:#fff}.ympb_target .ympb_target_close{position:absolute;top:0.25em;right:0.5em;bottom:auto;left:auto;border-radius:50%;background:rgba(255,255,255,0.25);width:1em;height:1em;text-align:center;line-height:1em;font-size:20px;color:#a4a4a4;cursor:pointer;opacity:0.75}.ympb_target .ympb_target_close svg{width:20px;height:20px;fill:#666}.ympb_target .ympb_target_close:hover{opacity:1}.ympb_anchor,.ympb_hide{display:none !important}.ympb_target_wrapper{display:flex;justify-content:center;align-items:center;flex-wrap:nowrap;width:100%;flex-direction:column}.ympb_target_wrapper .ympb_instanse{min-width:120px;min-height:30px}.ympb_copyright{margin:1px 0 0 0 !important;text-align:left !important;text-decoration:none !important;font:400 11px/16px \"-apple-system\",BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell !important;width:100%}.ympb_copyright a{transition:all 0.1s ease-in-out;text-decoration:none !important}.ympb_copyright a:hover{opacity:0.7}.ympb_copyright a b{font-weight:700 !important}.ympb_copyright a .ympb-logo{margin-right:0.25em}.ympb_copyright a>span{display:inline-block;vertical-align:middle}.ympb_copyright a svg{width:auto;height:16px}.ympb_copyright_text{float:right}.ympb_sticky_element,.ympb_target[data-type*='sticky']{position:-webkit-sticky;position:sticky;top:2em;z-index:9999}.ympb_usp{clear:both;padding:0.5em 0 100px;color:#b2b2b2;background-color:#fafafa;text-align:center;line-height:2.5;font-size:13px}.ympb_usp .ympb__usp-toggle{cursor:pointer}.ympb_flex{display:flex;flex-wrap:wrap;align-content:space-evenly;justify-content:center;align-items:center}.ympb_flex.ympb_space-around{justify-content:space-around;gap:20px}.ympb_flex>.ympb_target{flex:0 1 auto}\n",""]);const a=o},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(o[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},1601:e=>{"use strict";e.exports=function(e){return e[1]}},8218:(e,t,i)=>{"use strict";function n(e,t){var i=function(e){for(var t=e.split(/([.#])/),i="",n="",r=1;r<t.length;r+=2)switch(t[r]){case".":i+=" "+t[r+1];break;case"#":n=t[r+1]}return{className:i.trim(),tag:t[0]||"div",id:n}}(e),n=i.tag,r=i.id,s=i.className,o=t?document.createElementNS(t,n):document.createElement(n);return r&&(o.id=r),s&&(t?o.setAttribute("class",s):o.className=s),o}function r(e,t){var i=A(e),n=A(t);return t===n&&n.__redom_view&&(t=n.__redom_view),n.parentNode&&(s(t,n,i),i.removeChild(n)),t}function s(e,t,i){var n=t.__redom_lifecycle;if(o(n))t.__redom_lifecycle={};else{var r=i;for(t.__redom_mounted&&l(t,"onunmount");r;){var s=r.__redom_lifecycle||{};for(var a in n)s[a]&&(s[a]-=n[a]);o(s)&&(r.__redom_lifecycle=null),r=r.parentNode}}}function o(e){if(null==e)return!0;for(var t in e)if(e[t])return!1;return!0}i.d(t,{JW:()=>D,Or:()=>c,eC:()=>u,el:()=>I,vs:()=>r});var a=["onmount","onremount","onunmount"],d="undefined"!=typeof window&&"ShadowRoot"in window;function c(e,t,i,n){var r=A(e),o=A(t);t===o&&o.__redom_view&&(t=o.__redom_view),t!==o&&(o.__redom_view=t);var c=o.__redom_mounted,u=o.parentNode;if(c&&u!==r&&s(0,o,u),null!=i)if(n){var p=A(i);p.__redom_mounted&&l(p,"onunmount"),r.replaceChild(o,p)}else r.insertBefore(o,A(i));else r.appendChild(o);return function(e,t,i,n){for(var r=t.__redom_lifecycle||(t.__redom_lifecycle={}),s=i===n,o=!1,c=0,u=a;c<u.length;c+=1){var p=u[c];s||e!==t&&p in e&&(r[p]=(r[p]||0)+1),r[p]&&(o=!0)}if(!o)return void(t.__redom_lifecycle={});var h=i,f=!1;(s||h&&h.__redom_mounted)&&(l(t,s?"onremount":"onmount"),f=!0);for(;h;){var g=h.parentNode,m=h.__redom_lifecycle||(h.__redom_lifecycle={});for(var v in r)m[v]=(m[v]||0)+r[v];if(f)break;(h.nodeType===Node.DOCUMENT_NODE||d&&h instanceof ShadowRoot||g&&g.__redom_mounted)&&(l(h,s?"onremount":"onmount"),f=!0),h=g}}(t,o,r,u),t}function l(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);var i=e.__redom_lifecycle;if(i){var n=e.__redom_view,r=0;for(var s in n&&n[t]&&n[t](),i)s&&r++;if(r)for(var o=e.firstChild;o;){var a=o.nextSibling;l(o,t),o=a}}}function u(e,t,i){var n=A(e);if("object"==typeof t)for(var r in t)p(n,r,t[r]);else p(n,t,i)}function p(e,t,i){e.style[t]=null==i?"":i}var h="http://www.w3.org/1999/xlink";function f(e,t,i,n){var r=A(e);if("object"==typeof t)for(var s in t)f(r,s,t[s],n);else{var o=r instanceof SVGElement,a="function"==typeof i;if("style"===t&&"object"==typeof i)u(r,i);else if(o&&a)r[t]=i;else if("dataset"===t)m(r,i);else if(o||!(t in r)&&!a||"list"===t){if(o&&"xlink"===t)return void g(r,i);n&&"class"===t&&(i=r.className+" "+i),null==i?r.removeAttribute(t):r.setAttribute(t,i)}else r[t]=i}}function g(e,t,i){if("object"==typeof t)for(var n in t)g(e,n,t[n]);else null!=i?e.setAttributeNS(h,t,i):e.removeAttributeNS(h,t,i)}function m(e,t,i){if("object"==typeof t)for(var n in t)m(e,n,t[n]);else null!=i?e.dataset[t]=i:delete e.dataset[t]}function v(e){return document.createTextNode(null!=e?e:"")}function b(e,t,i){for(var n=0,r=t;n<r.length;n+=1){var s=r[n];if(0===s||s){var o=typeof s;"function"===o?s(e):"string"===o||"number"===o?e.appendChild(v(s)):_(A(s))?c(e,s):s.length?b(e,s,i):"object"===o&&f(e,s,null,i)}}}function y(e){return"string"==typeof e?E(e):A(e)}function A(e){return e.nodeType&&e||!e.el&&e||A(e.el)}function _(e){return e&&e.nodeType}function E(e){for(var t,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var s=typeof e;if("string"===s)t=n(e);else{if("function"!==s)throw new Error("At least one argument required");var o=e;t=new(Function.prototype.bind.apply(o,[null].concat(i)))}return b(A(t),i,!0),t}var I=E;function w(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];for(var n=S(e,t,A(e).firstChild);n;){var s=n.nextSibling;r(e,n),n=s}}function S(e,t,i){for(var n=i,r=Array(t.length),s=0;s<t.length;s++)r[s]=t[s]&&A(t[s]);for(var o=0;o<t.length;o++){var a=t[o];if(a){var d=r[o];if(d!==n)if(_(d)){var l=n&&n.nextSibling,u=null!=a.__redom_index&&l===r[o+1];c(e,a,n,u),u&&(n=l)}else null!=a.length&&(n=S(e,a,n));else n=n.nextSibling}}return n}E.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return E.bind.apply(E,[this].concat(e))};var C=function(e,t,i){this.View=e,this.initData=i,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=t&&(this.key="function"==typeof t?t:function(e){return function(t){return t[e]}}(t))};C.prototype.update=function(e,t){for(var i=this,n=i.View,r=i.key,s=i.initData,o=null!=r,a=this.lookup,d={},c=Array(e.length),l=this.views,u=0;u<e.length;u++){var p=e[u],h=void 0;if(o){var f=r(p);h=a[f]||new n(s,p,u,e),d[f]=h,h.__redom_id=f}else h=l[u]||new n(s,p,u,e);h.update&&h.update(p,u,e,t),A(h.el).__redom_view=h,c[u]=h}this.oldViews=l,this.views=c,this.oldLookup=a,this.lookup=d};var T=function(e,t,i,n){this.View=t,this.initData=n,this.views=[],this.pool=new C(t,i,n),this.el=y(e),this.keySet=null!=i};T.prototype.update=function(e,t){void 0===e&&(e=[]);var i=this.keySet,n=this.views;this.pool.update(e,t);var s=this.pool,o=s.views,a=s.lookup;if(i)for(var d=0;d<n.length;d++){var c=n[d];null==a[c.__redom_id]&&(c.__redom_index=null,r(this,c))}for(var l=0;l<o.length;l++){o[l].__redom_index=l}w(this,o),i&&(this.lookup=a),this.views=o},T.extend=function(e,t,i,n){return T.bind(T,e,t,i,n)},T.extend;var O=function(e,t){this.el=v(""),this.visible=!1,this.view=null,this._placeholder=this.el,e instanceof Node?this._el=e:e.el instanceof Node?(this._el=e,this.view=e):this._View=e,this._initData=t};O.prototype.update=function(e,t){var i=this._placeholder,n=this.el.parentNode;if(e){if(!this.visible)if(this._el)c(n,this._el,i),r(n,i),this.el=A(this._el),this.visible=e;else{var s=new(0,this._View)(this._initData);this.el=A(s),this.view=s,c(n,s,i),r(n,i)}this.view&&this.view.update&&this.view.update(t)}else if(this.visible){if(this._el)return c(n,i,this._el),r(n,this._el),this.el=i,void(this.visible=e);c(n,i,this.view),r(n,this.view),this.el=i,this.view=null}this.visible=e};var x=function(e,t,i){this.el=y(e),this.Views=t,this.initData=i};x.prototype.update=function(e,t){if(e!==this.route){var i=this.Views[e];this.route=e,i&&(i instanceof Node||i.el instanceof Node)?this.view=i:this.view=i&&new i(this.initData,t),w(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t,e)};var R="http://www.w3.org/2000/svg";function D(e){for(var t,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var s=typeof e;if("string"===s)t=n(e,R);else{if("function"!==s)throw new Error("At least one argument required");var o=e;t=new(Function.prototype.bind.apply(o,[null].concat(i)))}return b(A(t),i,!0),t}D.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return D.bind.apply(D,[this].concat(e))},D.ns=R},5072:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},o=[],a=0;a<e.length;a++){var d=e[a],c=n.base?d[0]+n.base:d[0],l=s[c]||0,u="".concat(c," ").concat(l);s[c]=l+1;var p=i(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=r(h,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(e,t){var i=t.domAPI(t);i.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,r){var s=n(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=i(s[o]);t[a].references--}for(var d=n(e,r),c=0;c<s.length;c++){var l=i(s[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}s=d}}},7659:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},316:(e,t,i)=>{"use strict";function n(e,t,i){t.split&&(t=t.split("."));for(var n,r,s=0,o=t.length,a=e;s<o&&"__proto__"!==(r=t[s++])&&"constructor"!==r&&"prototype"!==r;)a=a[r]=s===o?i:typeof(n=a[r])==typeof t?n:0*t[s]!=0||~(""+t[s]).indexOf(".")?{}:[]}i.d(t,{J:()=>n})},4467:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9922);function r(e,t,i){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},2327:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(2284);function r(e,t){if("object"!=(0,n.A)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=(0,n.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},9922:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(2284),r=i(2327);function s(e){var t=(0,r.A)(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}},2284:(e,t,i)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}i.d(t,{A:()=>n})},4517:(e,t,i)=>{"use strict";i.d(t,{aI:()=>X,LM:()=>Q,Y4:()=>s,jT:()=>Z,de:()=>ee});var n,r,s,o=i(4467);class a extends Error{constructor(e){super(e),this.name="DecodingError"}}class d extends Error{constructor(e){super(e),this.name="EncodingError"}}class c extends Error{constructor(e){super(e),this.name="GVLError"}}class l extends Error{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";super("invalid value ".concat(t," passed for ").concat(e," ").concat(i)),this.name="TCModelError"}}class u{static encode(e){if(!/^[0-1]+$/.test(e))throw new d("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let i="";for(let t=0;t<e.length;t+=this.BASIS)i+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return i}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new a("Invalidly encoded Base64URL string");let t="";for(let i=0;i<e.length;i++){const n=this.REVERSE_DICT.get(e[i]).toString(2);t+="0".repeat(this.BASIS-n.length)+n}return t}}(0,o.A)(u,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),(0,o.A)(u,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),(0,o.A)(u,"BASIS",6),(0,o.A)(u,"LCM",24);class p{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const i=this.deepClone(this[t]);void 0!==i&&(e[t]=i)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const i of e)t.push(this.deepClone(i));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const i in e)e.hasOwnProperty(i)&&(t[i]=this.deepClone(e[i]));return t}}}}class h extends p{constructor(){super(...arguments),(0,o.A)(this,"root",null)}getRoot(){return this.root}isEmpty(){return!this.root}add(e){const t={value:e,left:null,right:null};let i;if(this.isEmpty())this.root=t;else for(i=this.root;;)if(e<i.value){if(null===i.left){i.left=t;break}i=i.left}else{if(!(e>i.value))break;if(null===i.right){i.right=t;break}i=i.right}}get(){const e=[];let t=this.root;for(;t;)if(t.left){let i=t.left;for(;i.right&&i.right!=t;)i=i.right;i.right==t?(i.right=null,e.push(t.value),t=t.right):(i.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,i=this.root;for(;i;){if(i.value===e){t=!0;break}e>i.value?i=i.right:e<i.value&&(i=i.left)}return t}min(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;for(;t;)t.left?t=t.left:(e=t.value,t=null);return e}max(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;for(;t;)t.right?t=t.right:(e=t.value,t=null);return e}remove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root,i=null,n="left";for(;t;)if(e<t.value)i=t,t=t.left,n="left";else if(e>t.value)i=t,t=t.right,n="right";else{if(t.left||t.right)if(t.left)if(t.right){const e=this.min(t.right);this.remove(e,t.right),t.value=e}else i?i[n]=t.left:this.root=t.left;else i?i[n]=t.right:this.root=t.right;else i?i[n]=null:this.root=null;t=null}}static build(e){if(e&&0!==e.length){if(1===e.length){const t=new h;return t.add(e[0]),t}{const t=e.length>>1,i=new h;i.add(e[t]);const n=i.getRoot();if(n){if(t+1<e.length){const i=h.build(e.slice(t+1));n.right=i?i.getRoot():null}if(t-1>0){const i=h.build(e.slice(0,t-1));n.left=i?i.getRoot():null}}return i}}return null}}class f{has(e){return f.langSet.has(e)}forEach(e){f.langSet.forEach(e)}get size(){return f.langSet.size}}(0,o.A)(f,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));class g{}(0,o.A)(g,"cmpId","cmpId"),(0,o.A)(g,"cmpVersion","cmpVersion"),(0,o.A)(g,"consentLanguage","consentLanguage"),(0,o.A)(g,"consentScreen","consentScreen"),(0,o.A)(g,"created","created"),(0,o.A)(g,"supportOOB","supportOOB"),(0,o.A)(g,"isServiceSpecific","isServiceSpecific"),(0,o.A)(g,"lastUpdated","lastUpdated"),(0,o.A)(g,"numCustomPurposes","numCustomPurposes"),(0,o.A)(g,"policyVersion","policyVersion"),(0,o.A)(g,"publisherCountryCode","publisherCountryCode"),(0,o.A)(g,"publisherCustomConsents","publisherCustomConsents"),(0,o.A)(g,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),(0,o.A)(g,"publisherLegitimateInterests","publisherLegitimateInterests"),(0,o.A)(g,"publisherConsents","publisherConsents"),(0,o.A)(g,"publisherRestrictions","publisherRestrictions"),(0,o.A)(g,"purposeConsents","purposeConsents"),(0,o.A)(g,"purposeLegitimateInterests","purposeLegitimateInterests"),(0,o.A)(g,"purposeOneTreatment","purposeOneTreatment"),(0,o.A)(g,"specialFeatureOptins","specialFeatureOptins"),(0,o.A)(g,"useNonStandardStacks","useNonStandardStacks"),(0,o.A)(g,"vendorConsents","vendorConsents"),(0,o.A)(g,"vendorLegitimateInterests","vendorLegitimateInterests"),(0,o.A)(g,"vendorListVersion","vendorListVersion"),(0,o.A)(g,"vendorsAllowed","vendorsAllowed"),(0,o.A)(g,"vendorsDisclosed","vendorsDisclosed"),(0,o.A)(g,"version","version"),function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(n||(n={}));class m extends p{constructor(e,t){super(),(0,o.A)(this,"purposeId_",void 0),(0,o.A)(this,"restrictionType",void 0),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),i=new m;if(2!==t.length)throw new l("hash",e);return i.purposeId=parseInt(t[0],10),i.restrictionType=parseInt(t[1],10),i}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(m.hashSeparator).concat(this.restrictionType)}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===n.NOT_ALLOWED||this.restrictionType===n.REQUIRE_CONSENT||this.restrictionType===n.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}(0,o.A)(m,"hashSeparator","-");class v extends p{constructor(){super(...arguments),(0,o.A)(this,"bitLength",0),(0,o.A)(this,"map",new Map),(0,o.A)(this,"gvl_",void 0)}has(e){return this.map.has(e)}isOkToHave(e,t,i){var r;let s=!0;if(null!==(r=this.gvl)&&void 0!==r&&r.vendors){const r=this.gvl.vendors[i];if(r)if(e===n.NOT_ALLOWED)s=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case n.REQUIRE_CONSENT:s=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case n.REQUIRE_LI:s=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else s=!1;else s=!1}return s}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const i=t.hash;this.has(i)||(this.map.set(i,new h),this.bitLength=0),this.map.get(i).add(e)}}restrictPurposeToLegalBasis(e){const t=this.gvl.vendorIds,i=e.hash,n=function(){let e;for(e of t);return e}(),r=[...Array(n).keys()].map((e=>e+1));for(let e=1;e<=n;e++)this.has(i)||(this.map.set(i,h.build(r)),this.bitLength=0),this.map.get(i).add(e)}getVendors(e){let t=[];if(e){const i=e.hash;this.has(i)&&(t=this.map.get(i).get())}else{const e=new Set;this.map.forEach((t=>{t.get().forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t}getRestrictionType(e,t){let i;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===i||i>e.restrictionType)&&(i=e.restrictionType)})),i}vendorHasRestriction(e,t){let i=!1;const n=this.getRestrictions(e);for(let e=0;e<n.length&&!i;e++)i=t.isSameAs(n[e]);return i}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(t.max(),e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((i,n)=>{e?i.contains(e)&&t.push(m.unHash(n)):t.push(m.unHash(n))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,i)=>{e.add(m.unHash(i).purposeId)})),Array.from(e)}remove(e,t){const i=t.hash,n=this.map.get(i);n&&(n.remove(e),n.isEmpty()&&(this.map.delete(i),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const i=m.unHash(t);e.get().forEach((t=>{this.isOkToHave(i.restrictionType,i.purposeId,t)||e.remove(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(r||(r={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(s||(s={}));class b{}(0,o.A)(b,"ID_TO_KEY",[s.CORE,s.VENDORS_DISCLOSED,s.VENDORS_ALLOWED,s.PUBLISHER_TC]),(0,o.A)(b,"KEY_TO_ID",{[s.CORE]:0,[s.VENDORS_DISCLOSED]:1,[s.VENDORS_ALLOWED]:2,[s.PUBLISHER_TC]:3});class y extends p{constructor(){super(...arguments),(0,o.A)(this,"bitLength",0),(0,o.A)(this,"maxId_",0),(0,o.A)(this,"set_",new Set)}*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let i=Number.isInteger(parseInt(t,10));return i=i&&this.isValidNumber(e[t].id),i=i&&void 0!==e[t].name,i})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new l("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}let A,_,E,I,w,S,C,T,O,x,R,D,U,B,k,P,$,M;A=g.cmpId,_=g.cmpVersion,E=g.consentLanguage,I=g.consentScreen,w=g.created,S=g.isServiceSpecific,C=g.lastUpdated,T=g.policyVersion,O=g.publisherCountryCode,x=g.publisherLegitimateInterests,R=g.publisherConsents,D=g.purposeConsents,U=g.purposeLegitimateInterests,B=g.purposeOneTreatment,k=g.specialFeatureOptins,P=g.useNonStandardStacks,$=g.vendorListVersion,M=g.version;class L{}(0,o.A)(L,A,12),(0,o.A)(L,_,12),(0,o.A)(L,E,12),(0,o.A)(L,I,6),(0,o.A)(L,w,36),(0,o.A)(L,S,1),(0,o.A)(L,C,36),(0,o.A)(L,T,6),(0,o.A)(L,O,12),(0,o.A)(L,x,24),(0,o.A)(L,R,24),(0,o.A)(L,D,24),(0,o.A)(L,U,24),(0,o.A)(L,B,1),(0,o.A)(L,k,12),(0,o.A)(L,P,1),(0,o.A)(L,$,12),(0,o.A)(L,M,6),(0,o.A)(L,"anyBoolean",1),(0,o.A)(L,"encodingType",1),(0,o.A)(L,"maxId",16),(0,o.A)(L,"numCustomPurposes",6),(0,o.A)(L,"numEntries",12),(0,o.A)(L,"numRestrictions",12),(0,o.A)(L,"purposeId",6),(0,o.A)(L,"restrictionType",2),(0,o.A)(L,"segmentType",3),(0,o.A)(L,"singleOrRange",1),(0,o.A)(L,"vendorId",16);class N{static encode(e,t){let i;if("string"==typeof e&&(e=parseInt(e,10)),i=e.toString(2),i.length>t||e<0)throw new d("".concat(e," too large to encode into ").concat(t));return i.length<t&&(i="0".repeat(t-i.length)+i),i}static decode(e,t){if(t!==e.length)throw new a("invalid bit length");return parseInt(e,2)}}class j{static encode(e,t){return N.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new a("invalid bit length");const i=new Date;return i.setTime(100*N.decode(e,t)),i}}class F{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class z{static encode(e,t){let i="";for(let n=1;n<=t;n++)i+=F.encode(e.has(n));return i}static decode(e,t){if(e.length!==t)throw new a("bitfield encoding length mismatch");const i=new y;for(let n=1;n<=t;n++)F.decode(e[n-1])&&i.set(n);return i.bitLength=e.length,i}}class q{static encode(e,t){const i=(e=e.toUpperCase()).charCodeAt(0)-65,n=e.charCodeAt(1)-65;if(i<0||i>25||n<0||n>25)throw new d("invalid language code: ".concat(e));if(t%2==1)throw new d("numBits must be even, ".concat(t," is not valid"));t/=2;return N.encode(i,t)+N.encode(n,t)}static decode(e,t){let i;if(t!==e.length||e.length%2)throw new a("invalid bit length for language");{const t=65,n=e.length/2,r=N.decode(e.slice(0,n),n)+t,s=N.decode(e.slice(n),n)+t;i=String.fromCharCode(r)+String.fromCharCode(s)}return i}}class V{static encode(e){let t=N.encode(e.numRestrictions,L.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((i=>{t+=N.encode(i.purposeId,L.purposeId),t+=N.encode(i.restrictionType,L.restrictionType);const n=e.getVendors(i),r=n.length;let s=0,o=0,a="";for(let t=0;t<r;t++){const i=n[t];0===o&&(s++,o=i);const d=n[r-1],c=e.gvl.vendorIds,l=e=>{for(;++e<=d&&!c.has(e););return e};if(t===r-1||n[t+1]>l(i)){const e=!(i===o);a+=F.encode(e),a+=N.encode(o,L.vendorId),e&&(a+=N.encode(i,L.vendorId)),o=0}}t+=N.encode(s,L.numEntries),t+=a})),t}static decode(e){let t=0;const i=new v,n=N.decode(e.substr(t,L.numRestrictions),L.numRestrictions);t+=L.numRestrictions;for(let r=0;r<n;r++){const n=N.decode(e.substr(t,L.purposeId),L.purposeId);t+=L.purposeId;const r=N.decode(e.substr(t,L.restrictionType),L.restrictionType);t+=L.restrictionType;const s=new m(n,r),o=N.decode(e.substr(t,L.numEntries),L.numEntries);t+=L.numEntries;for(let n=0;n<o;n++){const n=F.decode(e.substr(t,L.anyBoolean));t+=L.anyBoolean;const r=N.decode(e.substr(t,L.vendorId),L.vendorId);if(t+=L.vendorId,n){const n=N.decode(e.substr(t,L.vendorId),L.vendorId);if(t+=L.vendorId,n<r)throw new a("Invalid RangeEntry: endVendorId ".concat(n," is less than ").concat(r));for(let e=r;e<=n;e++)i.add(e,s)}else i.add(r,s)}}return i.bitLength=t,i}}var G;!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(G||(G={}));class W{static encode(e){const t=[];let i,n=[],r=N.encode(e.maxId,L.maxId),s="";const o=L.maxId+L.encodingType,a=o+e.maxId,d=2*L.vendorId+L.singleOrRange+L.numEntries;let c=o+L.numEntries;return e.forEach(((r,o)=>{if(s+=F.encode(r),i=e.maxId>d&&c<a,i&&r){e.has(o+1)?0===n.length&&(n.push(o),c+=L.singleOrRange,c+=L.vendorId):(n.push(o),c+=L.vendorId,t.push(n),n=[])}})),i?(r+=String(G.RANGE),r+=this.buildRangeEncoding(t)):(r+=String(G.FIELD),r+=s),r}static decode(e,t){let i,n=0;const r=N.decode(e.substr(n,L.maxId),L.maxId);n+=L.maxId;const s=N.decode(e.charAt(n),L.encodingType);if(n+=L.encodingType,s===G.RANGE){if(i=new y,1===t){if("1"===e.substr(n,1))throw new a("Unable to decode default consent=1");n++}const r=N.decode(e.substr(n,L.numEntries),L.numEntries);n+=L.numEntries;for(let t=0;t<r;t++){const t=F.decode(e.charAt(n));n+=L.singleOrRange;const r=N.decode(e.substr(n,L.vendorId),L.vendorId);if(n+=L.vendorId,t){const t=N.decode(e.substr(n,L.vendorId),L.vendorId);n+=L.vendorId;for(let e=r;e<=t;e++)i.set(e)}else i.set(r)}}else{const t=e.substr(n,r);n+=r,i=z.decode(t,r)}return i.bitLength=n,i}static buildRangeEncoding(e){const t=e.length;let i=N.encode(t,L.numEntries);return e.forEach((e=>{const t=1===e.length;i+=F.encode(!t),i+=N.encode(e[0],L.vendorId),t||(i+=N.encode(e[1],L.vendorId))})),i}}function H(){return{[g.version]:N,[g.created]:j,[g.lastUpdated]:j,[g.cmpId]:N,[g.cmpVersion]:N,[g.consentScreen]:N,[g.consentLanguage]:q,[g.vendorListVersion]:N,[g.policyVersion]:N,[g.isServiceSpecific]:F,[g.useNonStandardStacks]:F,[g.specialFeatureOptins]:z,[g.purposeConsents]:z,[g.purposeLegitimateInterests]:z,[g.purposeOneTreatment]:F,[g.publisherCountryCode]:q,[g.vendorConsents]:W,[g.vendorLegitimateInterests]:W,[g.publisherRestrictions]:V,segmentType:N,[g.vendorsDisclosed]:W,[g.vendorsAllowed]:W,[g.publisherConsents]:z,[g.publisherLegitimateInterests]:z,[g.numCustomPurposes]:N,[g.publisherCustomConsents]:z,[g.publisherCustomLegitimateInterests]:z}}class Y{constructor(e,t){if((0,o.A)(this,"1",[s.CORE]),(0,o.A)(this,"2",[s.CORE]),2===e.version)if(e.isServiceSpecific)this[2].push(s.PUBLISHER_TC);else{const i=!(!t||!t.isForVendors);i&&!0!==e[g.supportOOB]||this[2].push(s.VENDORS_DISCLOSED),i&&(e[g.supportOOB]&&e[g.vendorsAllowed].size>0&&this[2].push(s.VENDORS_ALLOWED),this[2].push(s.PUBLISHER_TC))}}}class J{static encode(e,t){let i;try{i=this.fieldSequence[String(e.version)][t]}catch(i){throw new d("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}let n="";t!==s.CORE&&(n=N.encode(b.KEY_TO_ID[t],L.segmentType));const r=H();return i.forEach((i=>{const s=e[i],o=r[i];let a=L[i];void 0===a&&this.isPublisherCustom(i)&&(a=Number(e[g.numCustomPurposes]));try{n+=o.encode(s,a)}catch(e){throw new d("Error encoding ".concat(t,"->").concat(i,": ").concat(e.message))}})),u.encode(n)}static decode(e,t,i){const n=u.decode(e);let r=0;i===s.CORE&&(t.version=N.decode(n.substr(r,L[g.version]),L[g.version])),i!==s.CORE&&(r+=L.segmentType);const o=this.fieldSequence[String(t.version)][i],d=H();return o.forEach((e=>{const i=d[e];let s=L[e];if(void 0===s&&this.isPublisherCustom(e)&&(s=Number(t[g.numCustomPurposes])),0!==s){const o=n.substr(r,s);if(t[e]=i===W?i.decode(o,t.version):i.decode(o,s),Number.isInteger(s))r+=s;else{if(!Number.isInteger(t[e].bitLength))throw new a(e);r+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}(0,o.A)(J,"fieldSequence",new class{constructor(){(0,o.A)(this,"1",{[s.CORE]:[g.version,g.created,g.lastUpdated,g.cmpId,g.cmpVersion,g.consentScreen,g.consentLanguage,g.vendorListVersion,g.purposeConsents,g.vendorConsents]}),(0,o.A)(this,"2",{[s.CORE]:[g.version,g.created,g.lastUpdated,g.cmpId,g.cmpVersion,g.consentScreen,g.consentLanguage,g.vendorListVersion,g.policyVersion,g.isServiceSpecific,g.useNonStandardStacks,g.specialFeatureOptins,g.purposeConsents,g.purposeLegitimateInterests,g.purposeOneTreatment,g.publisherCountryCode,g.vendorConsents,g.vendorLegitimateInterests,g.publisherRestrictions],[s.PUBLISHER_TC]:[g.publisherConsents,g.publisherLegitimateInterests,g.numCustomPurposes,g.publisherCustomConsents,g.publisherCustomLegitimateInterests],[s.VENDORS_ALLOWED]:[g.vendorsAllowed],[s.VENDORS_DISCLOSED]:[g.vendorsDisclosed]})}});class K{static process(e,t){const i=e.gvl;if(!i)throw new d("Unable to encode TCModel without a GVL");if(!i.isReady)throw new d("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=i.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;const n=e.version-1;if(!this.processor[n])throw new d("Invalid version: ".concat(e.version));return this.processor[n](e,i)}}(0,o.A)(K,"processor",[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);const i=new Map;return i.set("legIntPurposes",e.vendorLegitimateInterests),i.set("purposes",e.vendorConsents),i.forEach(((i,r)=>{i.forEach(((s,o)=>{if(s){const s=t.vendors[o];if(!s||s.deletedDate)i.unset(o);else if(0===s[r].length)if("legIntPurposes"===r&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)i.unset(o);else{const t=e.publisherRestrictions.getRestrictions(o);let s=!1;for(let e=0,i=t.length;e<i&&!s;e++)s=t[e].restrictionType===n.REQUIRE_CONSENT&&"purposes"===r||t[e].restrictionType===n.REQUIRE_LI&&"legIntPurposes"===r;s||i.unset(o)}else i.unset(o)}}))})),e.vendorsDisclosed.set(t.vendors),e}]);class Q{static absCall(e,t,i,n){return new Promise(((r,s)=>{const o=new XMLHttpRequest;o.withCredentials=i,o.addEventListener("load",(()=>{if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}r(e)}else s(new Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))})),o.addEventListener("error",(()=>{s(new Error("error"))})),o.addEventListener("abort",(()=>{s(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=n,o.ontimeout=()=>{s(new Error("Timeout "+n+"ms "+e))},o.send(t)}))}static post(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),i,n)}static fetch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,i)}}class X extends p{static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new c("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}constructor(e){super(),(0,o.A)(this,"readyPromise",void 0),(0,o.A)(this,"gvlSpecificationVersion",void 0),(0,o.A)(this,"vendorListVersion",void 0),(0,o.A)(this,"tcfPolicyVersion",void 0),(0,o.A)(this,"lastUpdated",void 0),(0,o.A)(this,"purposes",void 0),(0,o.A)(this,"specialPurposes",void 0),(0,o.A)(this,"features",void 0),(0,o.A)(this,"specialFeatures",void 0),(0,o.A)(this,"isReady_",!1),(0,o.A)(this,"vendors_",void 0),(0,o.A)(this,"vendorIds",void 0),(0,o.A)(this,"fullVendorList",void 0),(0,o.A)(this,"byPurposeVendorMap",void 0),(0,o.A)(this,"bySpecialPurposeVendorMap",void 0),(0,o.A)(this,"byFeatureVendorMap",void 0),(0,o.A)(this,"bySpecialFeatureVendorMap",void 0),(0,o.A)(this,"stacks",void 0),(0,o.A)(this,"lang_",void 0),(0,o.A)(this,"isLatest",!1);let t=X.baseUrl;if(this.lang_=X.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new c("must specify GVL.baseUrl before loading GVL json");if(e>0){const i=e;X.CACHE.has(i)?(this.populate(X.CACHE.get(i)),this.readyPromise=Promise.resolve()):(t+=X.versionedFilename.replace("[VERSION]",String(i)),this.readyPromise=this.fetchJson(t))}else X.CACHE.has(X.LATEST_CACHE_KEY)?(this.populate(X.CACHE.get(X.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+X.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&X.LANGUAGE_CACHE.size>0?(X.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(X.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(X.CACHE.delete(e),t=!0):void 0===e&&(X.CACHE=new Map,t=!0),t}cacheLanguage(){X.LANGUAGE_CACHE.has(this.lang_)||X.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await Q.fetch(e))}catch(e){throw new c(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){const t=e.toUpperCase();if(!X.consentLanguages.has(t))throw new c("unsupported language ".concat(e));if(t!==this.lang_)if(this.lang_=t,X.LANGUAGE_CACHE.has(t)){const e=X.LANGUAGE_CACHE.get(t);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const t=X.baseUrl+X.languageFilename.replace("[LANG]",e);try{await this.fetchJson(t),this.cacheLanguage()}catch(e){throw new c("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&X.CACHE.set(X.LATEST_CACHE_KEY,this.getJson()),X.CACHE.has(this.vendorListVersion)||X.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const i=this.vendors_[String(t)];return i&&void 0===i.deletedDate&&(i.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),i.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),i.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),i.flexiblePurposes&&i.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),i.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),i.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=i),e}),{})}getFilteredVendors(e,t,i,n){const r=e.charAt(0).toUpperCase()+e.slice(1);let s;const o={};return s="purpose"===e&&i?this["by"+r+"VendorMap"][String(t)][i]:this["by"+(n?"Special":"")+r+"VendorMap"][String(t)],s.forEach((e=>{o[String(e)]=this.vendors[String(e)]})),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new X(this.getJson());return this.lang_!==X.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}(0,o.A)(X,"LANGUAGE_CACHE",new Map),(0,o.A)(X,"CACHE",new Map),(0,o.A)(X,"LATEST_CACHE_KEY",0),(0,o.A)(X,"DEFAULT_LANGUAGE","EN"),(0,o.A)(X,"consentLanguages",new f),(0,o.A)(X,"baseUrl_",void 0),(0,o.A)(X,"latestFilename","vendor-list.json"),(0,o.A)(X,"versionedFilename","archives/vendor-list-v[VERSION].json"),(0,o.A)(X,"languageFilename","purposes-[LANG].json");class Z extends p{constructor(e){super(),(0,o.A)(this,"isServiceSpecific_",!1),(0,o.A)(this,"supportOOB_",!0),(0,o.A)(this,"useNonStandardStacks_",!1),(0,o.A)(this,"purposeOneTreatment_",!1),(0,o.A)(this,"publisherCountryCode_","AA"),(0,o.A)(this,"version_",2),(0,o.A)(this,"consentScreen_",0),(0,o.A)(this,"policyVersion_",2),(0,o.A)(this,"consentLanguage_","EN"),(0,o.A)(this,"cmpId_",0),(0,o.A)(this,"cmpVersion_",0),(0,o.A)(this,"vendorListVersion_",0),(0,o.A)(this,"numCustomPurposes_",0),(0,o.A)(this,"gvl_",void 0),(0,o.A)(this,"created",void 0),(0,o.A)(this,"lastUpdated",void 0),(0,o.A)(this,"specialFeatureOptins",new y),(0,o.A)(this,"purposeConsents",new y),(0,o.A)(this,"purposeLegitimateInterests",new y),(0,o.A)(this,"publisherConsents",new y),(0,o.A)(this,"publisherLegitimateInterests",new y),(0,o.A)(this,"publisherCustomConsents",new y),(0,o.A)(this,"publisherCustomLegitimateInterests",new y),(0,o.A)(this,"customPurposes",void 0),(0,o.A)(this,"vendorConsents",new y),(0,o.A)(this,"vendorLegitimateInterests",new y),(0,o.A)(this,"vendorsDisclosed",new y),(0,o.A)(this,"vendorsAllowed",new y),(0,o.A)(this,"publisherRestrictions",new v),e&&(this.gvl=e),this.updated()}set gvl(e){X.isInstanceOf(e)||(e=new X(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new l("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new l("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new l("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new l("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)|0)<0)throw new l("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new l("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new l("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}(0,o.A)(Z,"consentLanguages",X.consentLanguages);class ee{static encode(e,t){let i,n="";return e=K.process(e,t),i=Array.isArray(null==t?void 0:t.segments)?t.segments:new Y(e,t)[""+e.version],i.forEach(((t,r)=>{let s="";r<i.length-1&&(s="."),n+=J.encode(e,t)+s})),n}static decode(e,t){const i=e.split("."),n=i.length;t||(t=new Z);for(let e=0;e<n;e++){const n=i[e],r=u.decode(n.charAt(0)).substr(0,L.segmentType),s=b.ID_TO_KEY[N.decode(r,L.segmentType).toString()];J.decode(n,t,s)}return t}}},472:(e,t,i)=>{"use strict";function n(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}i.d(t,{A:()=>n})},3645:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(472);function r(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,(0,n.A)(e,t,"get"))}},9963:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(472);function r(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,(0,n.A)(e,t,"set"),i),i}},5373:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(2944),r=i(9190),s=i(8417),o=i(8813),a=i(3957);function d(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=n.A,d.prototype.delete=r.A,d.prototype.get=s.A,d.prototype.has=o.A,d.prototype.set=a.A;const c=d},7919:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(6838),r=i(2384),s=i(4787),o=i(8207),a=i(1031);function d(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=n.A,d.prototype.delete=r.A,d.prototype.get=s.A,d.prototype.has=o.A,d.prototype.set=a.A;const c=d},8335:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(702),r=i(1917);const s=(0,n.A)(r.A,"Map")},5917:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(5088),r=i(7465),s=i(1521),o=i(2509),a=i(549);function d(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}d.prototype.clear=n.A,d.prototype.delete=r.A,d.prototype.get=s.A,d.prototype.has=o.A,d.prototype.set=a.A;const c=d},9857:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(702),r=i(1917);const s=(0,n.A)(r.A,"Set")},8300:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(5917);const r=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const s=function(e){return this.__data__.has(e)};function o(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n.A;++t<i;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=s;const a=o},2080:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(7919);const r=function(){this.__data__=new n.A,this.size=0};const s=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i};const o=function(e){return this.__data__.get(e)};const a=function(e){return this.__data__.has(e)};var d=i(8335),c=i(5917);const l=function(e,t){var i=this.__data__;if(i instanceof n.A){var r=i.__data__;if(!d.A||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new c.A(r)}return i.set(e,t),this.size=i.size,this};function u(e){var t=this.__data__=new n.A(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l;const p=u},241:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(1917).A.Symbol},3988:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(1917).A.Uint8Array},2641:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},2634:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,s=[];++i<n;){var o=e[i];t(o,i,e)&&(s[r++]=o)}return s}},5530:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5205);const r=function(e,t){return!!(null==e?0:e.length)&&(0,n.A)(e,t,0)>-1}},7809:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t,i){for(var n=-1,r=null==e?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}},2505:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});const n=function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n};var r=i(1788),s=i(2049),o=i(1200),a=i(5353),d=i(4749),c=Object.prototype.hasOwnProperty;const l=function(e,t){var i=(0,s.A)(e),l=!i&&(0,r.A)(e),u=!i&&!l&&(0,o.A)(e),p=!i&&!l&&!u&&(0,d.A)(e),h=i||l||u||p,f=h?n(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||u&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||(0,a.A)(m,g))||f.push(m);return f}},5572:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}},6912:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}},169:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(6984);const r=function(e,t){for(var i=e.length;i--;)if((0,n.A)(e[i][0],t))return i;return-1}},8043:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(8300),r=i(5530),s=i(7809),o=i(5572),a=i(2789),d=i(4099);const c=function(e,t,i,c){var l=-1,u=r.A,p=!0,h=e.length,f=[],g=t.length;if(!h)return f;i&&(t=(0,o.A)(t,(0,a.A)(i))),c?(u=s.A,p=!1):t.length>=200&&(u=d.A,p=!1,t=new n.A(t));e:for(;++l<h;){var m=e[l],v=null==i?m:i(m);if(m=c||0!==m?m:0,p&&v==v){for(var b=g;b--;)if(t[b]===v)continue e;f.push(m)}else u(t,v,c)||f.push(m)}return f}},1806:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});const n=(0,i(3013).A)();var r=i(7422);const s=function(e,t){return e&&n(e,t,r.A)};const o=(0,i(3641).A)(s)},5707:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t,i,n){for(var r=e.length,s=i+(n?1:-1);n?s--:++s<r;)if(t(e[s],s,e))return s;return-1}},1392:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(6912),r=i(5075);const s=function e(t,i,s,o,a){var d=-1,c=t.length;for(s||(s=r.A),a||(a=[]);++d<c;){var l=t[d];i>0&&s(l)?i>1?e(l,i-1,s,o,a):(0,n.A)(a,l):o||(a[a.length]=l)}return a}},6318:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(2227),r=i(901);const s=function(e,t){for(var i=0,s=(t=(0,n.A)(t,e)).length;null!=e&&i<s;)e=e[(0,r.A)(t[i++])];return i&&i==s?e:void 0}},3831:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(6912),r=i(2049);const s=function(e,t,i){var s=t(e);return(0,r.A)(e)?s:(0,n.A)(s,i(e))}},9672:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(241),r=i(451),s=i(5606),o=n.A?n.A.toStringTag:void 0;const a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?(0,r.A)(e):(0,s.A)(e)}},5205:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5707);const r=function(e){return e!=e};const s=function(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1};const o=function(e,t,i){return t==t?s(e,t,i):(0,n.A)(e,r,i)}},4846:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9672),r=i(3098);const s=function(e){return(0,r.A)(e)&&"[object Arguments]"==(0,n.A)(e)}},2955:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var n=i(2080),r=i(8300);const s=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1};var o=i(4099);const a=function(e,t,i,n,a,d){var c=1&i,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var p=d.get(e),h=d.get(t);if(p&&h)return p==t&&h==e;var f=-1,g=!0,m=2&i?new r.A:void 0;for(d.set(e,t),d.set(t,e);++f<l;){var v=e[f],b=t[f];if(n)var y=c?n(b,v,f,t,e,d):n(v,b,f,e,t,d);if(void 0!==y){if(y)continue;g=!1;break}if(m){if(!s(t,(function(e,t){if(!(0,o.A)(m,t)&&(v===e||a(v,e,i,n,d)))return m.push(t)}))){g=!1;break}}else if(v!==b&&!a(v,b,i,n,d)){g=!1;break}}return d.delete(e),d.delete(t),g};var d=i(241),c=i(3988),l=i(6984);const u=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i};var p=i(9959),h=d.A?d.A.prototype:void 0,f=h?h.valueOf:void 0;const g=function(e,t,i,n,r,s,o){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new c.A(e),new c.A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,l.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var h=1&n;if(d||(d=p.A),e.size!=t.size&&!h)return!1;var g=o.get(e);if(g)return g==t;n|=2,o.set(e,t);var m=a(d(e),d(t),n,r,s,o);return o.delete(e),m;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1};var m=i(9042),v=Object.prototype.hasOwnProperty;const b=function(e,t,i,n,r,s){var o=1&i,a=(0,m.A)(e),d=a.length;if(d!=(0,m.A)(t).length&&!o)return!1;for(var c=d;c--;){var l=a[c];if(!(o?l in t:v.call(t,l)))return!1}var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var h=!0;s.set(e,t),s.set(t,e);for(var f=o;++c<d;){var g=e[l=a[c]],b=t[l];if(n)var y=o?n(b,g,l,t,e,s):n(g,b,l,e,t,s);if(!(void 0===y?g===b||r(g,b,i,n,s):y)){h=!1;break}f||(f="constructor"==l)}if(h&&!f){var A=e.constructor,_=t.constructor;A==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof _&&_ instanceof _||(h=!1)}return s.delete(e),s.delete(t),h};var y=i(9137),A=i(2049),_=i(1200),E=i(4749),I="[object Arguments]",w="[object Array]",S="[object Object]",C=Object.prototype.hasOwnProperty;const T=function(e,t,i,r,s,o){var d=(0,A.A)(e),c=(0,A.A)(t),l=d?w:(0,y.A)(e),u=c?w:(0,y.A)(t),p=(l=l==I?S:l)==S,h=(u=u==I?S:u)==S,f=l==u;if(f&&(0,_.A)(e)){if(!(0,_.A)(t))return!1;d=!0,p=!1}if(f&&!p)return o||(o=new n.A),d||(0,E.A)(e)?a(e,t,i,r,s,o):g(e,t,l,i,r,s,o);if(!(1&i)){var m=p&&C.call(e,"__wrapped__"),v=h&&C.call(t,"__wrapped__");if(m||v){var T=m?e.value():e,O=v?t.value():t;return o||(o=new n.A),s(T,O,i,r,o)}}return!!f&&(o||(o=new n.A),b(e,t,i,r,s,o))};var O=i(3098);const x=function e(t,i,n,r,s){return t===i||(null==t||null==i||!(0,O.A)(t)&&!(0,O.A)(i)?t!=t&&i!=i:T(t,i,n,r,e,s))}},1979:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(9610),r=i(640),s=i(3149),o=i(1121),a=/^\[object .+?Constructor\]$/,d=Function.prototype,c=Object.prototype,l=d.toString,u=c.hasOwnProperty,p=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const h=function(e){return!(!(0,s.A)(e)||(0,r.A)(e))&&((0,n.A)(e)?p:a).test((0,o.A)(e))}},5396:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var n=i(2080),r=i(2955);const s=function(e,t,i,s){var o=i.length,a=o,d=!s;if(null==e)return!a;for(e=Object(e);o--;){var c=i[o];if(d&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var l=(c=i[o])[0],u=e[l],p=c[1];if(d&&c[2]){if(void 0===u&&!(l in e))return!1}else{var h=new n.A;if(s)var f=s(u,p,l,e,t,h);if(!(void 0===f?(0,r.A)(p,u,3,s,h):f))return!1}}return!0};var o=i(3149);const a=function(e){return e==e&&!(0,o.A)(e)};var d=i(7422);const c=function(e){for(var t=(0,d.A)(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,a(r)]}return t};const l=function(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}};const u=function(e){var t=c(e);return 1==t.length&&t[0][2]?l(t[0][0],t[0][1]):function(i){return i===e||s(i,e,t)}};var p=i(7500);const h=function(e,t){return null!=e&&t in Object(e)};var f=i(2227),g=i(1788),m=i(2049),v=i(5353),b=i(5254),y=i(901);const A=function(e,t,i){for(var n=-1,r=(t=(0,f.A)(t,e)).length,s=!1;++n<r;){var o=(0,y.A)(t[n]);if(!(s=null!=e&&i(e,o)))break;e=e[o]}return s||++n!=r?s:!!(r=null==e?0:e.length)&&(0,b.A)(r)&&(0,v.A)(o,r)&&((0,m.A)(e)||(0,g.A)(e))};const _=function(e,t){return null!=e&&A(e,t,h)};var E=i(6586);const I=function(e,t){return(0,E.A)(e)&&a(t)?l((0,y.A)(e),t):function(i){var n=(0,p.A)(i,e);return void 0===n&&n===t?_(i,e):(0,r.A)(t,n,3)}};var w=i(9008);const S=function(e){return function(t){return null==t?void 0:t[e]}};var C=i(6318);const T=function(e){return function(t){return(0,C.A)(t,e)}};const O=function(e){return(0,E.A)(e)?S((0,y.A)(e)):T(e)};const x=function(e){return"function"==typeof e?e:null==e?w.A:"object"==typeof e?(0,m.A)(e)?I(e[0],e[1]):u(e):O(e)}},4453:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(7271);const r=(0,i(367).A)(Object.keys,Object);var s=Object.prototype.hasOwnProperty;const o=function(e){if(!(0,n.A)(e))return r(e);var t=[];for(var i in Object(e))s.call(e,i)&&"constructor"!=i&&t.push(i);return t}},6768:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(9008);const r=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)};var s=Math.max;const o=function(e,t,i){return t=s(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=s(n.length-t,0),d=Array(a);++o<a;)d[o]=n[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=n[o];return c[t]=i(d),r(e,this,c)}};const a=function(e){return function(){return e}};var d=i(4171);const c=d.A?function(e,t){return(0,d.A)(e,"toString",{configurable:!0,enumerable:!1,value:a(t),writable:!0})}:n.A;var l=Date.now;const u=function(e){var t=0,i=0;return function(){var n=l(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(c);const p=function(e,t){return u(o(e,t,n.A),e+"")}},52:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var n=i(241),r=i(5572),s=i(2049),o=i(1882),a=n.A?n.A.prototype:void 0,d=a?a.toString:void 0;const c=function e(t){if("string"==typeof t)return t;if((0,s.A)(t))return(0,r.A)(t,e)+"";if((0,o.A)(t))return d?d.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}},5488:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(7880),r=/^\s+/;const s=function(e){return e?e.slice(0,(0,n.A)(e)+1).replace(r,""):e}},2789:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return function(t){return e(t)}}},3474:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(8300),r=i(5530),s=i(7809),o=i(4099),a=i(9857);const d=function(){};var c=i(9959);const l=a.A&&1/(0,c.A)(new a.A([,-0]))[1]==1/0?function(e){return new a.A(e)}:d;const u=function(e,t,i){var a=-1,d=r.A,u=e.length,p=!0,h=[],f=h;if(i)p=!1,d=s.A;else if(u>=200){var g=t?null:l(e);if(g)return(0,c.A)(g);p=!1,d=o.A,f=new n.A}else f=t?[]:h;e:for(;++a<u;){var m=e[a],v=t?t(m):m;if(m=i||0!==m?m:0,p&&v==v){for(var b=f.length;b--;)if(f[b]===v)continue e;t&&f.push(v),h.push(m)}else d(f,v,i)||(f!==h&&f.push(v),h.push(m))}return h}},4099:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){return e.has(t)}},7541:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9008);const r=function(e){return"function"==typeof e?e:n.A}},2227:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2049),r=i(6586),s=i(5722),o=i(8182);const a=function(e,t){return(0,n.A)(e)?e:(0,r.A)(e,t)?[e]:(0,s.A)((0,o.A)(e))}},5797:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});const n=function(e,t,i){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var s=Array(r);++n<r;)s[n]=e[n+t];return s};const r=function(e,t,i){var r=e.length;return i=void 0===i?r:i,!t&&i>=r?e:n(e,t,i)}},2627:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5205);const r=function(e,t){for(var i=e.length;i--&&(0,n.A)(t,e[i],0)>-1;);return i}},9759:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}},3161:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=i(1917).A["__core-js_shared__"]},3641:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(8446);const r=function(e,t){return function(i,r){if(null==i)return i;if(!(0,n.A)(i))return e(i,r);for(var s=i.length,o=t?s:-1,a=Object(i);(t?o--:++o<s)&&!1!==r(a[o],o,a););return i}}},3013:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return function(t,i,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var d=o[e?a:++r];if(!1===i(s[d],d,s))break}return t}}},4171:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(702);const r=function(){try{var e=(0,n.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},2136:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n="object"==typeof global&&global&&global.Object===Object&&global},9042:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(3831),r=i(4792),s=i(7422);const o=function(e){return(0,n.A)(e,s.A,r.A)}},5547:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(9914);const r=function(e,t){var i=e.__data__;return(0,n.A)(t)?i["string"==typeof t?"string":"hash"]:i.map}},702:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(1979),r=i(8104);const s=function(e,t){var i=(0,r.A)(e,t);return(0,n.A)(i)?i:void 0}},451:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(241),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=n.A?n.A.toStringTag:void 0;const d=function(e){var t=s.call(e,a),i=e[a];try{e[a]=void 0;var n=!0}catch(e){}var r=o.call(e);return n&&(t?e[a]=i:delete e[a]),r}},4792:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2634),r=i(3153),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;const a=o?function(e){return null==e?[]:(e=Object(e),(0,n.A)(o(e),(function(t){return s.call(e,t)})))}:r.A},9137:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var n=i(702),r=i(1917);const s=(0,n.A)(r.A,"DataView");var o=i(8335);const a=(0,n.A)(r.A,"Promise");var d=i(9857);const c=(0,n.A)(r.A,"WeakMap");var l=i(9672),u=i(1121),p="[object Map]",h="[object Promise]",f="[object Set]",g="[object WeakMap]",m="[object DataView]",v=(0,u.A)(s),b=(0,u.A)(o.A),y=(0,u.A)(a),A=(0,u.A)(d.A),_=(0,u.A)(c),E=l.A;(s&&E(new s(new ArrayBuffer(1)))!=m||o.A&&E(new o.A)!=p||a&&E(a.resolve())!=h||d.A&&E(new d.A)!=f||c&&E(new c)!=g)&&(E=function(e){var t=(0,l.A)(e),i="[object Object]"==t?e.constructor:void 0,n=i?(0,u.A)(i):"";if(n)switch(n){case v:return m;case b:return p;case y:return h;case A:return f;case _:return g}return t});const I=E},8104:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){return null==e?void 0:e[t]}},898:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const r=function(e){return n.test(e)}},2944:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(674);const r=function(){this.__data__=n.A?(0,n.A)(null):{},this.size=0}},9190:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},8417:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(674),r=Object.prototype.hasOwnProperty;const s=function(e){var t=this.__data__;if(n.A){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return r.call(t,e)?t[e]:void 0}},8813:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(674),r=Object.prototype.hasOwnProperty;const s=function(e){var t=this.__data__;return n.A?void 0!==t[e]:r.call(t,e)}},3957:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(674);const r=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n.A&&void 0===t?"__lodash_hash_undefined__":t,this}},5075:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(241),r=i(1788),s=i(2049),o=n.A?n.A.isConcatSpreadable:void 0;const a=function(e){return(0,s.A)(e)||(0,r.A)(e)||!!(o&&e&&e[o])}},5353:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=/^(?:0|[1-9]\d*)$/;const r=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},6586:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2049),r=i(1882),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;const a=function(e,t){if((0,n.A)(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!(0,r.A)(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}},9914:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},640:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n,r=i(3161),s=(n=/[^.]+$/.exec(r.A&&r.A.keys&&r.A.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";const o=function(e){return!!s&&s in e}},7271:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=Object.prototype;const r=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},6838:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(){this.__data__=[],this.size=0}},2384:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(169),r=Array.prototype.splice;const s=function(e){var t=this.__data__,i=(0,n.A)(t,e);return!(i<0)&&(i==t.length-1?t.pop():r.call(t,i,1),--this.size,!0)}},4787:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(169);const r=function(e){var t=this.__data__,i=(0,n.A)(t,e);return i<0?void 0:t[i][1]}},8207:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(169);const r=function(e){return(0,n.A)(this.__data__,e)>-1}},1031:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(169);const r=function(e,t){var i=this.__data__,r=(0,n.A)(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this}},5088:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(5373),r=i(7919),s=i(8335);const o=function(){this.size=0,this.__data__={hash:new n.A,map:new(s.A||r.A),string:new n.A}}},7465:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5547);const r=function(e){var t=(0,n.A)(this,e).delete(e);return this.size-=t?1:0,t}},1521:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5547);const r=function(e){return(0,n.A)(this,e).get(e)}},2509:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5547);const r=function(e){return(0,n.A)(this,e).has(e)}},549:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(5547);const r=function(e,t){var i=(0,n.A)(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this}},608:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(6632);const r=function(e){var t=(0,n.A)(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}},674:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=(0,i(702).A)(Object,"create")},4841:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2136),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof module&&module&&!module.nodeType&&module,o=s&&s.exports===r&&n.A.process;const a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}()},5606:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=Object.prototype.toString;const r=function(e){return n.call(e)}},367:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){return function(i){return e(t(i))}}},1917:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(2136),r="object"==typeof self&&self&&self.Object===Object&&self;const s=n.A||r||Function("return this")()},9959:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}},6299:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});const n=function(e){return e.split("")};var r=i(898),s="\\ud800-\\udfff",o="["+s+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\\ud83c[\\udffb-\\udfff]",c="[^"+s+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",p="(?:"+a+"|"+d+")"+"?",h="[\\ufe0e\\ufe0f]?",f=h+p+("(?:\\u200d(?:"+[c,l,u].join("|")+")"+h+p+")*"),g="(?:"+[c+a+"?",a,l,u,o].join("|")+")",m=RegExp(d+"(?="+d+")|"+g+f,"g");const v=function(e){return e.match(m)||[]};const b=function(e){return(0,r.A)(e)?v(e):n(e)}},5722:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(608),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;const o=(0,n.A)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,i,n,r){t.push(n?r.replace(s,"$1"):i||e)})),t}))},901:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(1882);const r=function(e){if("string"==typeof e||(0,n.A)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},1121:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=Function.prototype.toString;const r=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7880:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=/\s/;const r=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},6984:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e,t){return e===t||e!=e&&t!=t}},6070:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(2634),r=i(1806);const s=function(e,t){var i=[];return(0,r.A)(e,(function(e,n,r){t(e,n,r)&&i.push(e)})),i};var o=i(5396),a=i(2049);const d=function(e,t){return((0,a.A)(e)?n.A:s)(e,(0,o.A)(t,3))}},8058:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(2641),r=i(1806),s=i(7541),o=i(2049);const a=function(e,t){return((0,o.A)(e)?n.A:r.A)(e,(0,s.A)(t))}},7500:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(6318);const r=function(e,t,i){var r=null==e?void 0:(0,n.A)(e,t);return void 0===r?i:r}},9008:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return e}},1788:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(4846),r=i(3098),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable;const d=(0,n.A)(function(){return arguments}())?n.A:function(e){return(0,r.A)(e)&&o.call(e,"callee")&&!a.call(e,"callee")}},2049:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=Array.isArray},8446:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9610),r=i(5254);const s=function(e){return null!=e&&(0,r.A)(e.length)&&!(0,n.A)(e)}},3533:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(8446),r=i(3098);const s=function(e){return(0,r.A)(e)&&(0,n.A)(e)}},8916:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9672),r=i(3098);const s=function(e){return!0===e||!1===e||(0,r.A)(e)&&"[object Boolean]"==(0,n.A)(e)}},1200:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var n=i(1917);const r=function(){return!1};var s="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=s&&"object"==typeof module&&module&&!module.nodeType&&module,a=o&&o.exports===s?n.A.Buffer:void 0;const d=(a?a.isBuffer:void 0)||r},9610:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9672),r=i(3149);const s=function(e){if(!(0,r.A)(e))return!1;var t=(0,n.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5254:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3149:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3098:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(e){return null!=e&&"object"==typeof e}},9703:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(9672),r=i(2049),s=i(3098);const o=function(e){return"string"==typeof e||!(0,r.A)(e)&&(0,s.A)(e)&&"[object String]"==(0,n.A)(e)}},1882:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(9672),r=i(3098);const s=function(e){return"symbol"==typeof e||(0,r.A)(e)&&"[object Symbol]"==(0,n.A)(e)}},4749:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var n=i(9672),r=i(5254),s=i(3098),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;const a=function(e){return(0,s.A)(e)&&(0,r.A)(e.length)&&!!o[(0,n.A)(e)]};var d=i(2789),c=i(4841),l=c.A&&c.A.isTypedArray;const u=l?(0,d.A)(l):a},7422:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=i(2505),r=i(4453),s=i(8446);const o=function(e){return(0,s.A)(e)?(0,n.A)(e):(0,r.A)(e)}},6632:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(5917);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],s=i.cache;if(s.has(r))return s.get(r);var o=e.apply(this,n);return i.cache=s.set(r,o)||s,o};return i.cache=new(r.Cache||n.A),i}r.Cache=n.A;const s=r},3153:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n=function(){return[]}},8776:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(1694),r=1/0;const s=function(e){return e?(e=(0,n.A)(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},8593:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(8776);const r=function(e){var t=(0,n.A)(e),i=t%1;return t==t?i?t-i:t:0}},1694:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(5488),r=i(3149),s=i(1882),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt;const l=function(e){if("number"==typeof e)return e;if((0,s.A)(e))return NaN;if((0,r.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=(0,n.A)(e);var i=a.test(e);return i||d.test(e)?c(e.slice(2),i?2:8):o.test(e)?NaN:+e}},8182:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(52);const r=function(e){return null==e?"":(0,n.A)(e)}}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={id:e,exports:{}};return i[e](s,s.exports,r),s.exports}r.m=i,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>(({332:"tcfui",404:"cmpApiManager"}[e]||e)+".bundle.js"),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="yollatags:",r.l=(i,n,s,o)=>{if(e[i])e[i].push(n);else{var a,d;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+s){a=u;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+s),a.src=i),e[i]=[n];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),d&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={795:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((i,r)=>n=e[t]=[i,r]));i.push(n[2]=s);var o=r.p+r.u(t),a=new Error;r.l(o,(i=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var n,s,o=i[0],a=i[1],d=i[2],c=0;if(o.some((t=>0!==e[t]))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(d)d(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkyollatags=self.webpackChunkyollatags||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),r.nc=void 0,(()=>{"use strict";var e=r(5072),t=r.n(e),i=r(7825),n=r.n(i),s=r(7659),o=r.n(s),a=r(5056),d=r.n(a),c=r(540),l=r.n(c),u=r(1113),p=r.n(u),h=r(3323),f={};f.styleTagTransform=p(),f.setAttributes=d(),f.insert=o().bind(null,"head"),f.domAPI=n(),f.insertStyleElement=l();t()(h.A,f);h.A&&h.A.locals&&h.A.locals;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.dataLayer=window.dataLayer||[],window._qevents=window._qevents||[],window.yevents=window.yevents||[],window.YMPB_DATA=window.YMPB_DATA||{},window.YMPB_OPTIONS=window.YMPB_OPTIONS||{};var g=window.YMPB||g||{};g.que=g.que||[],g.cmd=g.cmd||[],window.YMPB||(window.YMPB=g),g.pub=g.pub||{},g.const=g.const||{},g.ycmd=g.ycmd||g.command||[],g.command=g.ycmd||[],window.yaqData=window.yaqData||[],window.gtag=window.gtag||function(){window.dataLayer.push(arguments)},window.yaq=window.yaq||function(){window.yaqData.push(arguments)},g.pub=g.pub||{},g.const=g.const||{},g.__durationStart=g.__durationStart||Date.now(),g.__pvflag=g.__pvflag||{},g.__yeventsParams=g.__yeventsParams||{};var m=r(5215),v=r(618),b=r(8122),y=r(9827),A=r(4474),_=r(949),E=r(316),I=r(3430),w=r(1152);let S=!1,C=[];function T(e){C=e,S||(v.Gs.before(((e,t,i)=>{return e((n=i,t.reduce(((e,t)=>{let{active:i,mediaTypes:r,filterResults:s}=R(O(t,n),t.mediaTypes);return i?(s&&(0,_.fH)('Size mapping filtered adUnit "'.concat(t.code,'" sizes from '),s.before,"to ",s.after),t.mediaTypes=r,t.bids=t.bids.reduce(((e,i)=>{let{active:r,mediaTypes:s,filterResults:o}=R(O(i,n),t.mediaTypes);return r&&i.labelAny&&(i.labelAny.length>0?n.forEach((function(e){i.labelAny.indexOf(e)<0&&(r=!1)})):r=!1),r?(o&&((0,_.fH)('Size mapping filtered adUnit "'.concat(t.code,'" bidder "').concat(i.bidder,'" sizes from '),o.before,"to ",o.after),i.mediaTypes=s),e.push(i)):(0,_.fH)('Size mapping deactivated adUnit "'.concat(t.code,'" bidder "').concat(i.bidder,'"')),e}),[]),e.push(t)):(0,_.fH)('Size mapping disabled adUnit "'.concat(t.code,'"')),e}),[])),i);var n})),S=!0)}function O(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}y.$W.getConfig("sizeConfig",(e=>T(e.sizeConfig)));const x={[w.D4]:"banner.sizes"};function R(){let{labels:e=[],labelAll:t=!1,activeLabels:i=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=D(arguments.length>2&&void 0!==arguments[2]?arguments[2]:C),s=!1,o=!1;const a={before:{},after:{}};r.shouldFilter?Object.entries(x).forEach((e=>{let[t,i]=e;const d=(0,A.A)(n,i);if(d){s||(n=(0,_.Go)(n),s=!0);const e=d.filter((e=>r.sizesSupported[e]));(0,E.J)(n,i,e),o=o||e.length>0,d.length!==e.length&&(a.before[t]=d,a.after[t]=e)}})):o=null!=Object.values(x).find((e=>{var t;return null===(t=(0,A.A)(n,e))||void 0===t?void 0:t.length}));let d={active:!Object.keys(x).find((e=>n.hasOwnProperty(e)))||o&&(0===e.length||!t&&(e.some((e=>r.labels[e]))||e.some((e=>(0,I.mK)(i,e))))||t&&e.reduce(((e,t)=>e?r.labels[t]||(0,I.mK)(i,t):e),!0)),mediaTypes:n};return Object.keys(a.before).length>0&&(d.filterResults=a),d}function D(e){return e.reduce(((e,t)=>{if("object"==typeof t&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){let i=!1;try{i=(0,_.mb)().matchMedia(t.mediaQuery).matches}catch(e){(0,_.JE)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),i=matchMedia(t.mediaQuery).matches}i&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((i=>(t[i]||[]).forEach((t=>e[i][t]=!0)))))}else(0,_.JE)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}x[w.G_]="video.playerSize",(0,b.E)("sizeMapping");const U=["request","imp","bidResponse","response"],[B,k,P,$]=U,[M,L]=["default","pbs"],N=new Set(U);const{registerOrtbProcessor:j,getProcessors:F}=function(){const e={};return{registerOrtbProcessor(t){let{type:i,name:n,fn:r,priority:s=0,dialects:o=[M]}=t;if(!N.has(i))throw new Error("ORTB processor type must be one of: ".concat(U.join(", ")));o.forEach((t=>{e.hasOwnProperty(t)||(e[t]={}),e[t].hasOwnProperty(i)||(e[t][i]={}),e[t][i][n]={priority:s,fn:r}}))},getProcessors:t=>e[t]||{}}}(),z="Invalid schain object found: ",q=" should be a string",V=" should be an Integer",G=" should be an object",W=" should be an Array",H={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},Y=[];function J(e,t){let i=H.STRICT;if(function(e){return!(void 0===e||!(0,_.Qd)(e)&&((0,_.vV)(z+"the following schain config will not be used as schain is not an object.",e),1))}(e)){if((0,_.O8)(e.validation)&&-1!=Y.indexOf(e.validation)&&(i=e.validation),i===H.OFF)return e.config;if(function(e,t){let i="Detected something wrong within an schain config:",n="";function r(e){n+="\n"+e}function s(){!0===t?(0,_.vV)(i,e,n):(0,_.JE)(i,e,n)}if(!(0,_.Qd)(e)&&(r("schain.config"+G),s(),t))return!1;if((0,_.Et)(e.complete)&&(0,_.Fq)(e.complete)||r("schain.config.complete"+V),(0,_.O8)(e.ver)||r("schain.config.ver"+q),e.hasOwnProperty("ext")&&((0,_.Qd)(e.ext)||r("schain.config.ext"+G)),(0,_.cy)(e.nodes))e.nodes.forEach(((e,t)=>{(0,_.O8)(e.asi)||r("schain.config.nodes[".concat(t,"].asi")+q),(0,_.O8)(e.sid)||r("schain.config.nodes[".concat(t,"].sid")+q),(0,_.Et)(e.hp)&&(0,_.Fq)(e.hp)||r("schain.config.nodes[".concat(t,"].hp")+V),e.hasOwnProperty("rid")&&((0,_.O8)(e.rid)||r("schain.config.nodes[".concat(t,"].rid")+q)),e.hasOwnProperty("name")&&((0,_.O8)(e.name)||r("schain.config.nodes[".concat(t,"].name")+q)),e.hasOwnProperty("domain")&&((0,_.O8)(e.domain)||r("schain.config.nodes[".concat(t,"].domain")+q)),e.hasOwnProperty("ext")&&((0,_.Qd)(e.ext)||r("schain.config.nodes[".concat(t,"].ext")+G))}));else if(r("schain.config.nodes"+W),s(),t)return!1;return!(n.length>0&&(s(),t))}(e.config,!(i!==H.STRICT)))return e.config;(0,_.vV)(z+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(t,"'.  See above error for details."))}return null}function K(e,t){const i=y.$W.getConfig("schain"),n=y.$W.getBidderConfig();t.forEach((e=>{let t=e.bidderCode,r=function(e){return n[e]&&n[e].schain||i}(t);e.bids.forEach((e=>{let i=J(r,t);i&&(e.schain=(0,_.Go)(i))}))})),e(t)}(0,_.bu)(H,(e=>Y.push(e))),v.Ay.makeBidRequests.after(K),j({type:B,name:"sourceExtSchain",fn:function(e,t,i){if(!(0,A.A)(e,"source.ext.schain")){const t=(0,A.A)(i,"bidRequests.0.schain");t&&(0,E.J)(e,"source.ext.schain",t)}}}),(0,b.E)("schain");var Q=r(4124),X=r(5007),Z=r(5928),ee=r(8094);const te=new Map;function ie(e){const t={};function i(e){var i;const n=JSON.stringify([null===(i=e.source)||void 0===i?void 0:i.toLowerCase(),e.ext]);t.hasOwnProperty(n)?t[n].uids.push(...e.uids):t[n]=e}return Object.entries(e).forEach((e=>{let[t,n]=e;n=Array.isArray(n)?n:[n];("pubProvidedId"===t?(0,_.Go)(n):n.map((e=>function(e,t){const i=te.get(t);if(i&&e){let t={};t.source=(0,_.fp)(i.getSource)?i.getSource(e):i.source;const n=(0,_.fp)(i.getValue)?i.getValue(e):e;if((0,_.O8)(n)){const r={id:n,atype:i.atype};if((0,_.fp)(i.getUidExt)){const t=i.getUidExt(e);t&&(r.ext=t)}if(t.uids=[r],(0,_.fp)(i.getEidExt)){const n=i.getEidExt(e);n&&(t.ext=n)}return t}}return null}(e,t)))).filter((e=>null!=e)).forEach(i)})),Object.values(t)}var ne=r(5689);const re=(0,ee.A_)("sync",(()=>{}));var se=r(2546),oe=r(331),ae=r(6034),de=r(7850),ce=r(2764),le=r(6754),ue=r(4312);const pe="User ID",he=ne.X0,fe=ne.qk,ge="_pbjs_id_optout",me=(0,ne.CK)("userId"),ve={isAllowed:ce.io};let be,ye,Ae,_e,Ee,Ie,we=!1,Se=[],Ce=[],Te={},Oe=[];const xe=(()=>{let e;return()=>(null==e&&(e=(0,oe.K7)()),e)})();function Re(e){return xe().fork().renameWith((t=>["userId.mod.".concat(t),"userId.mods.".concat(e,".").concat(t)]))}function De(e,t){t=t||e.storageMgr;const i="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null,n=e.config.storage.name;return function(e,r,s){t.setCookie(n+(e||""),r,s,"Lax",i)}}function Ue(e,t){const i=e.config.storage;try{const n=new Date(Date.now()+864e5*i.expires).toUTCString(),r=(0,_.Qd)(t)?JSON.stringify(t):t;e.enabledStorageTypes.forEach((t=>{switch(t){case he:!function(e,t,i){const n=e.config.storage,r=De(e);r(null,t,i),r("_cst",Ze(),i),"number"==typeof n.refreshInSeconds&&r("_last",(new Date).toUTCString(),i)}(e,r,n);break;case fe:!function(e,t,i){const n=e.config.storage,r=e.storageMgr;r.setDataInLocalStorage("".concat(n.name,"_exp"),i),r.setDataInLocalStorage("".concat(n.name,"_cst"),Ze()),r.setDataInLocalStorage(n.name,encodeURIComponent(t)),"number"==typeof n.refreshInSeconds&&r.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString())}(e,r,n)}}))}catch(e){(0,_.vV)(e)}}function Be(e){at(e),e.enabledStorageTypes.forEach((t=>{switch(t){case he:!function(e){const t=De(e,me),i=new Date(Date.now()-864e5).toUTCString();["","_last","_cst"].forEach((e=>{try{t(e,"",i)}catch(e){(0,_.vV)(e)}}))}(e);break;case fe:!function(e){["","_last","_exp","_cst"].forEach((t=>{try{me.removeDataFromLocalStorage(e.config.storage.name+t)}catch(e){(0,_.vV)(e)}}))}(e)}}))}function ke(e){let t=(0,_.YI)().setEidPermissions;"function"==typeof t&&(0,_.cy)(e)&&t(function(e){let t=[];return e.filter((e=>(0,_.Qd)(e.idObj)&&Object.keys(e.idObj).length)).forEach((e=>{Object.keys(e.idObj).forEach((i=>{const n=te.get(i)||{};(0,A.A)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&n.source&&t.push({source:n.source,bidders:e.config.bidders})}))})),t}(e))}function Pe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=e.config.storage,n=t?"".concat(i.name,"_").concat(t):i.name;let r;try{e.enabledStorageTypes.find((t=>{switch(t){case he:r=function(e,t){return e.storageMgr.getCookie(t)}(e,n);break;case fe:r=function(e,t){const i=e.storageMgr,n=e.config.storage,r=i.getDataFromLocalStorage("".concat(n.name,"_exp"));return""===r?i.getDataFromLocalStorage(t):r&&new Date(r).getTime()-Date.now()>0?decodeURIComponent(i.getDataFromLocalStorage(t)):void 0}(e,n)}return!!r})),"string"==typeof r&&"{"===r.trim().charAt(0)&&(r=JSON.parse(r))}catch(e){(0,_.vV)(e)}return r}function $e(e,t,i){t=xe().fork().startTiming("userId.callbacks.total").stopBefore(t);const n=(0,_.U6)((()=>{clearTimeout(ye),t()}),e.length);e.forEach((function(e){const t=Re(e.submodule.name).startTiming("callback").stopBefore(n);try{e.callback((function(n){n?(e.config.storage&&Ue(e,n),e.idObj=e.submodule.decode(n,e.config),tt(Me(i))):(0,_.fH)("".concat(pe,": ").concat(e.submodule.name," - request id responded with an empty value")),t()}),Pe.bind(null,e))}catch(i){(0,_.vV)("Error in userID module '".concat(e.submodule.name,"':"),i),t()}e.callback=void 0}))}function Me(e){return Array.isArray(e)&&e.length?Ne(e):{}}function Le(e,t,i){return Object.fromEntries(Object.entries(e.reduce(((e,n)=>{const r=t(n);return r&&Object.keys(r).forEach((t=>{var s;const o=null===(s=Te[t])||void 0===s?void 0:s.indexOf(i(n)),a={priority:(0,_.Et)(o)?o:-1,value:r[t]};if(e[t]){const i=a.priority>e[t].priority?a:e[t];e[t]=i}else e[t]=a})),e}),{})).map((e=>{let[t,i]=e;return[t,i.value]})))}function Ne(e){return Le(e.filter((e=>(0,_.Qd)(e.idObj)&&Object.keys(e.idObj).length)),(e=>e.idObj),(e=>e.submodule.name))}function je(e,t){[e].some((e=>!Array.isArray(e)||!e.length))||e.forEach((e=>{e.bids&&(0,_.cy)(e.bids)&&e.bids.forEach((e=>{const i=function(e,t){return Array.isArray(e)&&e.length&&t?Ne(e.filter((e=>!e.config.bidders||!(0,_.cy)(e.config.bidders)||(0,I.mK)(e.config.bidders,t)))):{}}(t,e.bidder);Object.keys(i).length&&(e.userId=i,e.userIdAsEids=ie(i))}))}))}const Fe={};let ze;function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We()||[];const t=Ee&&e.find((e=>e.source===Ee));if(t&&"string"==typeof(0,A.A)(t,"uids.0.id")){const e=t.uids[0].id.replace(/[\W_]/g,"");if(e.length>=32&&e.length<=150)return e;(0,_.JE)("User ID - Googletag Publisher Provided ID for ".concat(Ee," is not between 32 and 150 characters - ").concat(e))}}const Ve=(0,oe.Ak)("userId",(function(e,t){let{delay:i=se.k.timeout,getIds:n=Xe}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};se.k.race([n().catch((()=>null)),i(_e)]).then((()=>{je(t.adUnits||(0,b.m)().adUnits,be),xe().join((0,oe.BO)(t.metrics),{propagate:!1,includeGroups:!0}),e.call(this,t)}))}));function Ge(){return Me(be)}function We(){return ie(Ge())}function He(e){return ie(function(e,t){if(!Array.isArray(e)||!e.length)return{};const i=Ne(e),n=Object.keys(i).find((e=>{const i=te.get(e);return(null==i?void 0:i.source)===t||(0,_.fp)(null==i?void 0:i.getSource)&&i.getSource()===t}));return n?{[n]:i[n]}:[]}(be,e))[0]}function Ye(e,t,i){return ze().then((()=>{let n={};if((0,_.fp)(i)){(0,_.fH)("".concat(pe," - Getting encrypted signal from custom function : ").concat(i.name," & source : ").concat(e," "));const t=i(e);n[e]=t?Je(t):null}else{const i=He(e);(0,_.fH)("".concat(pe," - Getting encrypted signal for eids :").concat(JSON.stringify(i))),(0,_.Im)(i)||(n[i.source]=!0===t?Je(i):i.uids[0].id)}return(0,_.fH)("".concat(pe," - Fetching encrypted eids: ").concat(n[e])),n[e]}))}function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="";if(1===t)i="object"==typeof e?window.btoa(JSON.stringify(e)):window.btoa(e);return"".concat(t,"||").concat(i)}function Ke(){if(!(0,_.II)())return;window.googletag.secureSignalProviders=window.googletag.secureSignalProviders||[];const e=y.$W.getConfig("userSync.encryptedSignalSources");if(e){const t=e.registerDelay||0;setTimeout((()=>{e.sources&&e.sources.forEach((e=>{let{source:t,encrypt:i,customFunc:n}=e;t.forEach((e=>{window.googletag.secureSignalProviders.push({id:e,collectorFunction:()=>Ye(e,i,n)})}))}))}),t)}else(0,_.JE)("".concat(pe," - ESP : encryptedSignalSources config not defined under userSync Object"))}function Qe(){let{submoduleNames:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ze({refresh:!0,submoduleNames:e}).then((()=>(t&&(0,_.fp)(t)&&t(),Ge())))}function Xe(){return ze().then((()=>Ge()),(e=>e===Fe?Promise.resolve().then(Xe):((0,_.vV)("Error initializing userId",e),se.k.reject(e))))}function Ze(){let e=Number(X.SL.hash);const t=[];for(;e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}function et(e,t,i){const n=X.mW.getConsentData();if(e.config.storage){let i,r=Pe(e),s=!1;if("number"==typeof e.config.storage.refreshInSeconds){const t=new Date(Pe(e,"last"));s=t&&Date.now()-t.getTime()>1e3*e.config.storage.refreshInSeconds}if(!r||s||t||function(e){const t=Pe(e,"cst");return!t||t!==Ze()}(e)){const t=Object.assign({enabledStorageTypes:e.enabledStorageTypes},e.config);i=e.submodule.getId(t,n,r)}else"function"==typeof e.submodule.extendId&&(i=e.submodule.extendId(e.config,n,r));(0,_.Qd)(i)&&(i.id&&(Ue(e,i.id),r=i.id),"function"==typeof i.callback&&(e.callback=i.callback)),r&&(e.idObj=e.submodule.decode(r,e.config))}else if(e.config.value)e.idObj=e.config.value;else{const t=e.submodule.getId(e.config,n,void 0);(0,_.Qd)(t)&&("function"==typeof t.callback&&(e.callback=t.callback),t.id&&(e.idObj=e.submodule.decode(t.id,e.config)))}tt(Me(i))}function tt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();if(e&&Ee){const t=qe(ie(e));t&&((0,_.II)()?window.googletag.pubads().setPublisherProvidedId(t):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(t)}))))}}function it(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return xe().fork().measureTime("userId.init.modules",(function(){if(!t.length)return[];if(t.forEach((e=>at(e))),!(t=t.filter((e=>(!e.config.storage||!!e.enabledStorageTypes.length)&&ve.isAllowed(le.yl,(0,ue.s)(de.fW,e.config.name))))).length)return(0,_.JE)("".concat(pe," - no ID module configured")),[];const n=t.reduce(((e,n)=>Re(n.submodule.name).measureTime("init",(()=>{try{et(n,i,t),e.push(n)}catch(e){(0,_.vV)("Error in userID module '".concat(n.submodule.name,"':"),e)}return e}))),[]);return n.length&&ke(n),n.forEach(nt.bind(null,e)),n}))}function nt(e,t){let i=!1;for(let n=0;n<e.length;n++)if(t.config.name.toLowerCase()===e[n].config.name.toLowerCase()){i=!0,e[n]=t;break}i||e.push(t)}function rt(e){var t;return(null==e||null===(t=e.storage)||void 0===t||null===(t=t.type)||void 0===t?void 0:t.trim().split(/\s*&\s*/))||[]}function st(e){return Array.isArray(e)?e.reduce(((e,t)=>(!t||(0,_.xQ)(t.name)||(t.storage&&!(0,_.xQ)(t.storage.type)&&!(0,_.xQ)(t.storage.name)&&function(e){return rt(e).every((e=>ot.has(e)))}(t)||(0,_.Qd)(t.value)?e.push(t):t.storage||t.value||e.push(t)),e)),[]):[]}const ot=new Set([fe,he]);function at(e){if(e.enabledStorageTypes)return;const t=rt(e.config);e.enabledStorageTypes=t.filter((t=>{switch(t){case fe:return function(e){return!(!e.storageMgr.localStorageIsEnabled()||me.getDataFromLocalStorage(ge)&&((0,_.fH)("".concat(pe," - opt-out localStorage found, storage disabled")),1))}(e);case he:return function(e){return!(!e.storageMgr.cookiesAreEnabled()||me.getCookie(ge)&&((0,_.fH)("".concat(pe," - opt-out cookie found, storage disabled")),1))}(e)}return!1}))}function dt(e){te.clear(),Object.entries(Le(e,(e=>e.eids),(e=>e.name))).forEach((e=>{let[t,i]=e;return te.set(t,i)}))}function ct(){dt(Oe);const e=st(Ce);if(!e.length)return;const t=Oe.filter((e=>!(0,I.I6)(Se,(t=>t.name===e.name))));Se.splice(0,Se.length),t.map((t=>{const i=(0,I.I6)(e,(e=>e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())));return i&&t.name!==i.name&&(i.name=t.name),i?{submodule:t,config:i,callback:void 0,idObj:void 0,storageMgr:(0,ne.vM)({moduleType:de.fW,moduleName:i.name})}:null})).filter((e=>null!==e)).forEach((e=>Se.push(e))),!we&&Se.length&&((0,b.m)().requestBids.before(Ve,40),v.Ay.callDataDeletionRequest.before(lt),re.after((e=>e(qe()))),(0,_.fH)("".concat(pe," - usersync config updated for ").concat(Se.length," submodules: "),Se.map((e=>e.submodule.name))),we=!0)}function lt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];(0,_.fH)("UserID: received data deletion request; deleting all stored IDs..."),Se.forEach((e=>{if("function"==typeof e.submodule.onDataDeletionRequest)try{e.submodule.onDataDeletionRequest(e.config,e.idObj,...i)}catch(t){(0,_.vV)("Error calling onDataDeletionRequest for ID submodule ".concat(e.submodule.name),t)}Be(e)})),e.apply(this,i)}function ut(e){return function(){return Promise.resolve(e.apply(this,arguments))}}!function(e){let{delay:t=se.k.timeout}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee=void 0,Se=[],Ce=[],we=!1,be=[],ze=function(){let{delay:e=se.k.timeout}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,se.v)(),i=(0,se.v)();let n,r,s=!1;function o(e){return r=xe().fork(),null!=n&&n.reject(Fe),n=(0,se.v)(),se.k.race([e,n.promise]).finally(r.startTiming("userId.total"))}let a=be,d=Se;function c(e){return function(){if(a===be&&d===Se)return e(...arguments)}}function l(){return X.SL.promise.finally(r.startTiming("userId.init.consent"))}let u=o(se.k.all([ee.Gc,t.promise]).then(l).then(c((()=>{it(a,d)}))).then((()=>i.promise.finally(r.startTiming("userId.callbacks.pending")))).then(c((()=>{const e=a.filter((e=>(0,_.fp)(e.callback)));if(e.length)return new se.k((t=>$e(e,t,a)))}))));return function(){let{refresh:n=!1,submoduleNames:r=null,ready:p=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p&&!s&&(s=!0,t.resolve(),_e>0?i.resolve():Q.on(Z.qY.AUCTION_END,(function t(){Q.off(Z.qY.AUCTION_END,t),e(Ae).then(i.resolve)}))),n&&s&&(u=o(u.catch((()=>null)).then(l).then(c((()=>{const e=it(a,d.filter((e=>null==r||r.includes(e.submodule.name))),!0).filter((e=>null!=e.callback));if(e.length)return new se.k((t=>$e(e,t,a)))}))))),u}}({delay:t}),null!=Ie&&Ie(),Oe=[],Ie=e.getConfig("userSync",(e=>{const t=e.userSync;t&&(Ee=t.ppid,t.userIds&&(Ce=t.userIds,Ae=(0,_.Et)(t.syncDelay)?t.syncDelay:500,_e=(0,_.Et)(t.auctionDelay)?t.auctionDelay:0,ct(),function(e,t){if(e){const i={},n=new Map(t.map((e=>e.submodule.aliasName?[e.submodule.aliasName,e.submodule.name]:[])));Object.keys(e).forEach((t=>{const r=(0,_.cy)(e[t])?[...e[t]].reverse():[];i[t]=r.map((e=>n.has(e)?n.get(e):e))})),Te=i}else Te={}}(t.idPriority,Se),ze({ready:!0})))})),(0,b.m)().getUserIds=Ge,(0,b.m)().getUserIdsAsEids=We,(0,b.m)().getEncryptedEidsForSource=ut(Ye),(0,b.m)().registerSignalSources=Ke,(0,b.m)().refreshUserIds=ut(Qe),(0,b.m)().getUserIdsAsync=ut(Xe),(0,b.m)().getUserIdsAsEidBySource=He}(y.$W),(0,ee.xG)("userId",(function(e){e.findRootDomain=ae.S,(0,I.I6)(Oe,(t=>t.name===e.name))||(Oe.push(e),X.o2.register(de.fW,e.name,e.gvlid),ct(),ze({refresh:!0,submoduleNames:[e.name]}))}),{postInstallAllowed:!0}),j({type:B,name:"userExtEids",fn:function(e,t,i){const n=(0,A.A)(i,"bidRequests.0.userIdAsEids");n&&Object.keys(n).length>0&&(0,E.J)(e,"user.ext.eids",n)}}),(0,b.E)("userId");var pt=r(8223);function ht(e,t){return function(){const i=document.domain.split("."),n="_gd".concat(Date.now(),"_").concat(t);for(let t,r,s=0;s<i.length;s++){const o=i.slice(s).join(".");if(e.setCookie(n,"1",void 0,void 0,o),r=e.getCookie(n),e.setCookie(n,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,o),"1"!==r)return t;t=o}}}const ft="33acrossId",gt="https://lexicon.33across.com/v1/envelope",mt="33acrossIdFp",vt=(0,ne.vM)({moduleType:de.fW,moduleName:ft}),bt={domainOverride:ht(vt,ft)};function yt(e,t,i){const n=X.t6.getConsentData(),r=X.et.getCoppa(),s=X.ad.getConsentData(),o={pid:e,gdpr:0,src:"pbjs",ver:"8.52.2",coppa:Number(r)};if(n&&(o.us_privacy=n),s){const{gppString:e="",applicableSections:t=[]}=s;o.gpp=e,o.gpp_sid=encodeURIComponent(t.join(","))}null!=t&&t.consentString&&(o.gdpr_consent=t.consentString);const a=function(e,t){let i;return t.find((t=>(t===ne.X0?i=vt.getCookie(e):t===ne.qk&&(i=vt.getDataFromLocalStorage(e)),!!i))),i}(mt,i);return a&&(o.fp=encodeURIComponent(a)),o}function At(e){if(vt.cookiesAreEnabled()){const t=new Date(0).toUTCString();vt.setCookie(e,"",t,"Lax",bt.domainOverride())}vt.removeDataFromLocalStorage(e)}function _t(e,t){e?function(e,t,i){let{enabledStorageTypes:n,expires:r}=i;n.forEach((i=>{if(i===ne.X0){const i=864e5*r,n=new Date(Date.now()+i);vt.setCookie(e,t,n.toUTCString(),"Lax",bt.domainOverride())}else i===ne.qk&&vt.setDataInLocalStorage(e,t)}))}(mt,e,t):At(mt)}const Et={name:ft,gvlid:58,decode:e=>({[ft]:{envelope:e}}),getId(e,t){let{params:i={},enabledStorageTypes:n=[],storage:r}=e;if("string"!=typeof i.pid)return void(0,_.vV)("".concat(ft,": Submodule requires a partner ID to be defined"));if(!0===(null==t?void 0:t.gdprApplies))return void(0,_.JE)("".concat(ft,": Submodule cannot be used where GDPR applies"));const{pid:s,storeFpid:o,apiUrl:a=gt}=i;return{callback(e){(0,pt.g4)(1e4)(a,{success(t){let i={};try{i=function(e){return e.succeeded?e.data.envelope?{envelope:e.data.envelope,fp:e.data.fp}:((0,_.OG)("".concat(ft,": No envelope was received")),{}):("Cookied User"==e.error?(0,_.OG)("".concat(ft,": Unsuccessful response").concat(" ",e.error)):(0,_.vV)("".concat(ft,": Unsuccessful response").concat(" ",e.error)),{})}(JSON.parse(t))}catch(e){(0,_.vV)("".concat(ft,": ID reading error:"),e)}i.envelope||At(ft),o&&_t(i.fp,{enabledStorageTypes:n,expires:r.expires}),e(i.envelope)},error(t){(0,_.vV)("".concat(ft,": ID error response"),t),e()}},yt(s,t,n),{method:"GET",withCredentials:!0})}}},domainOverride:bt.domainOverride,eids:{"33acrossId":{source:"33across.com",atype:1,getValue:function(e){return e.envelope}}}};(0,ee.bz)("userId",Et),(0,b.E)("33acrossIdSystem");var It=r(6449);const wt="criteo",St=(0,ne.vM)({moduleType:de.fW,moduleName:wt}),Ct="cto_bidid",Tt="cto_bundle",Ot="html5",xt="cookie",Rt=new Date(0).toString(),Dt=new Date((0,_.vE)()+33696e6).toString();function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=(0,_.Dl)(e,{noDecodeWholeURL:!0});return t?"".concat(i.hostname):"".concat(i.protocol,"://").concat(i.hostname).concat(i.port?":"+i.port:"","/")}function Bt(e,t){var i,n;return(null==e||null===(i=e.storage)||void 0===i?void 0:i.type)===Ot?St.getDataFromLocalStorage(t):(null==e||null===(n=e.storage)||void 0===n?void 0:n.type)===xt?St.getCookie(t):St.getCookie(t)||St.getDataFromLocalStorage(t)}function kt(e,t,i,n){var r,s;t&&i&&((null==e||null===(r=e.storage)||void 0===r?void 0:r.type)===Ot?St.setDataInLocalStorage(t,i):((null==e||null===(s=e.storage)||void 0===s?void 0:s.type)===xt||St.setDataInLocalStorage(t,i),Pt(t,i,Dt,n,!0)))}function Pt(e,t,i,n,r){const s=n.split(".");for(let n=0;n<s.length;++n){const o=s.slice(s.length-n-1,s.length).join(".");try{if(St.setCookie(e,t,i,null,"."+o),r){const i=St.getCookie(e);if(i&&i===t)break}}catch(e){}}}function $t(e,t,i){var n,r,s,o;const a=(void 0===(null==e||null===(n=e.storage)||void 0===n?void 0:n.type)||(null==e||null===(r=e.storage)||void 0===r?void 0:r.type)===xt)&&St.cookiesAreEnabled(),d=(void 0===(null==e||null===(s=e.storage)||void 0===s?void 0:s.type)||(null==e||null===(o=e.storage)||void 0===o?void 0:o.type)===Ot)&&St.localStorageIsEnabled(),c=Ut((0,It.EN)().page),l=Ut(document.location.href,!0),u="undefined"!=typeof criteo_pubtag,p=function(e,t,i,n,r,s,o){let a="https://gum.criteo.com/sid/json?origin=prebid"+"".concat(e?"&topUrl="+encodeURIComponent(e):"")+"".concat(t?"&domain="+encodeURIComponent(t):"")+"".concat(i?"&bundle="+encodeURIComponent(i):"")+"".concat(n?"&info="+encodeURIComponent(n):"")+"".concat(r?"&cw=1":"")+"".concat(o?"&pbt=1":"")+"".concat(s?"&lsw=1":"");const d=X.t6.getConsentData();d&&(a+="&us_privacy=".concat(encodeURIComponent(d)));const c=X.mW.getConsentData();c&&(a+="".concat(c.consentString?"&gdprString="+encodeURIComponent(c.consentString):""),a+="&gdpr=".concat(!0===c.gdprApplies?1:0));const l=X.ad.getConsentData();return l&&(a+="".concat(l.gppString?"&gpp="+encodeURIComponent(l.gppString):""),a+="".concat(l.applicableSections?"&gpp_sid="+encodeURIComponent(l.applicableSections):"")),a}(c,l,t.bundle,t.dnaBundle,a,d,u),h={success:t=>{const n=JSON.parse(t);if(n.pixels&&n.pixels.forEach((t=>function(e,t,i){i.writeBundleInStorage&&i.bundlePropertyName&&i.storageKeyName?(0,pt.RD)(i.pixelUrl,{success:n=>{if(n){const r=JSON.parse(n);r&&r[i.bundlePropertyName]&&kt(e,i.storageKeyName,r[i.bundlePropertyName],t)}},error:e=>{(0,_.vV)("criteoIdSystem: unable to sync user id",e)}},void 0,{method:"GET",withCredentials:!0}):(0,_.z$)(i.pixelUrl)}(e,l,t))),n.acwsUrl){("string"==typeof n.acwsUrl?[n.acwsUrl]:n.acwsUrl).forEach((e=>(0,_.z$)(e)))}else n.bundle&&kt(e,Tt,n.bundle,l);if(n.bidId){kt(e,Ct,n.bidId,l);const t={criteoId:n.bidId};i(t)}else Pt(r=Ct,"",Rt,l,!0),St.removeDataFromLocalStorage(r),i();var r},error:e=>{(0,_.vV)("criteoIdSystem: unable to sync user id",e),i()}};(0,pt.RD)(p,h,void 0,{method:"GET",contentType:"application/json",withCredentials:!0})}const Mt={name:wt,gvlid:91,decode:e=>e,getId(e){let t=function(e){return{bundle:Bt(e,Tt),dnaBundle:Bt(e,"cto_dna_bundle"),bidId:Bt(e,Ct)}}(e);return{id:t.bidId?{criteoId:t.bidId}:void 0,callback:i=>$t(e,t,i)}},eids:{criteoId:{source:"criteo.com",atype:1}}};(0,ee.bz)("userId",Mt),(0,b.E)("criteoIdSystem");var Lt=r(2179);function Nt(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function jt(e,t,i){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(t,e),i}const Ft=30,zt="id5id",qt="".concat(zt,"_privacy"),Vt="html5",Gt="User ID - ID5 submodule: ",Wt="id5-sync.com",Ht=["pbjs-id5id","id5id.1st","id5id"],Yt=(0,ne.vM)({moduleType:de.fW,moduleName:"id5Id"}),Jt={name:"id5Id",gvlid:131,decode(e,t){let i,n={};if(!e||"string"!=typeof e.universal_uid)return;i=e.universal_uid,n=e.ext||n;let r={id5id:{uid:i,ext:n}};(0,_.Qd)(n.euid)&&(r.euid={uid:n.euid.uids[0].id,source:n.euid.source,ext:{provider:Wt}});switch((0,A.A)(e,"ab_testing.result")){case"control":(0,_.fH)(Gt+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),(0,E.J)(r,"id5id.ext.abTestingControlGroup",!0);break;case"error":(0,_.vV)(Gt+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":(0,_.fH)(Gt+"A/B Testing - user is NOT in the Control Group"),(0,E.J)(r,"id5id.ext.abTestingControlGroup",!1)}return(0,_.fH)(Gt+"Decoded ID",r),r},getId(e,t,i){if(!gi(e))return;if(!_i(t))return void(0,_.fH)(Gt+"Skipping ID5 local storage write because no consent given.");return{callback:function(n){new si(e,t,i,X.t6.getConsentData(),X.ad.getConsentData()).execute().then((e=>{n(e)})).catch((e=>{(0,_.vV)(Gt+"getId fetch encountered an error",e),n()}))}}},extendId(e,t,i){if(!_i(t))return(0,_.fH)(Gt+"No consent given for ID5 local storage writing, skipping nb increment."),i;return yi(gi(e)?e.params.partner:0),(0,_.fH)(Gt+"using cached ID",i),i},eids:{id5id:{getValue:function(e){return e.uid},source:Wt,atype:1,getUidExt:function(e){if(e.ext)return e.ext}},euid:{getValue:function(e){return e.uid},getSource:function(e){return e.source},atype:3,getUidExt:function(e){if(e.ext)return e.ext}}}};var Kt=new WeakSet,Qt=new WeakSet,Xt=new WeakSet,Zt=new WeakSet,ei=new WeakSet,ti=new WeakSet,ii=new WeakSet,ni=new WeakSet,ri=new WeakSet;class si{constructor(e,t,i,n,r){Nt(this,ri),Nt(this,ni),Nt(this,ii),Nt(this,ti),Nt(this,ei),Nt(this,Zt),Nt(this,Xt),Nt(this,Qt),Nt(this,Kt),this.submoduleConfig=e,this.gdprConsentData=t,this.cacheIdObj=i,this.usPrivacyData=n,this.gppData=r}async execute(){const e=jt(this,ei,li).call(this);if(!jt(this,Kt,oi).call(this))return jt(this,Zt,ci).call(this,e);try{return await jt(this,Qt,ai).call(this,e)}catch(t){return(0,_.vV)(Gt+"Error while performing ID5 external module flow. Continuing with regular flow.",t),jt(this,Zt,ci).call(this,e)}}}function oi(){return"string"==typeof this.submoduleConfig.params.externalModuleUrl}async function ai(e){await async function(e){return new se.k(((t,i)=>{if(window.id5Prebid)t();else try{(0,Lt.R)(e,"id5",t)}catch(e){i(e)}}))}(this.submoduleConfig.params.externalModuleUrl);const t=await e;return jt(this,Xt,di).call(this).fetchId5Id(t,this.submoduleConfig.params,(0,It.EN)(),this.gdprConsentData,this.usPrivacyData,this.gppData)}function di(){return window.id5Prebid&&window.id5Prebid.integration}async function ci(e){const t=await e,i=await jt(this,ti,ui).call(this,t.extensionsCall),n=await jt(this,ii,pi).call(this,t.fetchCall,i);return jt(this,ri,fi).call(this,n)}async function li(){let e=this.submoduleConfig.params.configUrl||"https://id5-sync.com/api/config/prebid";const t=await(0,pt.hd)(e,{method:"POST",body:JSON.stringify({...this.submoduleConfig,bounce:!0}),credentials:"include"});if(!t.ok)throw new Error("Error while calling config endpoint: ",t);const i=await t.json();return(0,_.fH)(Gt+"config response received from the server",i),i}async function ui(e){if(void 0===e)return;const t=e.url,i=e.method||"GET",n="GET"===i?void 0:JSON.stringify(e.body||{}),r=await(0,pt.hd)(t,{method:i,body:n});if(!r.ok)throw new Error("Error while calling extensions endpoint: ",r);const s=await r.json();return(0,_.fH)(Gt+"extensions response received from the server",s),s}async function pi(e,t){const i=e.url,n=e.overrides||{},r=JSON.stringify({...jt(this,ni,hi).call(this),...n,extensions:t}),s=await(0,pt.hd)(i,{method:"POST",body:r,credentials:"include"});if(!s.ok)throw new Error("Error while calling fetch endpoint: ",s);const o=await s.json();return(0,_.fH)(Gt+"fetch response received from the server",o),o}function hi(){const e=this.submoduleConfig.params,t=this.gdprConsentData&&"boolean"==typeof this.gdprConsentData.gdprApplies&&this.gdprConsentData.gdprApplies?1:0,i=(0,It.EN)(),n=this.cacheIdObj&&this.cacheIdObj.signature?this.cacheIdObj.signature:function(){let e;return Ht.forEach((function(t){Yt.getCookie(t)&&(e=(0,_.$l)(Yt.getCookie(t))||e)})),e&&e.signature||""}(),r=function(e){const t=yi(e);return vi(e,0),t}(e.partner),s={partner:e.partner,gdpr:t,nbPage:r,o:"pbjs",tml:i.topmostLocation,ref:i.ref,cu:i.canonicalUrl,top:i.reachedTop?1:0,u:i.stack[0]||window.location.href,v:"8.52.2",storage:this.submoduleConfig.storage,localStorage:Yt.localStorageIsEnabled()?1:0};!t||void 0===this.gdprConsentData.consentString||(0,_.Im)(this.gdprConsentData.consentString)||(0,_.xQ)(this.gdprConsentData.consentString)||(s.gdpr_consent=this.gdprConsentData.consentString),void 0===this.usPrivacyData||(0,_.Im)(this.usPrivacyData)||(0,_.xQ)(this.usPrivacyData)||(s.us_privacy=this.usPrivacyData),this.gppData&&(s.gpp_string=this.gppData.gppString,s.gpp_sid=this.gppData.applicableSections),void 0===n||(0,_.xQ)(n)||(s.s=n),void 0===e.pd||(0,_.xQ)(e.pd)||(s.pd=e.pd),void 0===e.provider||(0,_.xQ)(e.provider)||(s.provider=e.provider);const o=e.abTesting||{enabled:!1};return o.enabled&&(s.ab_testing={enabled:!0,control_group_pct:o.controlGroupPct}),s}function fi(e){try{e.privacy&&Ai(qt,JSON.stringify(e.privacy),Ft)}catch(e){(0,_.vV)(Gt+"Error while writing privacy info into local storage.",e)}return e}function gi(e){if(!e||!e.params||!e.params.partner)return(0,_.vV)(Gt+"partner required to be defined"),!1;const t=e.params.partner;if("string"==typeof t||t instanceof String){let i=parseInt(t);if(isNaN(i)||i<0)return(0,_.vV)(Gt+"partner required to be a number or a String parsable to a positive integer"),!1;e.params.partner=i}else if("number"!=typeof t)return(0,_.vV)(Gt+"partner required to be a number or a String parsable to a positive integer"),!1;return e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==Vt&&(0,_.JE)(Gt+"storage type recommended to be '".concat(Vt,"'. In a future release this may become a strict requirement")),e.storage.name!==zt&&(0,_.JE)(Gt+"storage name recommended to be '".concat(zt,"'. In a future release this may become a strict requirement")),!0):((0,_.vV)(Gt+"storage required to be set"),!1)}function mi(e){return"".concat(zt,"_").concat(e,"_nb")}function vi(e,t){Ai(mi(e),t,Ft)}function bi(e){let t=function(e){const t=Yt.getDataFromLocalStorage("".concat(e,"_exp"));if(""===t)return Yt.getDataFromLocalStorage(e);if(t&&new Date(t).getTime()-Date.now()>0)return Yt.getDataFromLocalStorage(e);return Yt.removeDataFromLocalStorage(e),null}(mi(e));return t?parseInt(t):0}function yi(e){const t=bi(e)+1;return vi(e,t),t}function Ai(e,t,i){Yt.setDataInLocalStorage("".concat(e,"_exp"),function(e){return new Date(Date.now()+864e5*e).toUTCString()}(i)),Yt.setDataInLocalStorage("".concat(e),t)}function _i(e){const t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies,i=(0,A.A)(e,"vendorData.purpose.consents.1"),n=(0,A.A)(e,"vendorData.vendor.consents.".concat(131..toString()));return!!(!t||i&&n)}(0,ee.bz)("userId",Jt),(0,b.E)("id5IdSystem");const Ei="panoramaId",Ii="".concat(Ei,"_expiry"),wi="_cc_id",Si="lotamePanoramaId",Ci=(0,ne.vM)({moduleType:de.fW,moduleName:Si});let Ti;function Oi(e){let t=null;if(Ci.cookiesAreEnabled()&&(t=Ci.getCookie(e,void 0)),Ci.hasLocalStorage()&&null===t){const i=Ci.getDataFromLocalStorage("".concat(e,"_exp"),void 0);(""===i||null===i||i&&new Date(parseInt(i,10)).getTime()-Date.now()>0)&&(t=Ci.getDataFromLocalStorage(e,void 0))}return t}function xi(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,_.vE)()+6048e5;if(e&&t){let n=new Date(i).toUTCString();Ci.cookiesAreEnabled()&&Ci.setCookie(e,t,n,"Lax",Ti,void 0),Ci.hasLocalStorage()&&(Ci.setDataInLocalStorage("".concat(e,"_exp"),String(i),void 0),Ci.setDataInLocalStorage(e,t,void 0))}}function Ri(e){if(e){if(Ci.cookiesAreEnabled()){let t=new Date(0).toUTCString();Ci.setCookie(e,"",t,"Lax",Ti,void 0)}Ci.hasLocalStorage()&&Ci.removeDataFromLocalStorage(e,void 0)}}const Di={name:Si,gvlid:95,decode:(e,t)=>(0,_.O8)(e)?{lotamePanoramaId:e}:void 0,getId(e,t,i){Ti=Di.findRootDomain();const n=(e&&e.params||{}).clientId,r=!(0,_.Im)(n),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t={data:Oi(Ei),expiryTimestampMs:0,clientExpiryTimestampMs:0};try{if(e){const i=Oi("".concat(Ii,"_").concat(e));(0,_.O8)(i)&&(t.clientExpiryTimestampMs=parseInt(i,10))}const i=Oi(Ii);(0,_.O8)(i)&&(t.expiryTimestampMs=parseInt(i,10))}catch(e){(0,_.vV)(e)}return t}(n),o=Date.now()>s.expiryTimestampMs;if(r){if(Date.now()<s.clientExpiryTimestampMs)return{id:void 0,reason:"NO_CLIENT_CONSENT"}}if(!o)return{id:s.data};const a=function(){let e;return Ci.cookiesAreEnabled()&&(e=Ci.getCookie(wi,void 0)),!e&&Ci.hasLocalStorage()&&(e=Ci.getDataFromLocalStorage(wi,void 0)),e}(),d=X.t6.getConsentData();let c;void 0===d||(0,_.Im)(d)||(0,_.xQ)(d)||(c=d),c||(c=Oi("us_privacy"));return{callback:function(e){let i,s={};a&&(s.fp=a),t&&((0,_.Lm)(t.gdprApplies)&&(s.gdpr_applies=t.gdprApplies),i=t.consentString),i||(i=Oi("eupubconsent-v2")),i||(i=Oi("euconsent-v2")),i&&(s.gdpr_consent=i),c&&(s.us_privacy=c),r&&(s.c=n);const o=(0,_.c$)({protocol:"https",host:navigator.userAgent&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?"c.ltmsphrcl.net":"id.crwdcntrl.net",pathname:"/id",search:(0,_.Im)(s)?void 0:s});(0,pt.RD)(o,(t=>{let i;if(t)try{let s=JSON.parse(t);const o=!((0,_.cy)(s.errors)&&-1!==s.errors.indexOf(111));if(r)if(o)Ri("".concat(Ii,"_").concat(n));else if((0,_.O8)(s.no_consent)&&"CLIENT"===s.no_consent)return xi("".concat(Ii,"_").concat(n),s.expiry_ts,s.expiry_ts),void e();xi(Ii,s.expiry_ts,s.expiry_ts),(0,_.O8)(s.profile_id)?(o&&function(e){if(Ci.cookiesAreEnabled()){let t=new Date((0,_.vE)()+23328e6).toUTCString();Ci.setCookie(wi,e,t,"Lax",Ti,void 0)}Ci.hasLocalStorage()&&Ci.setDataInLocalStorage(wi,e,void 0)}(s.profile_id),(0,_.O8)(s.core_id)?(xi(Ei,s.core_id,s.expiry_ts),i=s.core_id):Ri(Ei)):(o&&Ri(wi),Ri(Ei))}catch(e){(0,_.vV)(e)}e(i)}),void 0,{method:"GET",withCredentials:!0})}}},eids:{lotamePanoramaId:{source:"crwdcntrl.net",atype:1}}};(0,ee.bz)("userId",Di),(0,b.E)("lotamePanoramaIdSystem");const Ui=(0,ne.vM)({moduleType:de.fW,moduleName:"sharedId"}),Bi="cookie",ki="html5",Pi="_pubcid_optout",$i="PublisherCommonId";function Mi(e,t){if(t===Bi)return Ui.getCookie(e);if(t===ki&&Ui.hasLocalStorage()){const t=Ui.getDataFromLocalStorage("".concat(e,"_exp"));if(!t)return Ui.getDataFromLocalStorage(e);if(new Date(t).getTime()-Date.now()>0)return Ui.getDataFromLocalStorage(e)}}function Li(e,t){return function(i,n){t?Ni(t,e,(()=>{i(n()||e)}))():i(e)}}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(!e)return;const n=(0,_.Dl)(e);n.search.id=encodeURIComponent("pubcid:"+t);const r=(0,_.c$)(n);return function(){(0,_.z$)(r,i)}}function ji(){return!!(Ui.cookiesAreEnabled()&&Mi(Pi,Bi)||Ui.hasLocalStorage()&&Mi(Pi,ki))}const Fi={name:"sharedId",aliasName:"pubCommonId",gvlid:X.B1,decode(e,t){if(ji())return void(0,_.fH)("PubCommonId decode: Has opted-out");(0,_.fH)(" Decoded value PubCommonId "+e);return{pubcid:e}},getId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(ji())return void(0,_.fH)("PubCommonId: Has opted-out");if(X.et.getCoppa())return void(0,_.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{create:i=!0,pixelUrl:n}={}}=e;let r=t;if(!r){try{"object"==typeof window[$i]&&(r=window[$i].getId())}catch(e){}r||(r=i&&(0,_.N9)()?(0,_.lk)():void 0)}return{id:r,callback:Li(r,n)}},extendId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>2?arguments[2]:void 0;if(ji())return(0,_.fH)("PubCommonId: Has opted-out"),{id:void 0};if(X.et.getCoppa())return void(0,_.fH)("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");const{params:{extend:i=!1,pixelUrl:n}={}}=e;if(i){if(n){return{callback:Ni(n,t)}}return{id:t}}},domainOverride:ht(Ui,"sharedId"),eids:{pubcid:{source:"pubcid.org",atype:1}}};(0,ee.bz)("userId",Fi),(0,b.E)("sharedIdSystem");var zi=r(6693);const qi=0,Vi=1,Gi=2;function Wi(e){let{apiName:t,apiVersion:i,apiArgs:n=["command","callback","parameter","version"],callbackArgs:r=["returnValue","success"],mode:s=qi}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;const a={},d="".concat(t,"Call"),c="".concat(t,"Return");function l(e){var t;const i="string"==typeof e.data&&e.data.includes(c)?JSON.parse(e.data):e.data;if(null!=i&&null!==(t=i[c])&&void 0!==t&&t.callId){const e=i[c];a.hasOwnProperty(e.callId)&&a[e.callId](...r.map((t=>e[t])))}}const[u,p]=function(){let e,i=o,n=!1;for(;null!=i;){try{if("function"==typeof i[t]){e=i,n=!0;break}}catch(e){}try{if(i.frames["".concat(t,"Locator")]){e=i;break}}catch(e){}if(i===o.top)break;i=i.parent}return[e,n]}();if(!u)return;function h(e){return e=Object.assign({version:i},e),n.map((t=>[t,e[t]]))}function f(e,t,i,n){const r="function"==typeof e;return function(o,a){if(n&&n(),s!==Vi){(null==a||a?t:i)(r?void 0:o)}r&&e.apply(this,arguments)}}let g;return p?g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new se.k(((i,n)=>{const r=u[t](...h({...e,callback:e.callback||s===Gi?f(e.callback,i,n):void 0}).map((e=>{let[t,i]=e;return i})));(s===Vi||null==e.callback&&s===qi)&&i(r)}))}:(o.addEventListener("message",l,!1),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new se.k(((i,n)=>{const r=Math.random().toString(),o={[d]:{...Object.fromEntries(h(e).filter((e=>{let[t]=e;return"callback"!==t}))),callId:r}};a[r]=f(null==e?void 0:e.callback,i,n,(t||null==(null==e?void 0:e.callback))&&(()=>{delete a[r]})),u.postMessage(o,"*"),s===Vi&&i()}))}),Object.assign(g,{isDirect:p,close(){!p&&o.removeEventListener("message",l)}})}const Hi=2;let Yi,Ji,Ki,Qi,Xi,Zi,en=!1;const tn={iab:function(e){let{onSuccess:t,onError:i,onEvent:n}=e;const r=Wi({apiName:"__tcfapi",apiVersion:Hi,apiArgs:["command","version","callback","parameter"]});if(!r)return i("TCF2 CMP not found.");r.isDirect?(0,_.fH)("Detected CMP API is directly accessible, calling it now..."):(0,_.fH)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now...");r({command:"addEventListener",callback:function(e,r){(0,_.fH)("Received a response from CMP",e),r?(n(e),!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||sn(e,{onSuccess:t,onError:i})):i("CMP unable to register callback function.  Please check CMP setup.")}})},static:function(e){let{onSuccess:t,onError:i}=e;sn(Qi,{onSuccess:t,onError:i})}};function nn(e){let t,i,n=!1,r=null,s=!1;function o(e){null!=r&&clearTimeout(r),n||null==e||(0===e?t():r=setTimeout(t,e))}function a(t,i,r){if(o(null),n=!0,X.mW.setConsentData(t),"function"==typeof e){for(var s=arguments.length,a=new Array(s>3?s-3:0),d=3;d<s;d++)a[d-3]=arguments[d];e(i,r,...a)}}if(!(0,I.mK)(Object.keys(tn),Yi))return void a(null,!1,"CMP framework (".concat(Yi,") is not a supported framework.  Aborting consentManagement module and resuming auction."));const d={onSuccess:e=>a(e,!1),onError:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];a(null,!0,e,...i)},onEvent:function(e){i=e,s||(s=!0,null!=Xi&&o(Xi))}};t=()=>{const e=e=>{a(e,!1,"".concat(s?"Timeout waiting for user action on CMP":"CMP did not load",", continuing auction..."))};sn(i,{onSuccess:e,onError:()=>e(on(void 0))})},tn[Yi](d),null!=Xi&&s||o(Ji)}const rn=(0,oe.Ak)("gdpr",(function(e,t){var i;i=function(i,n){if(n){let e=_.JE;i&&(e=_.vV,n="".concat(n," Canceling auction as per consentManagement config."));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];e(n,...s)}i?(e.stopTiming(),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():(0,_.vV)("Error executing bidsBackHandler")):e.call(this,t)},Zi?((0,_.fH)("User consent information already known.  Pulling internally stored information..."),i(!1)):nn(i)}));function sn(e,t){let{onSuccess:i,onError:n}=t;!function(){const t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ki,i=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||i&&(0,_.O8)(i)))}()?i(on(e)):n("CMP returned unexpected value during lookup process.",e)}function on(e){return Zi={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:Ki},e&&e.addtlConsent&&(0,_.O8)(e.addtlConsent)&&(Zi.addtlConsent=e.addtlConsent),Zi.apiVersion=Hi,Zi}y.$W.getConfig("consentManagement",(e=>function(e){if((e=e&&(e.gdpr||e.usp||e.gpp?e.gdpr:e))&&"object"==typeof e){var t;(0,_.O8)(e.cmpApi)?Yi=e.cmpApi:(Yi="iab",(0,_.fH)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),(0,_.Et)(e.timeout)?Ji=e.timeout:(Ji=1e4,(0,_.fH)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),Xi=(0,_.Et)(e.actionTimeout)?e.actionTimeout:null,Ki=!0===e.defaultGdprScope,(0,_.fH)("consentManagement module has been activated..."),"static"===Yi&&((0,_.Qd)(e.consentData)?(Qi=e.consentData,null!=(null===(t=Qi)||void 0===t?void 0:t.getTCData)&&(Qi=Qi.getTCData),Ji=0):(0,_.vV)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),en||(0,b.m)().requestBids.before(rn,50),en=!0,X.mW.enable(),nn()}else(0,_.JE)("consentManagement (gdpr) config not defined, exiting consent manager")}(e.consentManagement))),zi.w.before((function(e,t){return e(t.then((e=>{const t=X.mW.getConsentData();return t&&("boolean"==typeof t.gdprApplies&&(0,E.J)(e,"regs.ext.gdpr",t.gdprApplies?1:0),(0,E.J)(e,"user.ext.consent",t.consentString)),e})))})),j({type:B,name:"gdprAddtlConsent",fn:function(e,t){var i;const n=null===(i=t.gdprConsent)||void 0===i?void 0:i.addtlConsent;n&&"string"==typeof n&&(0,E.J)(e,"user.ext.ConsentedProvidersSettings.consented_providers",n)}}),(0,b.E)("consentManagement");const an="iab";let dn,cn,ln=an,un=50,pn=!1;const hn={iab:function(e){let{onSuccess:t,onError:i}=e;let n=function(){const e={};return{consentDataCallback:(n,r)=>{r&&n.uspString&&(e.usPrivacy=n.uspString),e.usPrivacy?mn(e,{onSuccess:t,onError:i}):i("Unable to get USP consent string.")}}}();const r=Wi({apiName:"__uspapi",apiVersion:1,apiArgs:["command","version","callback"]});if(!r)return i("USP CMP not found.");r.isDirect?(0,_.fH)("Detected USP CMP is directly accessible, calling it now..."):(0,_.fH)("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now...");r({command:"getUSPData",callback:n.consentDataCallback}),r({command:"registerDeletion",callback:(e,t)=>(null==t||t)&&v.Ay.callDataDeletionRequest(e)}).catch((e=>{(0,_.vV)("Error invoking CMP `registerDeletion`:",e)}))},static:function(e){let{onSuccess:t,onError:i}=e;mn(dn,{onSuccess:t,onError:i})}};function fn(e){let t=null,i=!1;function n(n,r){if(null!=t&&clearTimeout(t),i=!0,X.t6.setConsentData(n),null!=e){for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];e(r,...o)}}if(!hn[ln])return void n(null,"USP framework (".concat(ln,") is not a supported framework. Aborting consentManagement module and resuming auction."));const r={onSuccess:n,onError:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];n(null,"".concat(e," Resuming auction without consent data as per consentManagement config."),...i)}};hn[ln](r),i||(0===un?mn(void 0,r):t=setTimeout(r.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),un))}const gn=(0,oe.Ak)("usp",(function(e,t){var i=this;pn||vn(),fn((function(n){if(null!=n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];(0,_.JE)(n,...s)}e.call(i,t)}))}));function mn(e,t){let{onSuccess:i,onError:n}=t;!e||!e.usPrivacy?n("USPAPI returned unexpected value during lookup process.",e):(!function(e){e&&e.usPrivacy&&(cn=e.usPrivacy)}(e),i(cn))}function vn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pn||((0,_.fH)("USPAPI consentManagement module has been activated".concat(e?"":" using default values (api: '".concat(ln,"', timeout: ").concat(un,"ms)"))),pn=!0,X.t6.enable()),fn()}y.$W.getConfig("consentManagement",(e=>function(e){(e=e&&e.usp)&&"object"==typeof e||(0,_.JE)("consentManagement.usp config not defined, using defaults"),e&&(0,_.O8)(e.cmpApi)?ln=e.cmpApi:(ln=an,(0,_.fH)("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat(an,")."))),e&&(0,_.Et)(e.timeout)?un=e.timeout:(un=50,(0,_.fH)("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),"static"===ln&&((0,_.Qd)(e.consentData)&&(0,_.Qd)(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(dn={usPrivacy:e.consentData.getUSPData.uspString}),un=0):(0,_.vV)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),vn(!0)}(e.consentManagement))),(0,ee.Yn)("requestBids").before(gn,50),zi.w.before((function(e,t){return e(t.then((e=>{const t=X.t6.getConsentData();return t&&(0,E.J)(e,"regs.ext.us_privacy",t),e})))})),(0,b.E)("consentManagementUsp");var bn=r(3969);const yn={purpose:{},feature:{}},An={purpose:"purpose.consents",feature:"specialFeatureOptins"},_n={storage:{type:"purpose",default:{purpose:"storage",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]},id:1},basicAds:{type:"purpose",id:2,default:{purpose:"basicAds",enforcePurpose:!0,enforceVendor:!0,vendorExceptions:[]}},personalizedAds:{type:"purpose",id:4},measurement:{type:"purpose",id:7},transmitPreciseGeo:{type:"feature",id:1}},En=new Set,In=new Set,wn=new Set,Sn=new Set,Cn=new Set,Tn=new Set;let On=!1,xn=!1;const Rn=[de.tW,de.fW,de.Tn,de.zu],Dn="TCF2",Un=[],Bn=[2];function kn(e,t,i,n){let r=!!(0,A.A)(e,"vendorData.".concat(An[t],".").concat(i)),s=!!(0,A.A)(e,"vendorData.vendor.consents.".concat(n));return"purpose"===t&&Bn.includes(i)&&(r||(r=!!(0,A.A)(e,"vendorData.purpose.legitimateInterests.".concat(i))),s||(s=!!(0,A.A)(e,"vendorData.vendor.legitimateInterests.".concat(n)))),{purpose:r,vendor:s}}function Pn(e,t,i,n){const r=_n[e.purpose];if((e.vendorExceptions||[]).includes(i))return!0;const s=e.enforceVendor&&!(n===X.B1||(e.softVendorExceptions||[]).includes(i)),{purpose:o,vendor:a}=kn(t,r.type,r.id,n);let d=(!e.enforcePurpose||o)&&(!s||a);return n===X.ZH&&(d=!e.enforcePurpose||!!(0,A.A)(t,"vendorData.publisher.consents.".concat(r.id))),d}function $n(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>null;return function(r){const s=X.mW.getConsentData(),o=r[bn.iK];if(function(e,t,i){return null==e&&X.mW.enabled?((0,_.JE)("Attempting operation that requires purpose ".concat(t," consent while consent data is not available").concat(i?" (module: ".concat(i,")"):"",". Assuming no consent was given.")),!0):e&&e.gdprApplies}(s,e,o)){const e=function(e,t,i){if(t){const n=y.$W.getConfig("gvlMapping");if(n&&n[t])return n[t];if(e===de.tp)return"cdep"===t?X.ZH:X.B1;{let{gvlid:n,modules:r}=X.o2.get(t);if(null==n&&Object.keys(r).length>0)for(const i of Rn)if(r.hasOwnProperty(i)){n=r[i],i!==e&&(0,_.JE)("Multiple GVL IDs found for module '".concat(t,"'; using the ").concat(i," module's ID (").concat(n,") instead of the ").concat(e,"'s ID (").concat(r[e],")"));break}return null==n&&i&&(n=i()),n||null}}return null}(r[bn.Dk],o,n(r));let a=!!t(s,o,e);if(!a)return i&&i.add(o),{allow:a}}}}function Mn(e){return $n(e,((t,i,n)=>!!Pn(yn.purpose[e],t,i,n)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>null)}function Ln(e){return function(t){if(t[bn.Dk]!==de.tp)return e(t)}}const Nn=(jn=Mn(1,En),function(e){if(e[bn.Dk]!==de.tp||xn)return jn(e)});var jn;const Fn=Mn(1,En),zn=Mn(1,En),qn=Ln(Mn(2,In)),Vn=Mn(7,wn,(e=>function(e,t){var i;const n=v.Ay.getAnalyticsAdapter(e);return(i=>{if("function"!=typeof i)return i;try{return i.call(n.adapter,t)}catch(t){(0,_.vV)("Error invoking ".concat(e," adapter.gvlid()"),t)}})(null==n||null===(i=n.adapter)||void 0===i?void 0:i.gvlid)}(e[bn.iK],e[bn.TQ]))),Gn=Mn(4,Sn),Wn=Ln((()=>{const e=$n("2-10",(function(e,t,i){for(let s=2;s<=10;s++){var n,r;if(null!==(n=yn.purpose[s])&&void 0!==n&&null!==(n=n.vendorExceptions)&&void 0!==n&&n.includes(t))return!0;const{purpose:o,vendor:a}=kn(e,"purpose",s,i);if(o&&(a||null!==(r=yn.purpose[s])&&void 0!==r&&null!==(r=r.softVendorExceptions)&&void 0!==r&&r.includes(t)))return!0}return!1}),Cn),t=Mn(4,Cn);return function(){var i;return(null!==(i=yn.purpose[4])&&void 0!==i&&i.eidsRequireP4Consent?t:e).apply(this,arguments)}})()),Hn=$n("Special Feature 1",((e,t,i)=>Pn(yn.feature[1],e,t,i)),Tn);Q.on(Z.qY.AUCTION_END,(function(){const e=function(e){return Array.from(e.keys()).filter((e=>null!=e))},t={storageBlocked:e(En),biddersBlocked:e(In),analyticsBlocked:e(wn),ufpdBlocked:e(Sn),eidsBlocked:e(Cn),geoBlocked:e(Tn)};Q.emit(Z.qY.TCF2_ENFORCEMENT,t),[En,In,wn,Sn,Cn,Tn].forEach((e=>e.clear()))})),y.$W.getConfig("consentManagement",(e=>function(e){let t=(0,A.A)(e,"gdpr.rules");t||(0,_.JE)("TCF2: enforcing P1 and P2 by default"),t=Object.fromEntries((t||[]).map((e=>[e.purpose,e]))),xn=!!(0,A.A)(e,"strictStorageEnforcement"),Object.entries(_n).forEach((e=>{var i;let[n,r]=e;yn[r.type][r.id]=null!==(i=t[n])&&void 0!==i?i:r.default})),On||(null!=yn.purpose[1]&&(On=!0,Un.push((0,ce.qB)(le.Ue,Dn,Nn)),Un.push((0,ce.qB)(le.Ml,Dn,Fn)),Un.push((0,ce.qB)(le.yl,Dn,zn))),null!=yn.purpose[2]&&Un.push((0,ce.qB)(le.uc,Dn,qn)),null!=yn.purpose[4]&&Un.push((0,ce.qB)(le.DL,Dn,Gn),(0,ce.qB)(le.qX,Dn,Gn)),null!=yn.purpose[7]&&Un.push((0,ce.qB)(le.mo,Dn,Vn)),null!=yn.feature[1]&&Un.push((0,ce.qB)(le.hE,Dn,Hn)),Un.push((0,ce.qB)(le.hq,Dn,Wn)))}(e.consentManagement))),(0,b.E)("gdprEnforcement");let Yn=[];const Jn=(0,oe.Ak)("fpd",(function(e,t){(function(){let{global:e={},bidder:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=y.$W.getConfig("firstPartyData")||{},n=se.k.resolve({global:e,bidder:t});return Yn.sort(((e,t)=>(e.queue||1)-(t.queue||1))).forEach((e=>{n=n.then((t=>{let{global:n,bidder:r}=t;return se.k.resolve(e.processFpd(i,{global:n,bidder:r})).catch((t=>((0,_.vV)("Error in FPD module ".concat(e.name),t),{}))).then((e=>({global:e.global||n,bidder:e.bidder||r})))}))})),n})(t.ortb2Fragments).then((i=>{Object.assign(t.ortb2Fragments,i),e.call(this,t)}))}));(0,ee.xG)("firstPartyData",(function(e){Yn.push(e)})),(0,ee.Yn)("startAuction").before(Jn,10),(0,b.E)("fpdModule");const Kn=21,Qn=1;let Xn=!1,Zn=[];const er={maxTopicCaller:4,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html"},{bidder:"rtbhouse",iframeURL:"https://topics.authorizedvault.com/topicsapi.html"},{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html"},{bidder:"improvedigital",iframeURL:"https://hb.360yield.com/privacy-sandbox/topics.html"},{bidder:"onetag",iframeURL:"https://onetag-sys.com/static/topicsapi.html"},{bidder:"taboola",iframeURL:"https://cdn.taboola.com/libtrc/static/topics/taboola-prebid-browsing-topics.html"},{bidder:"discovery",iframeURL:"https://api.popin.cc/topic/prebid-topics-frame.html"},{bidder:"undertone",iframeURL:"https://creative-p.undertone.com/spk-public/topics_frame.html"},{bidder:"vidazoo",iframeURL:"https://static.vidazoo.com/topics_api/topics_frame.html"}]},tr=(0,ne.CK)("topicsFpd"),ir="prebid:topics",nr="lastUpdated",rr={1:600,2:601,3:602,4:603};function sr(e,t){return t.reduce(((t,i)=>{const n=i[e];return t.hasOwnProperty(n)||(t[n]=[]),t[n].push(i),t}),{})}function or(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rr;return Object.entries(sr("taxonomyVersion",t)).filter((e=>{let[t]=e;return!!i.hasOwnProperty(t)||((0,_.JE)('Unrecognized taxonomyVersion from Topics API: "'.concat(t,'"; topic will be ignored')),!1)})).flatMap((t=>{let[n,r]=t;return Object.entries(sr("modelVersion",r)).map((t=>{let[r,s]=t;const o={ext:{segtax:i[n],segclass:r},segment:s.map((e=>({id:e.topic.toString()})))};return null!=e&&(o.name=e),o}))}))}function ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return"browsingTopics"in e&&e.featurePolicy.allowsFeature("browsing-topics")}const dr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=null;try{ar(e)&&(t=se.k.resolve(e.browsingTopics()))}catch(e){(0,_.vV)("Could not call topics API",e)}return null==t&&(t=se.k.resolve([])),t}().then((e=>or((0,It.EN)().domain,e)));function cr(){let e=[];const t=(y.$W.getConfig("userSync.topics")||er).bidders||[];let i=new Map((0,_.$l)(tr.getDataFromLocalStorage(ir)));return i&&i.forEach(((n,r)=>{let s=t.find((e=>{let{bidder:t}=e;return r===t}));s&&(0,ce.io)(le.qX,(0,ue.s)(de.tW,r))&&(pr(n[nr],(null==s?void 0:s.expiry)||Kn)?(i.delete(r),tr.setDataInLocalStorage(ir,JSON.stringify([...i]))):Object.keys(n).forEach((t=>{t!==nr&&e.push(n[t])})))})),e}function lr(e){if(e&&e.data)try{let t=(0,_.$l)(e.data);if((0,I.mK)(Zn,e.origin)&&t&&t.segment&&!(0,_.Im)(t.segment.topics)){const{domain:e,topics:i,bidder:n}=t.segment,r=or(e,i);r&&ur(n,r)}}catch(e){}}function ur(e,t){const i=new Map((0,_.$l)(tr.getDataFromLocalStorage(ir))),n={[nr]:(new Date).getTime()};t.forEach((e=>{n[e.ext.segclass]=e})),i.set(e,n),tr.setDataInLocalStorage(ir,JSON.stringify([...i]))}function pr(e,t){const i=(new Date).getTime();return Math.ceil((i-e)/864e5)>t}function hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!ar(e))return;const t=y.$W.getConfig("userSync.topics")||er;if(t){window.addEventListener("message",lr,!1);const r=(i=t.bidders||[],n=t.maxTopicCaller||1,[...i].sort((()=>.5-Math.random())).slice(0,n));r&&r.forEach((t=>{let{bidder:i,iframeURL:n,fetchUrl:r,fetchRate:s}=t;if(i&&n){let t=e.createElement("iframe");t.name="ifrm_".concat(i),t.src="".concat(n,"?bidder=").concat(i),t.style.display="none",o=new URL(n).origin,Zn.push(o),n&&e.documentElement.appendChild(t)}var o;if(i&&r){const e=new Map((0,_.$l)(tr.getDataFromLocalStorage(ir))).get(i);(!e||e&&pr(e[nr],s||Qn))&&window.fetch("".concat(r,"?bidder=").concat(i),{browsingTopics:!0}).then((e=>e.json())).then((e=>{if(e&&e.segment&&!(0,_.Im)(e.segment.topics)){const{domain:t,topics:i,bidder:n}=e.segment,r=or(t,i);r&&ur(n,r)}}))}}))}else(0,_.JE)("Topics config not defined under userSync Object");var i,n}(0,ee.bz)("firstPartyData",{name:"topics",queue:1,processFpd:function(e,t){let{global:i}=t,{data:n=dr}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Xn||(hr(),Xn=!0),n.then((e=>((e=[].concat(e,cr())).length&&(0,_.D9)(i,{user:{data:e}}),{global:i})))}}),(0,b.E)("topicsFpdModule");var fr=r(5388),gr=r(3210),mr=r(1610),vr=r(6021);const br="hb_pb_cat_dur",yr="hb_cache_id";let Ar=50,_r=5,Er=function(){let e={};function t(t){e[t]={},e[t].bidStorage=new Set,e[t].queueDispatcher=function(e){let t,i=1;return function(n,r,s,o){const a=this;var d=function(){wr.call(a,n,r,s)};clearTimeout(t),o?i=1:i===_r?(i=1,d()):(i++,t=setTimeout(d,e))}}(Ar),e[t].initialCacheKey=(0,_.lk)()}return{addBid:function(i){e[i.auctionId]||t(i.auctionId),e[i.auctionId].bidStorage.add(i)},removeBid:function(t){e[t.auctionId].bidStorage.delete(t)},getBids:function(t){return e[t.auctionId]&&e[t.auctionId].bidStorage.values()},getQueueDispatcher:function(t){return e[t.auctionId]&&e[t.auctionId].queueDispatcher},setupInitialCacheKey:function(t){e[t.auctionId]||(e[t.auctionId]={},e[t.auctionId].initialCacheKey=(0,_.lk)())},getInitialCacheKey:function(t){return e[t.auctionId]&&e[t.auctionId].initialCacheKey}}}();function Ir(e,t){let i=Er.getInitialCacheKey(e),n=(0,A.A)(e,"video.durationBucket");const r=function(e){let t;if(y.$W.getConfig("adpod.prioritizeDeals")&&(0,A.A)(e,"video.dealTier")){const i=y.$W.getConfig("adpod.dealTier.".concat(e.bidderCode,".prefix"));t=i?i+(0,A.A)(e,"video.dealTier"):(0,A.A)(e,"video.dealTier")}else{const i=(0,fr.mO)(e);t=(0,fr.ZV)(i)(e)}return t}(e);let s;if(t){let t=(0,A.A)(e,"meta.adServerCatId");s="".concat(r,"_").concat(t,"_").concat(n,"s")}else s="".concat(r,"_").concat(n,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting[br]=s,e.adserverTargeting[yr]=i,e.videoCacheKey=i,e.customCacheKey="".concat(s,"_").concat(i)}function wr(e,t,i){!function(e){for(let t=0;t<e.length;t++)Er.removeBid(e[t])}(t),(0,mr.M_)(t,(function(n,r){if(n)(0,_.JE)("Failed to save to the video cache: ".concat(n,". Video bid(s) must be discarded."));else for(let n=0;n<r.length;n++)""!==r[n].uuid?(0,fr.v8)(e,t[n]):(0,_.fH)("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(t[n].customCacheKey,". Bid was: "),t[n]),i()}))}function Sr(e,t,i,n,r){if(r&&r.context===w.LM){let e=y.$W.getConfig("adpod.brandCategoryExclusion");!(0,A.A)(i,"meta.adServerCatId")&&e?((0,_.JE)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",i),n()):!1===y.$W.getConfig("adpod.deferCaching")?(Er.addBid(i),Ir(i,e),function(e,t,i){let n=Er.getBids(t);if(n){let r=(0,I.A6)(n),s=Er.getQueueDispatcher(t),o=!(e.getAuctionStatus()===fr.AA);s(e,r,i,o)}else(0,_.JE)("Attempted to cache a bid from an unknown auction. Bid:",t)}(t,i,n)):(Er.setupInitialCacheKey(i),Ir(i,e),(0,fr.v8)(t,i),n())}else e.call(this,t,i,n,r)}function Cr(e,t){let i=t.filter((e=>{let t=(0,A.A)(e,"mediaTypes"),i=(0,A.A)(t,"video");if(i&&i.context===w.LM){if(Object.keys(t).length>1)return(0,_.JE)("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;let n="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),r=!!(i.playerSize&&((0,_.Uu)(i.playerSize,2)||(0,_.cy)(i.playerSize)&&i.playerSize.every((e=>(0,_.Uu)(e,2))))||i.sizeConfig),s=!!(i.adPodDurationSec&&(0,_.Et)(i.adPodDurationSec)&&i.adPodDurationSec>0),o=!!(i.durationRangeSec&&(0,_.Uu)(i.durationRangeSec)&&i.durationRangeSec.every((e=>e>0)));if(!r||!s||!o)return n+=r?"":"\nmediaTypes.video.playerSize",n+=s?"":"\nmediaTypes.video.adPodDurationSec",n+=o?"":"\nmediaTypes.video.durationRangeSec",(0,_.JE)(n),!1}return!0}));t=i,e.call(this,t)}function Tr(e,t,i,n,r){if(r===w.LM){let i=!0;if(y.$W.getConfig("adpod.brandCategoryExclusion")&&!(0,A.A)(t,"meta.primaryCatId")&&(i=!1),(0,A.A)(t,"video"))if((0,A.A)(t,"video.context")&&t.video.context===w.LM||(i=!1),!(0,A.A)(t,"video.durationSeconds")||t.video.durationSeconds<=0)i=!1;else{let e=function(e,t){let i=(0,A.A)(t,"video.durationSeconds"),n=e.durationRangeSec;if(n.sort(((e,t)=>e-t)),e.requireExactDuration){if(!(0,I.I6)(n,(e=>e===i)))return(0,_.JE)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=i}else{let e=Math.max(...n);if(!(i<=e+2))return(0,_.JE)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;{let e=(0,I.I6)(n,(e=>e+2>=i));t.video.durationBucket=e}}return!0}(n,t);e||(i=!1)}y.$W.getConfig("cache.url")||!t.vastXml||t.vastUrl||((0,_.vV)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),i=!1),e.bail(i)}else e.call(this,t,i,n,r)}function Or(e,t){return e.adserverTargeting[Z.xS.PRICE_BUCKET]/e.video.durationBucket<t.adserverTargeting[Z.xS.PRICE_BUCKET]/t.video.durationBucket?1:e.adserverTargeting[Z.xS.PRICE_BUCKET]/e.video.durationBucket>t.adserverTargeting[Z.xS.PRICE_BUCKET]/t.video.durationBucket?-1:0}y.$W.getConfig("adpod",(e=>function(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&e.bidQueueTimeDelay>0?Ar=e.bidQueueTimeDelay:(0,_.JE)("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(Ar))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&e.bidQueueSizeLimit>0?_r=e.bidQueueSizeLimit:(0,_.JE)("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(_r)))}(e.adpod))),(0,ee.pT)((0,ee.Yn)("callPrebidCache"),Sr),(0,ee.pT)(m.Z,Cr),(0,ee.pT)(gr.E2,Tr);const xr={TARGETING_KEY_PB_CAT_DUR:br,TARGETING_KEY_CACHE_ID:yr,getTargeting:function(){let{codes:e,callback:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return void(0,_.vV)("No callback function was defined in the getTargeting call.  Aborting getTargeting().");e=e||[];const i=function(e){return vr.n.getAdUnits().filter((e=>(0,A.A)(e,"mediaTypes.video.context")===w.LM)).filter((t=>!(e.length>0)||-1!=e.indexOf(t.code)))}(e),n=vr.n.getBidsReceived(),r=y.$W.getConfig("adpod.brandCategoryExclusion"),s=y.$W.getConfig("adpod.deferCaching"),o="boolean"!=typeof s||s;let a=function(e,t){let i=t.map((e=>e.code));return e.filter((e=>-1!=i.indexOf(e.adUnitCode)&&e.video&&e.video.context===w.LM))}(n,i);if(a=r||o?function(e){let t=e.map((e=>Object.assign({},e,{[br]:e.adserverTargeting[br]})));t=(0,_.$z)(t,br);let i=[];return Object.keys(t).forEach((e=>{var n;t[e].sort((n="responseTimestamp",function(e,t){return e[n]<t[n]?1:e[n]>t[n]?-1:0})),i.push(t[e][0])})),i}(a):a,y.$W.getConfig("adpod.prioritizeDeals")){let[e,t]=a.reduce(((e,t)=>{let i=(0,A.A)(t,"video.dealTier"),n=y.$W.getConfig("adpod.dealTier.".concat(t.bidderCode,".minDealTier"));return n&&i?i>=n?e[1].push(t):e[0].push(t):i?e[1].push(t):e[0].push(t),e}),[[],[]]);t.sort(Or),e.sort(Or),a=t.concat(e)}else a.sort(Or);let d={};if(!1===o)i.forEach((e=>{let t=[],i=(0,A.A)(e,"mediaTypes.video.adPodDurationSec");a.filter((t=>t.adUnitCode===e.code)).forEach(((e,n,r)=>{e.video.durationBucket<=i&&(t.push({[br]:e.adserverTargeting[br]}),i-=e.video.durationBucket),n===r.length-1&&t.length>0&&t.push({[yr]:e.adserverTargeting[yr]})})),d[e.code]=t})),t(null,d);else{let e=[];i.forEach((t=>{let i=(0,A.A)(t,"mediaTypes.video.adPodDurationSec");a.filter((e=>e.adUnitCode===t.code)).forEach((t=>{t.video.durationBucket<=i&&(e.push(t),i-=t.video.durationBucket)}))})),function(e,t){(0,mr.M_)(e,(function(i,n){if(i)t(i,null);else{let i=[];for(let t=0;t<n.length;t++)""!==n[t]&&i.push(e[t]);t(null,i)}}))}(e,(function(e,i){if(e)t(e,null);else{let e=(0,_.$z)(i,"adUnitCode");Object.keys(e).forEach((t=>{let i=[];e[t].forEach(((e,t,n)=>{i.push({[br]:e.adserverTargeting[br]}),t===n.length-1&&i.length>0&&i.push({[yr]:e.adserverTargeting[yr]})})),d[t]=i})),t(null,d)}}))}return d}};Object.freeze(xr),(0,ee.xG)("adpod",(function(){(0,_.Qd)(arguments.length<=0?void 0:arguments[0])?function(e,t){for(let i in t)e[i]=t[i]}(arguments.length<=0?void 0:arguments[0],xr):(0,_.vV)("Adpod module needs plain object to share methods with submodule")})),(0,b.E)("adpod");const Rr=(0,b.m)();var Dr=r(574),Ur=r(4703);const Br={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},kr={},Pr={ri:It.EN};function $r(e,t,i){return(0,A.A)(t,"".concat(i,".description_url"))||encodeURIComponent(Pr.ri().page)}function Mr(e,t,i){const n=e&&e.adserverTargeting||{};let r={};const s=t&&t.adUnit;if(s&&!t.noTargeting){let e=Dr.iS.getAllTargeting(s.code,void 0,t);r=e?e[s.code]:{}}const o=Object.assign({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},r,n);Q.emit(Z.qY.SET_TARGETING,{[s.code]:o});const a=(0,A.A)(t,"params.cust_params"),d=Object.assign({},o,a);let c=encodeURIComponent((0,_.eP)(d));return i&&(c=i+"%26"+c),c}y.$W.getConfig("brandCategoryTranslation.translationFile")&&(0,ee.Yn)("registerAdserver").before((function(e){e.call(this,"dfp")})),function(e,t){Rr.adServers=Rr.adServers||{},Rr.adServers[e]=Rr.adServers[e]||{},Object.keys(t).forEach((i=>{Rr.adServers[e][i]?(0,_.JE)("Attempting to add an already registered function property ".concat(i," for AdServer ").concat(e,".")):Rr.adServers[e][i]=t[i]}))}("dfp",{buildVideoUrl:function(e){var t,i,n,r;if(!e.params&&!e.url)return void(0,_.vV)("A params object or a url is required to use YMPB.adServers.dfp.buildVideoUrl");const s=e.adUnit;let o=e.bid||Dr.iS.getWinningBids(s.code)[0];e.noTargeting&&(o=void 0);let a={};if(e.url&&(a=(0,_.Dl)(e.url,{noDecodeWholeURL:!0}),(0,_.Im)(e.params)))return function(e,t,i){const n=$r(t,e,"search");n&&(e.search.description_url=n);return e.search.cust_params=Mr(t,i,e.search.cust_params),(0,_.c$)(e)}(a,o,e);const d={correlator:Date.now(),sz:(0,_.kK)((0,A.A)(s,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},c=a.search,l=c&&c.sz;l&&(d.sz=l+"|"+d.sz);let u=Mr(o,e,c&&c.cust_params);const p=Object.assign({},Br,a.search,d,e.params,{cust_params:u}),h=$r(o,e,"params");h&&(p.description_url=h);const f=X.mW.getConsentData();if(f&&("boolean"==typeof f.gdprApplies&&(p.gdpr=Number(f.gdprApplies)),f.consentString&&(p.gdpr_consent=f.consentString),f.addtlConsent&&(p.addtl_consent=f.addtlConsent)),!p.ppid){const e=re();null!=e&&(p.ppid=e)}const g=null===(t=e.adUnit)||void 0===t||null===(t=t.mediaTypes)||void 0===t?void 0:t.video;Object.entries({plcmt:()=>null==g?void 0:g.plcmt,min_ad_duration:()=>(0,_.Et)(null==g?void 0:g.minduration)?1e3*g.minduration:null,max_ad_duration:()=>(0,_.Et)(null==g?void 0:g.maxduration)?1e3*g.maxduration:null,vpos(){const e=null==g?void 0:g.startdelay;if((0,_.Et)(e))return-2===e?"postroll":-1===e||e>0?"midroll":"preroll"},vconp:()=>Array.isArray(null==g?void 0:g.playbackmethod)&&g.playbackmethod.every((e=>7===e))?"2":void 0,vpa(){if(Array.isArray(null==g?void 0:g.playbackmethod)){const e=g.playbackmethod.some((e=>3===e)),t=g.playbackmethod.some((e=>[1,2,4,5,6].includes(e)));if(e&&!t)return"click";if(t&&!e)return"auto"}},vpmute(){if(Array.isArray(null==g?void 0:g.playbackmethod)){const e=g.playbackmethod.some((e=>[2,6].includes(e))),t=g.playbackmethod.some((e=>[1,3,4,5].includes(e)));if(e&&!t)return"1";if(t&&!e)return"0"}}}).forEach((e=>{let[t,i]=e;if(!p.hasOwnProperty(t)){const e=i();null!=e&&(p[t]=e)}}));const m=null!==(i=null===(n=vr.n.index.getBidRequest(e.bid||{}))||void 0===n?void 0:n.ortb2)&&void 0!==i?i:null===(r=vr.n.index.getAuction(e.bid||{}))||void 0===r||null===(r=r.getFPD())||void 0===r?void 0:r.global;function v(e,t){return e.flatMap((e=>(0,A.A)(m,e)||[])).filter((e=>{var i;return(null===(i=e.ext)||void 0===i?void 0:i.segtax)===t})).flatMap((e=>{var t;return null===(t=e.segment)||void 0===t?void 0:t.map((e=>e.id))})).filter((e=>e)).filter(_.hj)}const b=Object.entries({IAB_AUDIENCE_1_1:v(["user.data"],4),IAB_CONTENT_2_2:v(Ur.Dy.map((e=>"".concat(e,".content.data"))),6)}).map((e=>{let[t,i]=e;return i.length?{taxonomy:t,values:i}:null})).filter((e=>e));return b.length&&(p.ppsj=btoa(JSON.stringify({PublisherProvidedTaxonomySignals:b}))),o&&!o.trackingId&&vr.n.addWinningBid(o),(0,_.c$)(Object.assign({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},a,{search:p}))},buildAdpodVideoUrl:function(){let{code:e,params:t,callback:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t||!i)return void(0,_.vV)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl");const n={correlator:Date.now(),sz:function(e){let t=vr.n.getAdUnits().filter((t=>t.code===e)),i=(0,A.A)(t[0],"mediaTypes.video.playerSize");return(0,_.kK)(i).join("|")}(e),url:encodeURIComponent(location.href)};kr.getTargeting({codes:[e],callback:function(r,s){if(r)return void i(r,null);let o={[kr.TARGETING_KEY_PB_CAT_DUR]:void 0,[kr.TARGETING_KEY_CACHE_ID]:void 0},a={};s[e]&&(a=s[e].reduce(((e,t)=>(Object.keys(t)[0]===kr.TARGETING_KEY_PB_CAT_DUR?e[kr.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[kr.TARGETING_KEY_PB_CAT_DUR]?e[kr.TARGETING_KEY_PB_CAT_DUR]+","+t[kr.TARGETING_KEY_PB_CAT_DUR]:t[kr.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===kr.TARGETING_KEY_CACHE_ID&&(e[kr.TARGETING_KEY_CACHE_ID]=t[kr.TARGETING_KEY_CACHE_ID]),e)),o));let d=encodeURIComponent((0,_.eP)(a));const c=Object.assign({},Br,n,t,{cust_params:d}),l=X.mW.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(c.gdpr=Number(l.gdprApplies)),l.consentString&&(c.gdpr_consent=l.consentString),l.addtlConsent&&(c.addtl_consent=l.addtlConsent));const u=(0,_.c$)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:c});i(null,u)}})},getAdpodTargeting:e=>kr.getTargeting(e)}),(0,ee.bz)("adpod",kr),(0,b.E)("dfpAdServerVideo");let Lr={},Nr=!1;const jr=e=>(y.$W.getConfig("gptPreAuction")||{}).mcmEnabled?e.replace(/(^\/\d*),\d*\//,"$1/"):e,Fr=function(e,t){(e=>{const{customGptSlotMatching:t}=Lr;if(!(0,_.II)())return;const i=e.reduce(((e,t)=>(e[t.code]=e[t.code]||[],e[t.code].push(t),e)),{});window.googletag.pubads().getSlots().forEach((e=>{const n=(0,I.I6)(Object.keys(i),t?t(e):(0,_.iC)(e));if(n){const t={name:"gam",adslot:jr(e.getAdUnitPath())};i[n].forEach((e=>{var i;(0,E.J)(e,"ortb2Imp.ext.data.adserver",Object.assign({},null===(i=e.ortb2Imp)||void 0===i||null===(i=i.ext)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.adserver,t))}))}}))})(t);const{useDefaultPreAuction:i,customPreAuction:n}=Lr;t.forEach((e=>{e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{};const t=e.ortb2Imp.ext;if(n||i){let r,s=(0,A.A)(t,"data.adserver.adslot");n?r=n(e,s):i&&(r=((e,t)=>{const i=e.ortb2Imp.ext.data;if(i.pbadslot)return i.pbadslot;if((0,_.II)()){var n=window.googletag.pubads().getSlots().filter((e=>e.getAdUnitPath()===t));if(0!==n.length)return 1===n.length?t:"".concat(t,"#").concat(e.code)}})(e,s)),r&&(t.gpid=t.data.pbadslot=r)}else{const i=(e=>{const t=e.ortb2Imp.ext.data,{customPbAdSlot:i}=Lr;if(!t.pbadslot)if(i)t.pbadslot=i(e.code,(0,A.A)(t,"adserver.adslot"));else{try{const i=document.getElementById(e.code);if(i.dataset.adslotid)return void(t.pbadslot=i.dataset.adslotid)}catch(e){}if(!(0,A.A)(t,"adserver.adslot"))return t.pbadslot=e.code,!0;t.pbadslot=t.adserver.adslot}})(e);t.gpid||i||(t.gpid=t.data.pbadslot)}}));for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return e.call(undefined,t,...s)},zr=e=>{Lr=(0,_.Up)(e,["enabled",e=>!1!==e,"customGptSlotMatching",e=>"function"==typeof e&&e,"customPbAdSlot",e=>"function"==typeof e&&e,"customPreAuction",e=>"function"==typeof e&&e,"useDefaultPreAuction",e=>!0===e]),Lr.enabled?Nr||((0,ee.Yn)("makeBidRequests").before(Fr),Nr=!0):((0,_.fH)("".concat("GPT Pre-Auction",": Turning off module")),Lr={},(0,ee.Yn)("makeBidRequests").getHooks({hook:Fr}).remove(),Nr=!1)};y.$W.getConfig("gptPreAuction",(e=>zr(e.gptPreAuction))),zr({}),(0,b.E)("gptPreAuction");var qr=r(9846);function Vr(e,t,i){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t===i)return e;let r=e;try{r=(0,b.m)().convertCurrency(e,t,i)}catch(e){if(!n)throw e}return r}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>[e.cpm,e.currency],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vr;return function(n,r){return null==e&&(e=r),i(n,r,e,t)}}();return(0,qr.NV)((i=>t.apply(null,e(i))))}const Wr=()=>function(e){const t=new WeakMap;return function(i){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e(i);if(null!=r)return t.has(r)||t.set(r,n),t.get(r)}}((e=>vr.n.index.getAuction({auctionId:e}))),Hr="PAAPI",Yr=[],Jr=new WeakSet;(0,ee.xG)("paapi",(function(e){Yr.push(e),e.init&&e.init({getPAAPIConfig:ds,expandFilters:as})}));const Kr=Wr(),Qr=Wr(),Xr=Wr();let Zr={},es={};function ts(e,t,i){!e.hasOwnProperty(t)&&(e[t]=[]),e[t].push(i)}function is(e,t){var i,n;let{ortb2:r,ortb2Imp:s}=t;return"string"==typeof e&&(e=(0,_.$l)(e)||{}),null!=r&&(0,E.J)(e,"prebid.ortb2",(0,_.D9)({},r,null===(i=e.prebid)||void 0===i?void 0:i.ortb2)),null!=s&&(0,E.J)(e,"prebid.ortb2Imp",(0,_.D9)({},s,null===(n=e.prebid)||void 0===n?void 0:n.ortb2Imp)),e}["paapi","fledgeForGpt"].forEach((e=>{y.$W.getConfig(e,(t=>{!function(e,t){"paapi"!==t&&(0,_.JE)("'".concat(t,"' configuration options will be renamed to 'paapi'; consider using setConfig({paapi: [...]}) instead"));e&&!0===e.enabled?(es=e,(0,_.fH)("".concat(Hr," enabled (browser ").concat(cs()?"supports":"does NOT support"," runAdAuction)"),e)):(es={},(0,_.fH)("".concat(Hr," disabled"),e))}(t[e],e)}))})),(0,ee.Yn)("addPaapiConfig").before((function(e,t,i){if(ls().enabled){const{adUnitCode:r,auctionId:s}=t;function o(e,t){const i=e(s);null!=i?ts(i,r,t):(0,_.JE)(Hr,"Received PAAPI config for auction that has closed (auction '".concat(s,"', adUnit '").concat(r,"')"),t)}const{config:a,igb:d}=i;if(a){var n;a.auctionSignals=is(a.auctionSignals||{},t);const c=a.perBuyerSignals=null!==(n=a.perBuyerSignals)&&void 0!==n?n:{};(a.interestGroupBuyers||[]).forEach((e=>{var i;c[e]=is(null!==(i=c[e])&&void 0!==i?i:{},t)})),o(Kr,a)}d&&rs(d)&&(d.pbs=is(d.pbs||{},t),o(Xr,[t,d]))}e(t,i)})),(0,ee.Yn)("makeBidRequests").after((function(e,t){cs()&&t.forEach((e=>{y.$W.runWithBidder(e.bidderCode,(()=>{var t;const{enabled:i,ae:n}=ls();Object.assign(e,{fledgeEnabled:i,paapi:{enabled:i,componentSeller:!(null===(t=es.componentSeller)||void 0===t||!t.auctionConfig)}}),e.bids.forEach((e=>{var t,i,r;const s=null!=(null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.igs)?e.ortb2Imp.ext.igs.ae||1:null,o=null===(i=e.ortb2Imp)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.ae;s!==o&&null!=s&&null!=o&&(0,_.JE)(Hr,"Bid request defines conflicting ortb2Imp.ext.ae and ortb2Imp.ext.igs, using the latter",e);const a=null!==(r=null!=s?s:o)&&void 0!==r?r:n;if(a){(0,E.J)(e,"ortb2Imp.ext.ae",a),e.ortb2Imp.ext.igs=Object.assign({ae:a,biddable:1},e.ortb2Imp.ext.igs);const t=ps(e);t&&(0,E.J)(e,"ortb2Imp.ext.paapi.requestedSize",t)}}))}))}));e(t)})),Q.on(Z.qY.AUCTION_END,(function(e){let{auctionId:t,bidsReceived:i,bidderRequests:n,adUnitCodes:r,adUnits:s}=e;const o=Object.fromEntries((null==s?void 0:s.map((e=>[e.code,e])))||[]),a=null==n?void 0:n.flatMap((e=>e.bids)),d={};(r||[]).forEach((e=>{d[e]=null,!Zr.hasOwnProperty(e)&&(Zr[e]=null)}));const c=Kr(t),l=Xr(t);c&&l&&Object.entries(l).forEach((e=>{let[t,i]=e;(function(e){var t,i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ss,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null!==(t=null===(i=es)||void 0===i?void 0:i.componentSeller)&&void 0!==t?t:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{compact:e=>{return(t=e.map((e=>e[1])),t.reduce(((e,t)=>{if(rs(t)){let i=e.find((e=>!e.hasOwnProperty(t.origin)||(0,_.bD)(e[t.origin],t)));i||(i={},e.push(i)),i[t.origin]=t}return e}),[]).map((e=>Object.values(e)))).map((e=>[{},e]));var t},expand:os};if(!r.auctionConfig)return(0,_.JE)(Hr,"Cannot use IG buyers: paapi.componentSeller.auctionConfig not set",e.map((e=>e[1]))),[];const o=s[r.separateAuctions?"expand":"compact"];return o(e).map((e=>{let[t,i]=e;const s=(0,_.D9)(n(i),r.auctionConfig);return s.auctionSignals=is(s.auctionSignals||{},t),s}))})(i).forEach((e=>ts(c,t,e)))}));Object.entries(c||{}).forEach((e=>{let[n,r]=e;const s=e=>e.adUnitCode===n,c=function(){let e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.length>0){const i=n.reduce((0,qr.Ph)(Gr((e=>[e.cpm,e.currency]))));e=i.cpm,t=i.currency}else{const i=r.map((e=>"function"==typeof e.getFloor&&e.getFloor())).filter((e=>e)),n=i.length&&i.reduce((0,qr.Bp)(Gr((e=>[e.floor,e.currency]))));e=null==n?void 0:n.floor,t=null==n?void 0:n.currency}const s={};e&&((0,E.J)(s,"auctionSignals.prebid.bidfloor",e),t&&(0,E.J)(s,"auctionSignals.prebid.bidfloorcur",t));const o=ps(i);o&&(s.requestedSize=o);return s}(o[n],null==i?void 0:i.filter(s),null==a?void 0:a.filter(s));d[n]={...c,componentAuctions:r.map((e=>(0,_.D9)({},c,e)))},Zr[n]=t})),Qr(t,d),Yr.forEach((e=>{var i;return null===(i=e.onAuctionConfig)||void 0===i?void 0:i.call(e,t,d,(e=>null!=d[e]&&Jr.add(d[e])))}))}));const ns={cur:"perBuyerCurrencies",pbs:"perBuyerSignals",ps:"perBuyerPrioritySignals",maxbid:"auctionSignals.prebid.perBuyerMaxbid"};function rs(e){if(e.origin)return!0;(0,_.JE)("PAAPI buyer does not specify origin and will be ignored",e)}function ss(e){const t=new Set;return Object.assign(e.reduce(((i,n)=>(rs(n)&&(t.has(n.origin)?(0,_.JE)(Hr,"Duplicate buyer: ".concat(n.origin,". All but the first will be ignored"),e):(t.add(n.origin),Object.entries(ns).forEach((e=>{let[t,r]=e;if(null!=n[t]){const e=(0,A.A)(i,r)||{};e[n.origin]=n[t],(0,E.J)(i,r,e)}})))),i)),{}),{interestGroupBuyers:Array.from(t.keys())})}function os(e){const t={},i={};return e.forEach((e=>{let[n,r]=e;!t.hasOwnProperty(n.bidder)&&(t[n.bidder]=n),ts(i,n.bidder,r)})),Object.entries(i).map((e=>{let[i,n]=e;return[t[i],n]}))}function as(){let{auctionId:e,adUnitCode:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=[];return null==t?i=Object.keys(Zr):Zr.hasOwnProperty(t)&&(i=[t]),Object.fromEntries(i.map((t=>[t,null!=e?e:Zr[t]])))}function ds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={};return Object.entries(as(e)).forEach((e=>{let[n,r]=e;const s=Qr(r);if(null!=s&&s.hasOwnProperty(n)){const e=s[n];e&&!Jr.has(e)?(i[n]=e,Jr.add(e)):t&&(i[n]=null)}else null==r&&t&&(i[n]=null)})),i}function cs(){return"runAdAuction"in navigator&&"joinAdInterestGroup"in navigator}function ls(){var e,t,i,n;const r=y.$W.getCurrentBidder(),s=es.enabled&&(null==r||!(null!==(e=es.bidders)&&void 0!==e&&e.length)||(null===(t=es.bidders)||void 0===t?void 0:t.includes(r)));return{enabled:null!==(i=y.$W.getConfig("fledgeEnabled"))&&void 0!==i?i:s,ae:null!==(n=y.$W.getConfig("defaultForSlots"))&&void 0!==n?n:s?es.defaultForSlots:void 0}}(0,b.m)().getPAAPIConfig=e=>ds(e);const us=(0,ee.A_)("sync",(function(e){if(null!=e&&e.length)return e.filter((e=>{let[t,i]=e;return!(t===i&&t<=5)})).reduce((0,qr.Ph)((0,qr.NV)((e=>{let[t,i]=e;return t*i}))))}),"getPAAPISize");function ps(e){var t;return(null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t||null===(t=t.paapi)||void 0===t?void 0:t.requestedSize)||(t=>{const i=us((0,_.y$)(null===(t=e.mediaTypes)||void 0===t||null===(t=t.banner)||void 0===t?void 0:t.sizes));if(i)return{width:i[0],height:i[1]}})()}function hs(e,t,i){e.forEach((e=>{var t;const n=i.impContext[e.impid];null!=n&&null!==(t=n.imp)&&void 0!==t&&null!==(t=t.ext)&&void 0!==t&&t.ae?(n.paapiConfigs=n.paapiConfigs||[],n.paapiConfigs.push(e)):(0,_.JE)(Hr,"Received auction configuration for an impression that was not in the request or did not ask for it",e,null==n?void 0:n.imp)}))}function fs(e){return t=>(0,_.sC)(t,e)}function gs(e){let t;return(0,_.II)()&&(t=(0,I.I6)(window.googletag.pubads().getSlots(),fs(e))),t}function ms(e){const t=gs(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}j({type:k,name:"impExtAe",fn:function(e,t,i){var n,r;i.bidderRequest.fledgeEnabled||(null===(n=e.ext)||void 0===n||delete n.ae,null===(r=e.ext)||void 0===r||delete r.igs)}}),j({type:$,name:"extPrebidFledge",fn:function(e,t,i){var n;hs((null===(n=t.ext)||void 0===n||null===(n=n.prebid)||void 0===n||null===(n=n.fledge)||void 0===n?void 0:n.auctionconfigs)||[],0,i)},dialects:[L]}),j({type:$,name:"extIgiIgs",fn:function(e,t,i){var n;hs(((null===(n=t.ext)||void 0===n?void 0:n.igi)||[]).flatMap((e=>((null==e?void 0:e.igs)||[]).map((t=>{var i;return t.impid!==e.impid&&null!=t.impid&&null!=e.impid&&(0,_.JE)(Hr,"ORTB response ext.igi.igs.impid conflicts with parent's impid",e),{config:t.config,impid:null!==(i=t.impid)&&void 0!==i?i:e.impid}})).concat(((null==e?void 0:e.igb)||[]).map((t=>({igb:t,impid:e.impid})))))),0,i)}}),j({type:$,name:"fledgeAuctionConfigs",priority:-1,fn:function(e,t,i){const n=Object.values(i.impContext).flatMap((e=>(e.paapiConfigs||[]).map((t=>({bidId:e.bidRequest.bidId,...t})))));n.length>0&&(e.paapi=n)}}),(0,b.E)("paapi");const vs="fledgeForGpt";let bs,ys=!0;Object.entries({[vs]:vs,paapi:"paapi.gpt"}).forEach((e=>{let[t,i]=e;const n="".concat(i,".autoconfig");y.$W.getConfig(t,(e=>{ys=(0,A.A)(e,n,!0)}))}));const As=function(){const e={};return function(t,i,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i.length>0){var s;let o=null!==(s=e[t])&&void 0!==s?s:{},a=Object.fromEntries(n.map((e=>[e.seller,e])));const d=Object.keys(a);r?(a=Object.assign(o,a),o=Object.fromEntries(d.map((e=>[e,null])))):d.forEach((e=>{o[e]=null})),Object.keys(o).length?e[t]=o:delete e[t];const c=Object.entries(a).map((e=>{let[t,i]=e;return{configKey:t,auctionConfig:i}}));c.length>0&&i.forEach((e=>{e.setConfig({componentAuction:c}),(0,_.fH)(vs,"register component auction configs for: ".concat(t,": ").concat(e.getAdUnitPath()),n)}))}else n.length>0&&(0,_.JE)(vs,"unable to register component auction config for ".concat(t),n)}}();const _s=(()=>{const e=[[728,90],[336,280],[300,250],[300,50],[160,600],[1024,768],[970,250],[970,90],[768,1024],[480,320],[468,60],[320,480],[320,100],[320,50],[300,600],[300,100],[250,250],[234,60],[200,200],[180,150],[125,125],[120,600],[120,240],[120,60],[88,31],[980,120],[980,90],[950,90],[930,180],[750,300],[750,200],[750,100],[580,400],[250,360],[240,400]].sort((0,qr.NV)((e=>{let[t,i]=e;return-t*i}))).map((e=>[e,(0,_.bM)(e)]));return function(t,i){if(null!=i&&i.length){const n=new Set(i.map(_.bM)),r=e.find((e=>{let[t,i]=e;return n.has(i)}));if(r)return void t.bail(r[0])}t(i)}})();(0,b.m)().setPAAPIConfigForGPT=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>bs(e,!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:As,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr.m2;return function(){let n=arguments.length>1?arguments[1]:void 0,r=!1;const s=e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},o=i(Object.keys(s),n);Object.entries(s).forEach((e=>{let[i,n]=e;null!=n&&(r=!0),t(i,o[i],(null==n?void 0:n.componentAuctions)||[],!0)})),r||(0,_.fH)("".concat(vs,": No component auctions available to set"))}}(),(0,ee.bz)("paapi",{name:"gpt",onAuctionConfig:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gs;return function(i,n,r){ys&&Object.entries(n).forEach((i=>{var n;let[s,o]=i;e(s,[t(s)],null!==(n=null==o?void 0:o.componentAuctions)&&void 0!==n?n:[]),r(s)}))}}(),init(e){bs=e.getPAAPIConfig,(0,ee.Yn)("getPAAPISize").before(_s)}}),(0,b.E)("fledgeForGpt");var Es=r(8202),Is=r(3426);const ws={appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3},openwrap:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs",noP1Consent:"https://ow.pubmatic.com/openrtb2/auction?source=pbjs"},timeout:500}};function Ss(e){return null==e||!e.gdprApplies||!0===(0,A.A)(e,"vendorData.purpose.consents.1")}const Cs=new WeakMap;const Ts=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),Os={instream:1};const xs={1:w.D4,2:w.G_,4:w.s6};const Rs={[B]:{fpd:{priority:99,fn(e,t){(0,_.D9)(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:(0,Ur.i8)("ORTB request")},props:{fn(e,t){Object.assign(e,{id:e.id||(0,_.lk)(),test:e.test||0});const i=parseInt(t.timeout,10);isNaN(i)||(e.tmax=i)}}},[k]:{fpd:{priority:99,fn(e,t){(0,_.D9)(e,t.ortb2Imp)}},id:{fn(e,t){e.id=t.bidId}},banner:{fn:function(e,t,i){if(i.mediaType&&i.mediaType!==w.D4)return;const n=(0,A.A)(t,"mediaTypes.banner");if(n){const t={topframe:!0===(0,_.al)()?0:1};n.sizes&&(t.format=(0,_.y$)(n.sizes).map(_.cf)),n.hasOwnProperty("pos")&&(t.pos=n.pos),e.banner=(0,_.D9)(t,e.banner)}}},pbadslot:{fn(e){var t;const i=null===(t=e.ext)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.pbadslot;var n;i&&"string"==typeof i||(null===(n=e.ext)||void 0===n||null===(n=n.data)||void 0===n||delete n.pbadslot)}}},[P]:{mediaType:{priority:99,fn:function(e,t,i){if(e.mediaType)return;const n=i.mediaType;if(!n&&!xs.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=n||xs[t.mtype]}},banner:{fn:function(){let{createPixel:e=(e=>(0,_.Tz)(decodeURIComponent(e),_.Bk))}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i){t.mediaType===w.D4&&(i.adm&&i.nurl?(t.ad=i.adm,t.ad+=e(i.nurl)):i.adm?t.ad=i.adm:i.nurl&&(t.adUrl=i.nurl))}}()},props:{fn(e,t,i){var n,r;Object.entries({requestId:null===(n=i.bidRequest)||void 0===n?void 0:n.bidId,seatBidId:t.id,cpm:t.price,currency:i.ortbResponse.cur||i.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||i.ttl,netRevenue:i.netRevenue}).filter((e=>{let[t,i]=e;return void 0!==i})).forEach((t=>{let[i,n]=t;return e[i]=n})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain),null!==(r=t.ext)&&void 0!==r&&r.dsa&&(e.meta.dsa=t.ext.dsa)}}}};function Ds(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=t.shift(),r=t.length>1?Ds(...t):t[0];return Object.fromEntries(U.map((e=>[e,Object.assign({},n[e],r[e])])))}function Us(){let{context:e={},processors:t=Bs,overrides:i={},imp:n,request:r,bidResponse:s,response:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new WeakMap;function d(e,n,r,s){let o;return function(){return null==o&&(o=function(){let o=r.bind(this,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Cs.has(e)){const t=Object.entries(e);t.sort(((e,t)=>(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1)),Cs.set(e,t.map((e=>{let[t,i]=e;return[t,i.fn]})))}const i=Cs.get(e).filter((e=>{let[i]=e;return!t.hasOwnProperty(i)||t[i]})).map((function(e){let[i,n]=e;return t.hasOwnProperty(i)?t[i].bind(this,n):n}));return function(){const e=Array.from(arguments);i.forEach((t=>{t.apply(this,e)}))}}(t()[e]||{},i[e]||{}));return n&&(o=n.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){s.call(this,e,...arguments)}}}()),o.apply(this,arguments)}}const c=d(k,n,(function(e,t,i){const n={};return e(n,t,i),n}),(function(e,t,i){(0,_.vV)("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:i})})),l=d(B,r,(function(e,t,i,n){const r={imp:t};return e(r,i,n),r}),(function(e,t,i,n){throw(0,_.vV)("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:i,context:n}),e})),u=d(P,s,(function(e,t,i){const n={};return e(n,t,i),n}),(function(e,t,i){(0,_.vV)("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:i})})),p=d($,o,(function(e,t,i,n){const r={bids:t};return e(r,i,n),r}),(function(e,t,i,n){throw(0,_.vV)("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:i,context:n}),e}));return{toORTB(t){let{bidderRequest:i,bidRequests:n,context:r={}}=t;n=n||i.bids;const s={req:Object.assign({bidRequests:n},e,r),imp:{}};s.req.impContext=s.imp;const o=n.map((t=>{const n=Object.assign({bidderRequest:i,reqContext:s.req},e,r),o=c(t,n);if(null!=o){if(o.hasOwnProperty("id"))return Object.assign(n,{bidRequest:t,imp:o}),s.imp[o.id]=n,o;(0,_.vV)("Converted ORTB imp does not specify an id, ignoring bid request",t,o)}})).filter(Boolean),d=l(o,i,s.req);return s.req.bidderRequest=i,null!=d&&a.set(d,s),d},fromORTB(e){let{request:t,response:i}=e;const n=a.get(t);if(null==n)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function r(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:t},i,e)}const s=Object.fromEntries((t.imp||[]).map((e=>[e.id,e]))),o=(i.seatbid||[]).flatMap((e=>(e.bid||[]).map((t=>{if(s.hasOwnProperty(t.impid)&&n.imp.hasOwnProperty(t.impid))return u(t,r(n.imp[t.impid],{imp:s[t.impid],seatbid:e,ortbResponse:i}));(0,_.vV)("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)})))).filter(Boolean);return p(o,i,r(n.req))}}}Rs[k].native={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==w.s6)return;let n=t.nativeOrtbRequest;var r;n&&(n=Object.assign({},i.nativeRequest,n),null!==(r=n.assets)&&void 0!==r&&r.length?e.native=(0,_.D9)({},{request:JSON.stringify(n),ver:n.ver},e.native):(0,_.JE)("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}},Rs[P].native={fn:function(e,t){if(e.mediaType===w.s6){let i;if(i="string"==typeof t.adm?JSON.parse(t.adm):t.adm,!(0,_.Qd)(i)||!Array.isArray(i.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:i}}}},Rs[k].video={fn:function(e,t,i){if(i.mediaType&&i.mediaType!==w.G_)return;const n=(0,A.A)(t,"mediaTypes.video");if(!(0,_.Im)(n)){const t=Object.fromEntries(Object.entries(n).filter((e=>{let[t]=e;return Ts.has(t)})));if(n.playerSize){const e=(0,_.y$)(n.playerSize).map(_.cf);e.length>1&&(0,_.JE)("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(t,e[0])}const i=Os[n.context];null!=i&&(t.placement=i),e.video=(0,_.D9)(t,e.video)}}},Rs[P].video={fn:function(e,t,i){e.mediaType===w.G_&&((0,A.A)(i.imp,"video.w")&&(0,A.A)(i.imp,"video.h")&&([e.playerWidth,e.playerHeight]=[i.imp.video.w,i.imp.video.h]),t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl))}};const Bs=(0,_.Bj)((()=>Ds(Rs,F(M))));var ks=r(3942);const Ps={[w.D4]:"banner",[w.s6]:"native",[w.G_]:"video"};function $s(e,t,i){let{adUnit:n,bidderRequests:r,index:s=vr.n.index,bidderRegistry:o=v.Ay.bidderRegistry}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.params;const d=o[t.bidder];d&&d.getSpec().transformBidParams&&(n=n||s.getAdUnit(t),r=r||[i.bidderRequest],a=d.getSpec().transformBidParams(a,!0,n,r)),a&&(0,E.J)(e,"ext.prebid.bidder.".concat(t.bidder),a)}const Ms={[B]:{extPrebid:{fn:function(e,t){var i;(0,E.J)(e,"ext.prebid",(0,_.D9)({auctiontimestamp:t.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(i=e.ext)||void 0===i?void 0:i.prebid)),y.$W.getConfig("debug")&&(e.ext.prebid.debug=!0)}},extPrebidChannel:{fn:function(e){var t;(0,E.J)(e,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,b.m)().version},null===(t=e.ext)||void 0===t||null===(t=t.prebid)||void 0===t?void 0:t.channel))}},extPrebidAliases:{fn:function(e,t,i){let{am:n=v.Ay}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n.aliasRegistry[t.bidderCode]){const i=n.bidderRegistry[t.bidderCode];if(!i||!i.getSpec().skipPbsAliasing){var r;(0,E.J)(e,"ext.prebid.aliases.".concat(t.bidderCode),n.aliasRegistry[t.bidderCode]);const s=y.$W.getConfig("gvlMapping.".concat(t.bidderCode))||(null==i||null===(r=i.getSpec)||void 0===r?void 0:r.call(i).gvlid);s&&(0,E.J)(e,"ext.prebid.aliasgvlids.".concat(t.bidderCode),s)}}}}},[k]:{params:{fn:$s},adUnitCode:{fn:function(e,t){const i=t.adUnitCode;i&&(0,E.J)(e,"ext.prebid.adunitcode",i)}}},[P]:{mediaType:{fn:function(e,t,i){let n=i.mediaType;var r;n||(n=xs.hasOwnProperty(t.mtype)?xs[t.mtype]:null===(r=t.ext)||void 0===r||null===(r=r.prebid)||void 0===r?void 0:r.type,Ps.hasOwnProperty(n)||(n=w.D4)),e.mediaType=n},priority:99},videoCache:{fn:function(e,t){if(e.mediaType===w.G_){let{cacheId:i,url:n}=(0,A.A)(t,"ext.prebid.cache.vastXml")||{};if(!i||!n){const{hb_uuid:e,hb_cache_host:r,hb_cache_path:s}=(0,A.A)(t,"ext.prebid.targeting")||{};e&&r&&s&&(i=e,n="https://".concat(r).concat(s,"?uuid=").concat(e))}i&&n&&Object.assign(e,{videoCacheKey:i,vastUrl:n})}},priority:-10},bidderCode:{fn(e,t,i){var n;e.bidderCode=i.seatbid.seat,e.adapterCode=(0,A.A)(t,"ext.prebid.meta.adaptercode")||(null===(n=i.bidRequest)||void 0===n?void 0:n.bidder)||e.bidderCode}},pbsBidId:{fn(e,t){const i=(0,A.A)(t,"ext.prebid.bidid");(0,_.O8)(i)&&(e.pbsBidId=i)}},adserverTargeting:{fn(e,t){const i=(0,A.A)(t,"ext.prebid.targeting");(0,_.Qd)(i)&&(e.adserverTargeting=i)}},extPrebidMeta:{fn(e,t){e.meta=(0,_.D9)({},(0,A.A)(t,"ext.prebid.meta"),e.meta)}},pbsWurl:{fn(e,t){const i=(0,A.A)(t,"ext.prebid.events.win");(0,_.O8)(i)&&(e.pbsWurl=i)}}},[$]:{serverSideStats:{fn(e,t,i){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach((e=>{let[n,r]=e;const s=(0,A.A)(t,"ext.".concat(n,".").concat(i.bidderRequest.bidderCode));s&&(i.bidderRequest[r]=s,i.bidRequests.forEach((e=>e[r]=s)))}))}}}},Ls=(0,_.Bj)((()=>Ds(Bs(),Ms,F(L))));var Ns=r(2435);const js=new Set(["bidderCode","bidderRequestId","uniquePbsTid","bids","timeout"]),Fs=Us({processors:Ls,context:{netRevenue:!0},imp(e,t,i){Object.assign(i,t.pbsData);const n=e(t,i);if((t.bids||[]).forEach((e=>{e.ortb2Imp&&Object.keys(e.ortb2Imp).length>0&&(0,E.J)(n,"ext.prebid.imp.".concat(e.bidder),e.ortb2Imp)})),Object.values(Ps).some((e=>n[e])))return n.secure=i.s2sBidRequest.s2sConfig.secure,n},request(e,t,i,n){if(t.length){let{s2sBidRequest:r,requestedBidders:s,eidPermissions:o}=n;const a=e(t,i,n);return a.tmax=r.s2sConfig.timeout,a.ext.tmaxmax=a.ext.tmaxmax||n.s2sBidRequest.requestBidsTimeout,[a.app,a.dooh,a.site].forEach((e=>{var t;!e||null!==(t=e.publisher)&&void 0!==t&&t.id||(0,E.J)(e,"publisher.id",r.s2sConfig.accountId)})),(0,_.cy)(o)&&o.length>0&&(s&&(0,_.cy)(s)&&(o=o.map((e=>({...e,bidders:e.bidders.filter((e=>s.includes(e)))})))),(0,E.J)(a,"ext.prebid.data.eidpermissions",o)),n.transmitTids||(0,E.J)(a,"ext.prebid.createtids",!1),a}(0,_.vV)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},bidResponse(e,t,i){var n,r;let s=i.actualBidRequests.get(i.seatbid.seat);null==s&&(s=i.actualBidRequests.get(null)),s&&Object.assign(i,{bidRequest:s,bidderRequest:i.actualBidderRequests.find((e=>e.bidderCode===s.bidder))});const o=e(t,i);return o.requestBidder=null===(n=s)||void 0===n?void 0:n.bidder,null!==(r=o.native)&&void 0!==r&&r.ortb&&(o.adm=o.native.ortb),o.requestTimestamp=i.requestTimestamp,{bid:Object.assign((0,ks.O)(Z.XQ.GOOD,{src:Z.RW.SRC,bidId:s?s.bidId||s.bid_Id:null,transactionId:i.adUnit.transactionId,adUnitId:i.adUnit.adUnitId,auctionId:i.bidderRequest.auctionId}),o),adUnit:i.adUnit.code}},overrides:{[k]:{id(e,t,i,n){t.id=n.impId},params(e,t,i,n){const r=n.s2sBidRequest.s2sConfig.adapterOptions;for(const e of n.actualBidRequests.values())$s(t,e,n,n),r&&r[e.bidder]&&Object.assign(t.ext.prebid.bidder[e.bidder],r[e.bidder])},bidfloor(e,t,i,n){const r=(0,qr.Bp)(Gr((e=>[e.bidfloor,e.bidfloorcur])));let s;for(const t of n.actualBidRequests.values()){const i={};if(e(i,t,n),null==i.bidfloorcur||null==i.bidfloor){s=null;break}s=null==s?i:r(s,i)}null!=s&&Object.assign(t,s)}},[B]:{fpd(e,t,i,n){var r,s,o;(n.transmitTids&&(0,E.J)(t,"source.tid",i.auctionId),(0,_.D9)(t,null===(r=n.s2sBidRequest.ortb2Fragments)||void 0===r?void 0:r.global),n.s2sBidRequest.s2sConfig.extPrebid&&"object"==typeof n.s2sBidRequest.s2sConfig.extPrebid)&&(0,E.J)(t,"ext.prebid",(0,_.D9)((null===(o=t.ext)||void 0===o?void 0:o.prebid)||{},n.s2sBidRequest.s2sConfig.extPrebid));n.getRedactor().ortb2(t);const a=Object.entries((null===(s=n.s2sBidRequest.ortb2Fragments)||void 0===s?void 0:s.bidder)||{}).filter((e=>{let[t]=e;const i=n.s2sBidRequest.s2sConfig.bidders;return n.s2sBidRequest.s2sConfig.allowUnknownBidderCodes||i&&i.includes(t)})).map((e=>{let[t,i]=e;return{bidders:[t],config:{ortb2:n.getRedactor(t).ortb2(i)}}}));a.length&&(0,E.J)(t,"ext.prebid.bidderconfig",a)},extPrebidAliases(e,t,i,n){n.actualBidderRequests.forEach((i=>e(t,i,n)))},sourceExtSchain(e,t,i,n){let r=(0,A.A)(t,"ext.prebid.schains")||[];const s=new Set(r.flatMap((e=>e.bidders)));r=Object.values(r.concat(n.actualBidderRequests.filter((e=>!s.has(e.bidderCode))).map((e=>({bidders:[e.bidderCode],schain:(0,A.A)(e,"bids.0.schain")})))).filter((e=>{let{bidders:t,schain:i}=e;return(null==t?void 0:t.length)>0&&i})).reduce(((e,t)=>{let{bidders:i,schain:n}=t;const r=JSON.stringify(n);return e.hasOwnProperty(r)||(e[r]={bidders:new Set,schain:n}),i.forEach((t=>e[r].bidders.add(t))),e}),{})).map((e=>{let{bidders:t,schain:i}=e;return{bidders:Array.from(t),schain:i}})),r.length&&(0,E.J)(t,"ext.prebid.schains",r)}},[$]:{serverSideStats(e,t,i,n){n.actualBidderRequests.forEach((r=>e(t,i,{...n,bidderRequest:r,bidRequests:r.bids})))},fledgeAuctionConfigs(e,t,i,n){const r=Object.values(n.impContext).flatMap((e=>(e.paapiConfigs||[]).map((t=>{const i=e.actualBidderRequests.find((e=>e.bidderCode===t.bidder)),n=e.actualBidRequests.get(t.bidder);return{adUnitCode:e.adUnit.code,ortb2:null==i?void 0:i.ortb2,ortb2Imp:null==n?void 0:n.ortb2Imp,config:t.config}}))));r.length>0&&(t.fledgeAuctionConfigs=r)}}}});const zs=y.$W.getConfig,qs=Z.RW.SRC;let Vs,Gs,Ws=0;const Hs={bidders:Object.freeze([]),timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{eventtrackers:[{event:1,methods:[1,2]}]}};function Ys(e){if(!e)return;const t=Array.isArray(e)?e:[e],i=[];return t.every(((e,t,n)=>{!function(e){["endpoint","syncEndpoint"].forEach((t=>{if((0,_.O8)(e[t])){let i=e[t];e[t]={p1Consent:i,noP1Consent:i}}!(0,_.Qd)(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((i=>{e[t][i]||(0,_.JE)("s2sConfig.".concat(t,".").concat(i," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e);const r=function(e){if(e.defaultVendor){let t=e.defaultVendor,i=Object.keys(e);if(!ws[t])return(0,_.vV)("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(ws[t]).forEach((n=>{Hs[n]!==e[n]&&(0,I.mK)(i,n)||(e[n]=ws[t][n])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(e);if(!1!==r){const r=function(e){const t=Object.keys(e);if(["accountId","endpoint"].filter((e=>!(0,I.mK)(t,e)&&((0,_.vV)(e+" missing in server to server config"),!0))).length>0)return!1}(e);if(!1!==r)return Array.isArray(e.bidders)&&(n[t].bidders=e.bidders.filter((e=>-1===i.indexOf(e)&&(i.push(e),!0)))),!0}return(0,_.JE)("prebidServer: s2s config is disabled"),!1}))?Vs=t:void 0}function Js(e,t,i,n,r){if(Vs.length===Ws)return;Ws++;let s={};const o=zs("userSync.filterSettings");if(o){const{all:e,iframe:t,image:i}=o,n=t||e,r=i||e;n&&(s=Object.assign({iframe:n},s)),r&&(s=Object.assign({image:r},s))}const a={uuid:(0,_.lk)(),bidders:e,account:r.accountId,filterSettings:s};let d=r.userSyncLimit;(0,_.Et)(d)&&d>0&&(a.limit=d),t&&(a.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(a.gdpr_consent=t.consentString)),i&&(a.us_privacy=i),n&&(a.gpp_sid=n.applicableSections.join(),a.gpp=n.gppString),"boolean"==typeof r.coopSync&&(a.coopSync=r.coopSync);const c=JSON.stringify(a);(0,pt.RD)(Zs(r.syncEndpoint,t),(e=>{try{Ks((e=JSON.parse(e)).bidder_status,r)}catch(e){(0,_.vV)(e)}}),c,{contentType:"text/plain",withCredentials:!0})}function Ks(e,t){if(0===e.length)return;const i=e.shift();i.no_cookie?function(e,t,i,n,r){r.syncUrlModifier&&"function"==typeof r.syncUrlModifier[i]&&(t=r.syncUrlModifier[i](e,t,i));!function(e,t,i,n,r){t?"image"===e||"redirect"===e?((0,_.OG)('Invoking image pixel user sync for bidder: "'.concat(i,'"')),(0,_.z$)(t,n,r)):"iframe"===e?((0,_.OG)('Invoking iframe user sync for bidder: "'.concat(i,'"')),(0,_.SG)(t,n,r)):((0,_.vV)('User sync type "'.concat(e,'" not supported for bidder: "').concat(i,'"')),n()):((0,_.vV)('No sync url for bidder "'.concat(i,'": ').concat(t)),n())}(e,t,i,n,r.syncTimeout)}(i.usersync.type,i.usersync.url,i.bidder,Ks.bind(null,e,t),t):Ks(e,t)}y.$W.setDefaults({s2sConfig:Hs}),zs("s2sConfig",(e=>{let{s2sConfig:t}=e;return Ys(t)}));let Qs={};function Xs(e){const t=function(e,t){if([e,t].every(_.O8))return Qs["".concat(e).concat(t)]}(e.auctionId,e.adId);var i,n;(0,_.O8)(t)&&((0,_.OG)('Invoking image pixel for wurl on BID_WIN: "'.concat(t,'"')),(0,_.z$)(t),i=e.auctionId,n=e.adId,[i,n].every(_.O8)&&(Qs["".concat(i).concat(n)]=void 0))}function Zs(e,t){const i=Ss(t),n=i?e.p1Consent:e.noP1Consent;return n||(0,_.JE)("Missing matching consent URL when gdpr="+i),n}function eo(e){let t,i,n;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,i=e[0].uspConsent,n=e[0].gppConsent),{gdprConsent:t,uspConsent:i,gppConsent:n}}const to=(0,ee.A_)("sync",(function(e,t,i,n){let{onResponse:r,onError:s,onBid:o,onFledge:a}=n,{gdprConsent:d}=eo(t);const c=(0,_.Go)(e.ad_units),l=c.map((e=>e.bids.map((e=>e.bidder)).filter(_.hj))).reduce(_.Bq,[]).filter(_.hj),u=e.metrics.measureTime("buildRequests",(()=>function(e,t,i,n,r){const s=(0,_.vE)(),o=new Set,a=[],d=(0,v.K5)(e.s2sConfig),c=(()=>{const e=(0,Ns.$p)(d),t={};return i=>null==i?e:(t.hasOwnProperty(i)||(t[i]=(0,Ns.$p)((0,ue.s)(de.tW,i))),t[i])})();(i=i.map((e=>c().bidRequest(e)))).forEach((e=>{const n=new Map;i.bids=e.bids.map((e=>c(e.bidder).bidRequest(e))),e.bids.forEach((i=>{null!=i.mediaTypes&&(0,_.JE)("Prebid Server adapter does not (yet) support bidder-specific mediaTypes for the same adUnit. Size mapping configuration will be ignored for adUnit: ".concat(e.code,", bidder: ").concat(i.bidder)),n.set(i.bidder,(0,_.D4)(i.bid_id,t))}));let r=e.code,s=1;for(;o.has(r);)s++,r="".concat(e.code,"-").concat(s);o.add(r),a.push({...e,adUnitCode:e.code,...(0,_.SH)(n.values().next().value||{},["userId","userIdAsEids","schain"]),pbsData:{impId:r,actualBidRequests:n,adUnit:e}})}));const l={...Object.fromEntries(Object.entries(t[0]).filter((e=>{let[t]=e;return!js.has(t)}))),fledgeEnabled:t.some((e=>e.fledgeEnabled))};return Fs.toORTB({bidderRequest:l,bidRequests:a,context:{currency:y.$W.getConfig("currency.adServerCurrency")||"USD",ttl:e.s2sConfig.defaultTtl||60,requestTimestamp:s,s2sBidRequest:e,requestedBidders:n,actualBidderRequests:t,eidPermissions:r,nativeRequest:e.s2sConfig.ortbNative,getRedactor:c,transmitTids:(0,ce.io)(le.VJ,d)}})}(e,t,c,l,Gs))),p=u&&JSON.stringify(u);(0,_.fH)("BidRequest: "+p);const h=Zs(e.s2sConfig.endpoint,d);if(u&&p&&h){const t=e.metrics.startTiming("net");i(h,{success:function(i){let n;t();try{n=JSON.parse(i);const{bids:t,fledgeAuctionConfigs:r}=e.metrics.measureTime("interpretResponse",(()=>function(e,t){return Fs.fromORTB({response:e,request:t})}(n,u)));t.forEach(o),r&&r.forEach(a)}catch(e){(0,_.vV)(e)}!n||n.status&&(0,I.mK)(n.status,"Error")?((0,_.vV)("error parsing response: ",n?n.status:"not valid JSON"),r(!1,l)):r(!0,l,n)},error:function(){t(),s.apply(this,arguments)}},p,{contentType:"text/plain",withCredentials:!0,browsingTopics:(0,ce.io)(le.DL,(0,v.K5)(e.s2sConfig))})}else(0,_.vV)("PBS request not made.  Check endpoints.")}),"processPBSRequest");(0,_.YI)().setEidPermissions=function(e){Gs=e},v.Ay.registerBidAdapter(new function(){const e=new Es.A("prebidServer");return e.callBids=function(e,t,i,n,r){const s=e.metrics=(0,oe.BO)((0,A.A)(t,"0.metrics")).newMetrics().renameWith((t=>["adapter.s2s.".concat(t),"adapters.s2s.".concat(e.s2sConfig.defaultVendor,".").concat(t)]));n=s.startTiming("total").stopBefore(n),t.forEach((e=>(0,oe.BO)(e.metrics).join(s,{continuePropagation:!1})));let{gdprConsent:o,uspConsent:a,gppConsent:d}=eo(t);if(Array.isArray(Vs)){if(e.s2sConfig&&e.s2sConfig.syncEndpoint&&Zs(e.s2sConfig.syncEndpoint,o)){Js(e.s2sConfig.bidders.map((e=>v.Ay.aliasRegistry[e]||e)).filter(((e,t,i)=>i.indexOf(e)===t)),o,a,d,e.s2sConfig)}to(e,t,r,{onResponse:function(i,r,c){i&&t.forEach((e=>Q.emit(Z.qY.BIDDER_DONE,e))),function(e,t){var i,n;return(null==e||null===(i=e.extPrebid)||void 0===i?void 0:i.returnallbidstatus)&&(null==t||null===(n=t.ext)||void 0===n?void 0:n.seatnonbid)}(e.s2sConfig,c)&&Q.emit(Z.qY.SEAT_NON_BID,{seatnonbid:c.ext.seatnonbid,auctionId:t[0].auctionId,requestedBidders:r,response:c,adapterMetrics:s}),n(!1),function(e,t,i,n){e.forEach((e=>{let r=v.Ay.getBidAdapter(e);r&&r.registerSyncs&&y.$W.runWithBidder(e,r.registerSyncs.bind(r,[],t,i,n))}))}(r,o,a,d)},onError(e,i){(0,_.vV)("Prebid server call failed: '".concat(e,"'"),i),t.forEach((e=>Q.emit(Z.qY.BIDDER_ERROR,{error:i,bidderRequest:e}))),n(i.timedOut)},onBid:function(t){let{adUnit:n,bid:r}=t;const s=r.metrics=e.metrics.fork().renameWith();var o,a,d;s.checkpoint("addBidResponse"),null!=r.requestId&&null!=r.requestBidder||e.s2sConfig.allowUnknownBidderCodes?s.measureTime("addBidResponse.validate",(()=>(0,Is.fn)(n,r)))?(i(n,r),r.pbsWurl&&(o=r.auctionId,a=r.adId,d=r.pbsWurl,[o,a].every(_.O8)&&(Qs["".concat(o).concat(a)]=d))):i.reject(n,r,Z.Tf.INVALID):((0,_.JE)("PBS adapter received bid from unknown bidder (".concat(r.bidder,"), but 's2sConfig.allowUnknownBidderCodes' is not set. Ignoring bid.")),i.reject(n,r,Z.Tf.BIDDER_DISALLOWED))},onFledge:e=>{(0,Is.JN)({auctionId:t[0].auctionId,...e},{config:e.config})}})}},Q.on(Z.qY.BID_WON,Xs),Object.assign(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:qs})},"prebidServer"),(0,b.E)("prebidServerBidAdapter");var io=r(4070),no=r(3861);const ro={NOT_FOUND:"not_found",RANDOM:"random"},so="Price Floors",oo=(0,pt.g4)(1e4),ao=Symbol();let co=[ao,"gptSlot","adUnitCode","size","domain","mediaType"],lo=!1,uo=!1,po={},ho=[],fo={};const go=(()=>{let e;return function(){return null==e&&(e=(0,_.Dl)((0,It.EN)().topmostLocation,{noDecodeWholeURL:!0}).hostname),e}})();function mo(e,t){let{index:i=vr.n.index}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(null==e?void 0:e.adUnitCode)||i.getAdUnit(t).code}let vo={[ao]:()=>"*",size:(e,t)=>(0,_.n7)(t.size)||"*",mediaType:(e,t)=>t.mediaType||"banner",gptSlot:(e,t)=>function(e){let{index:t=vr.n.index}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.getAdUnit({adUnitId:e});return"gam"===(0,A.A)(i,"ortb2Imp.ext.data.adserver.name")&&i.ortb2Imp.ext.data.adserver.adslot}((e||t).adUnitId)||ms(mo(e,t)).gptSlot,domain:go,adUnitCode:(e,t)=>mo(e,t)};function bo(e,t){var i;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e,t,i){return e.length?e.reduce(((e,n)=>{let r=vo[n](t,i)||"*";return e.push("*"===r?["*"]:[r.toLowerCase(),"*"]),e}),[]):[]}((0,A.A)(e,"schema.fields")||[],t,n);if(!r.length)return{matchingFloor:void 0};let s=r.map((e=>e[0])).join("-"),o=(0,A.A)(e,"matchingInputs.".concat(s));if(o)return{...o};let a=(d=r,c=(0,A.A)(e,"schema.delimiter")||"|",d.reduce(((e,t)=>{let i=[];return e.map((e=>{t.map((t=>{i.push(e+c+t)}))})),i})).sort(((e,t)=>e.split("*").length-t.split("*").length)));var d,c;let l=(0,I.I6)(a,(t=>e.values.hasOwnProperty(t))),u={floorMin:e.floorMin||0,floorRuleValue:e.values[l],matchingData:a[0],matchingRule:l===(null===(i=e.meta)||void 0===i?void 0:i.defaultRule)?void 0:l};const p=(0,A.A)(t,"ortb2Imp.ext.prebid.floors.floorMin");return"number"==typeof p&&(u.floorMin=p),u.matchingFloor=Math.max(u.floorMin,u.floorRuleValue),(0,E.J)(e,"matchingInputs.".concat(s),{...u}),u}function yo(e,t,i){return parseFloat((0,no.y)(e,{...t,cpm:e},i))}const Ao={banner:e=>(0,A.A)(e,"mediaTypes.banner.sizes")||[],video:e=>(0,A.A)(e,"mediaTypes.video.playerSize")||[],native:e=>(0,A.A)(e,"mediaTypes.native.image.sizes")?[(0,A.A)(e,"mediaTypes.native.image.sizes")]:[]};function _o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currency:"USD",mediaType:"*",size:"*"},t=this,i=fo[t.auctionId];if(!i||i.skipped)return{};e=function(e,t){let i=Object.keys(e.mediaTypes||{});return"*"===t.mediaType&&1===i.length&&(t.mediaType=i[0]),"*"===t.size&&-1!==i.indexOf(t.mediaType)&&Ao[t.mediaType]&&1===Ao[t.mediaType](e).length&&(t.size=Ao[t.mediaType](e)[0]),t}(t,e);let n=bo(i.data,{...t},{mediaType:e.mediaType,size:e.size}),r=e.currency||i.data.currency;if(n.matchingFloor&&r!==i.data.currency)try{n.matchingFloor=(0,b.m)().convertCurrency(n.matchingFloor,i.data.currency,r)}catch(e){(0,_.JE)("".concat(so,": Unable to get currency conversion for getFloor for bidder ").concat(t.bidder,". You must have currency module enabled with defaultRates in your currency config")),r=i.data.currency}if(i.enforcement.bidAdjustment&&n.matchingFloor){const e=io.u.get(t.bidder,"inverseBidAdjustment");if(e)n.matchingFloor=e(n.matchingFloor,t);else{let e=yo(n.matchingFloor,null,t);n.matchingFloor=e?function(e,t){const i=Math.pow(10,10);return e*i/(t*i)*(e*i)/i}(n.matchingFloor,e):n.matchingFloor}}return n.matchingFloor?{floor:(s=n.matchingFloor,o=4,Math.ceil((parseFloat(s)*Math.pow(10,o)).toFixed(1))/Math.pow(10,o)),currency:r}:{};var s,o}function Eo(e,t){let i=(0,_.Go)(e);return i.schema.delimiter=e.schema.delimiter||"|",i.values=function(e,t){let i=e.schema.fields,n=e.schema.delimiter,r=t&&-1===i.indexOf("adUnitCode")&&i.unshift("adUnitCode");return Object.keys(e.values).reduce(((i,s)=>(i[(r?"".concat(t).concat(n).concat(s):s).toLowerCase()]=e.values[s],i)),{})}(i,t),i.currency=i.currency||"USD",i}function Io(e,t){let i=(0,_.Go)(po);if(2===(0,A.A)(i,"data.floorsSchemaVersion")){let{modelGroups:e,...t}=i.data;i.data=Object.assign(t,function(e,t){let i=Math.floor(Math.random()*t+1);for(let t=0;t<e.length;t++)if(i-=e[t].modelWeight,i<=0)return e[t]}(e,t.modelWeightSum))}let n=0===Object.keys((0,A.A)(i,"data.values")||{}).length;if(i.data=n?function(e){const t=e.find((e=>{var t;return null!=(null===(t=e.floors)||void 0===t?void 0:t.schema)}));return e.reduce(((e,i)=>{var n,r;if(null!=(null===(n=i.floors)||void 0===n?void 0:n.schema)&&!(0,_.bD)(i.floors.schema,null==t||null===(r=t.floors)||void 0===r?void 0:r.schema))return(0,_.vV)("".concat(so,": adUnit '").concat(i.code,"' declares a different schema from one previously declared by adUnit '").concat(t.code,"'. Floor config for '").concat(i.code,"' will be ignored.")),e;const s=Object.assign({},null==t?void 0:t.floors,{values:void 0},i.floors);if(To(s))if(e.values){let t=Eo(s,i.code).values;Object.assign(e.values,t)}else(e=Eo(s,i.code)).location="adUnit";else null!=i.floors&&(0,_.JE)("adUnit '".concat(i.code,"' provides an invalid `floor` definition, it will be ignored for floor calculations"),i);return e}),{})}(e):Eo(i.data),0===Object.keys((0,A.A)(i,"data.values")||{}).length)i.skipped=!0,i.skippedReason=ro.NOT_FOUND;else{var r;const e=(0,_.Ez)("pbjs_skipRate")||(null!==(r=(0,A.A)(i,"data.skipRate"))&&void 0!==r?r:i.skipRate),t=100*Math.random()<parseFloat(e);i.skipped=t,t&&(i.skippedReason=ro.RANDOM)}return i.hasOwnProperty("floorMin")&&(i.data.floorMin=i.floorMin),function(e,t,i){const n=function(e){var t,i;const{data:n,enforcement:r}=e;return(null==n||null===(t=n.noFloorSignalBidders)||void 0===t?void 0:t.length)>0?n.noFloorSignalBidders:(null==r||null===(i=r.noFloorSignalBidders)||void 0===i?void 0:i.length)>0?r.noFloorSignalBidders:[]}(t);e.forEach((e=>{e.bids.forEach((e=>{var r;const s=n.some((t=>t===e.bidder));t.skipped||s?(s&&(0,_.fH)("noFloorSignal to ".concat(e.bidder)),delete e.getFloor):e.getFloor=_o,e.auctionId=i,e.floorData={noFloorSignaled:s,skipped:t.skipped,skipRate:null!==(r=(0,A.A)(t,"data.skipRate"))&&void 0!==r?r:t.skipRate,skippedReason:t.skippedReason,floorMin:t.floorMin,modelVersion:(0,A.A)(t,"data.modelVersion"),modelWeight:(0,A.A)(t,"data.modelWeight"),modelTimestamp:(0,A.A)(t,"data.modelTimestamp"),location:(0,A.A)(t,"data.location","noData"),floorProvider:t.floorProvider,fetchStatus:po.fetchStatus}}))}))}(e,i,t),i}function wo(e){e.hasExited||(ho=ho.filter((t=>t.timer!==e.timer)),e.reqBidsConfigObj.auctionId=e.reqBidsConfigObj.auctionId||(0,_.lk)(),fo[e.reqBidsConfigObj.auctionId]=Io(e.reqBidsConfigObj.adUnits||(0,b.m)().adUnits,e.reqBidsConfigObj.auctionId),e.nextFn.apply(e.context,[e.reqBidsConfigObj]),e.hasExited=!0)}function So(e){return e=function(e){if((0,_.Et)(e.default)){var t;let n="*";const r=((null===(t=e.schema)||void 0===t?void 0:t.fields)||[]).length;var i;r?n=Array(r).fill("*").join((null===(i=e.schema)||void 0===i?void 0:i.delimiter)||"|"):(0,E.J)(e,"schema.fields",[ao]),e.values=e.values||{},null==e.values[n]&&(e.values[n]=e.default,e.meta={defaultRule:n})}return e}(e),!!function(e){if(Array.isArray(e)&&e.length>0){if(e.every((e=>co.includes(e))))return!0;(0,_.vV)("".concat(so,": Fields received do not match allowed fields"))}return!1}((0,A.A)(e,"schema.fields"))&&(t=e,i=e.schema.fields.length,n=e.schema.delimiter||"|","object"==typeof t.values&&(t.values=Object.keys(t.values).reduce(((e,r)=>(function(e,t,i,n){return"string"==typeof e&&e.split(n).length===i&&"number"==typeof t}(r,t.values[r],i,n)&&(e[r]=t.values[r]),e)),{}),Object.keys(t.values).length>0));var t,i,n}const Co={1:e=>So(e),2:e=>!(!Array.isArray(e.modelGroups)||0===e.modelGroups.length)&&(e.modelWeightSum=0,e.modelGroups.every((t=>!("number"!=typeof t.modelWeight||!So(t))&&(e.modelWeightSum+=t.modelWeight,!0))))};function To(e){return"object"==typeof e&&(e.floorsSchemaVersion=e.floorsSchemaVersion||1,"function"!=typeof Co[e.floorsSchemaVersion]?((0,_.vV)("".concat(so,": Unknown floorsSchemaVersion: "),e.floorsSchemaVersion),!1):Co[e.floorsSchemaVersion](e))}function Oo(e,t){if(e&&"object"==typeof e&&To(e))return(0,_.fH)("".concat(so,": A ").concat(t," set the auction floor data set to "),e),{...e,location:t};(0,_.vV)("".concat(so,": The floors data did not contain correct values"),e)}const xo=(0,oe.Ak)("priceFloors",(function(e,t){const i={reqBidsConfigObj:t,context:this,nextFn:e,haveExited:!1,timer:null};po.auctionDelay>0&&lo?(i.timer=setTimeout((()=>{(0,_.JE)("".concat(so,": Fetch attempt did not return in time for auction")),po.fetchStatus="timeout",wo(i)}),po.auctionDelay),ho.push(i)):wo(i)}));function Ro(){ho.forEach((e=>{clearTimeout(e.timer),wo(e)})),ho=[]}function Do(e){let t;lo=!1,po.fetchStatus="success";try{t=JSON.parse(e)}catch(i){t=e}const i=Oo(t,"fetch");i&&(po.data=i,po.skipRate=(0,_.Et)(i.skipRate)?i.skipRate:po.skipRate,po.floorProvider=i.floorProvider||po.floorProvider),Ro()}function Uo(e){lo=!1,po.fetchStatus="error",(0,_.vV)("".concat(so,": Fetch errored with: "),e),Ro()}function Bo(e){var t;po=(0,_.Up)(e,["floorMin","enabled",e=>!1!==e,"auctionDelay",e=>e||0,"floorProvider",t=>(0,A.A)(e,"data.floorProvider",t),"endpoint",e=>e||{},"skipRate",()=>isNaN((0,A.A)(e,"data.skipRate"))?e.skipRate||0:e.data.skipRate,"enforcement",e=>(0,_.Up)(e||{},["enforceJS",e=>!1!==e,"enforcePBS",e=>!0===e,"floorDeals",e=>!0===e,"bidAdjustment",e=>!1!==e,"noFloorSignalBidders",e=>e||[]]),"additionalSchemaFields",e=>{return"object"==typeof e&&Object.keys(e).length>0?(t=e,void Object.keys(t).forEach((e=>{-1===co.indexOf(e)&&"function"==typeof t[e]&&(co.push(e),vo[e]=t[e])}))):void 0;var t},"data",e=>e&&Oo(e,"setConfig")||void 0]),po.enabled?((t=po.endpoint).url&&!lo?"GET"!==(t.method||"GET")?(0,_.vV)("".concat(so,": 'GET' is the only request method supported at this time!")):(oo(t.url,{success:Do,error:Uo},null,{method:"GET"}),lo=!0):lo&&(0,_.JE)("".concat(so,": A fetch is already occuring. Skipping.")),uo||(Q.on(Z.qY.AUCTION_END,(e=>{setTimeout((()=>delete fo[e.auctionId]),3e3)})),(0,b.m)().requestBids.before(xo,50),(0,ee.Yn)("addBidResponse").before(ko,(0,_.dp)()?4:50),uo=!0)):((0,_.fH)("".concat(so,": Turning off module")),po={},fo={},(0,ee.Yn)("addBidResponse").getHooks({hook:ko}).remove(),(0,b.m)().requestBids.getHooks({hook:xo}).remove(),uo=!1)}const ko=(0,oe.NL)("priceFloors",(function(e,t,i,n){let r=fo[i.auctionId];if(!r||!i||r.skipped)return e.call(this,t,i,n);const s=vr.n.index.getBidRequest(i);let o,a=bo(r.data,s,{...i,size:[i.width,i.height]});if(!a.matchingFloor)return 0!==a.matchingFloor&&(0,_.JE)("".concat(so,": unable to determine a matching price floor for bidResponse"),i),e.call(this,t,i,n);let d=r.data.currency.toUpperCase(),c=i.currency||"USD";if(d===c.toUpperCase())o=i.cpm;else if(i.originalCurrency&&d===i.originalCurrency.toUpperCase())o=i.originalCpm;else try{o=(0,b.m)().convertCurrency(i.cpm,c.toUpperCase(),d)}catch(r){return(0,_.vV)("".concat(so,": Unable do get currency conversion for bidResponse to Floor Currency. Do you have Currency module enabled? ").concat(i)),e.call(this,t,i,n)}var l;return o=yo(o,i,s),function(e,t,i,n){i.floorData={floorValue:t.matchingFloor,floorRule:t.matchingRule,floorRuleValue:t.floorRuleValue,floorCurrency:e.data.currency,cpmAfterAdjustments:n,enforcements:{...e.enforcement},matchedFields:{}},e.data.schema.fields.forEach(((n,r)=>{let s=t.matchingData.split(e.data.schema.delimiter)[r];i.floorData.matchedFields[n]=s}))}(r,a,i,o),function(e,t,i){let n=!1!==(0,A.A)(e,"enforcement.enforceJS"),r=!0===(0,A.A)(e,"enforcement.floorDeals")||!i.dealId,s=i.floorData.cpmAfterAdjustments<t.matchingFloor;return n&&s&&r}(r,a,i)?(n(Z.Tf.FLOOR_NOT_MET),void(0,_.JE)("".concat(so,": ").concat(i.bidderCode,"'s Bid Response for ").concat(t," was rejected due to floor not met (adjusted cpm: ").concat(null==i||null===(l=i.floorData)||void 0===l?void 0:l.cpmAfterAdjustments,", floor: ").concat(null==a?void 0:a.matchingFloor,")"),i)):e.call(this,t,i,n)}));y.$W.getConfig("floors",(e=>Bo(e.floors))),j({type:k,name:"bidfloor",fn:function(e,t,i){if("function"==typeof t.getFloor){let n,r;try{({currency:n,floor:r}=t.getFloor({currency:i.currency||y.$W.getConfig("currency.adServerCurrency")||"USD",mediaType:i.mediaType||"*",size:"*"}))}catch(e){return void(0,_.JE)("Cannot compute floor for bid",t)}r=parseFloat(r),null==n||null==r||isNaN(r)||Object.assign(e,{bidfloor:r,bidfloorcur:n})}}}),j({type:k,name:"extPrebidFloors",fn:function(e,t,i){if(null!=e.bidfloor){var n,r,s,o;let{floorMinCur:t,floorMin:a}=i.reqContext.floorMin||{};null==t&&(t=e.bidfloorcur);const d=(null===(n=e.ext)||void 0===n||null===(n=n.prebid)||void 0===n||null===(n=n.floors)||void 0===n?void 0:n.floorMinCur)||(null===(r=e.ext)||void 0===r||null===(r=r.prebid)||void 0===r?void 0:r.floorMinCur)||t,c=(null===(s=e.ext)||void 0===s||null===(s=s.prebid)||void 0===s||null===(s=s.floors)||void 0===s?void 0:s.floorMin)||(null===(o=e.ext)||void 0===o||null===(o=o.prebid)||void 0===o?void 0:o.floorMin),l=Vr(e.bidfloor,e.bidfloorcur,t),u=!(!c||!d)&&Vr(c,d,t),p=u&&u<l?u:l;(0,E.J)(e,"ext.prebid.floors.floorMin",p),(null==a||a>p)&&(a=p),i.reqContext.floorMin={floorMin:a,floorMinCur:t}}},dialects:[L],priority:-1}),j({type:B,name:"extPrebidFloors",fn:function(e,t,i){var n;uo&&(0,E.J)(e,"ext.prebid.floors.enabled",(null===(n=e.ext)||void 0===n||null===(n=n.prebid)||void 0===n||null===(n=n.floors)||void 0===n?void 0:n.enabled)||!1),null!=i&&i.floorMin&&(0,_.D9)(e,{ext:{prebid:{floors:i.floorMin}}})},dialects:[L]}),(0,b.E)("priceFloors");const Po="33across",$o=["33across_mgni"],Mo="https://ssc.33across.com/api/v1/hb",Lo="https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",No="USD",jo=/^[a-zA-Z0-9_-]{22}$/,Fo={SIAB:"siab",INVIEW:"inview",INSTREAM:"instream"},zo=["mimes","minduration","maxduration","placement","plcmt","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],qo={uniqueSiteIds:[]},Vo="nm";function Go(e){return"".concat(e.params.siteId,":").concat(e.params.productId)}function Wo(e){return"".concat(e.bidId)}function Ho(e){var t;let{bidRequests:i,gdprConsent:n={},uspConsent:r,gppConsent:s={},pageUrl:o,referer:a,ttxSettings:d,bidderRequest:c}=e;const l={},u=i[0],{siteId:p,test:h}=u.params,f=y.$W.getConfig("coppa");l.imp=[],i.forEach((e=>{l.imp.push(function(e){const t=(0,A.A)(e,"ortb2Imp.ext.gpid"),i={id:e.bidId,ext:{ttx:{prod:(0,A.A)(e,"params.productId")},...t?{gpid:t}:{}}};(0,A.A)(e,"mediaTypes.banner")&&(i.banner={...Xo(e)});(0,A.A)(e,"mediaTypes.video")&&(i.video=function(e){var t;const i=(0,A.A)(e,"mediaTypes.video",{}),n=(0,A.A)(e,"params.video",{}),r={...i,...n},s={},{w:o,h:a}=Jo(r.playerSize[0]);s.w=o,s.h=a,zo.forEach((e=>{r.hasOwnProperty(e)&&(s[e]=r[e])}));const d=Qo(e),c=()=>{const e=2;return s.placement?((0,_.JE)("[33Across Adapter] The ORTB field `placement` is deprecated, please use `plcmt` instead"),s.placement):e};null!==(t=s.plcmt)&&void 0!==t||(s.plcmt=c()),d===Fo.INSTREAM&&(s.startdelay=s.startdelay||0,s.plcmt=1,s.placement&&(s.placement=1));if("function"==typeof e.getFloor){const t=Zo(e,{w:s.w,h:s.h},w.G_);t&&Object.assign(s,{ext:{ttx:{bidfloors:[t]}}})}return s}(e));return i}(e))})),l.site={id:p},l.device=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,_.l4)(),i={ext:{ttx:{...ta(),pxr:t.devicePixelRatio,vp:ea(),ah:t.screen.availHeight,mtp:t.navigator.maxTouchPoints}}};e.sua&&(i.sua=(0,_.Up)(e.sua,["browsers","platform","model","mobile"]));return i}(null===(t=u.ortb2)||void 0===t?void 0:t.device),o&&(l.site.page=o),a&&(l.site.ref=a),l.id=null==c?void 0:c.bidderRequestId,n.consentString&&(l.user=Yo(l.user,{consent:n.consentString})),Array.isArray(u.userIdAsEids)&&u.userIdAsEids.length>0&&(l.user=Yo(l.user,{eids:u.userIdAsEids})),l.regs=Yo(l.regs,{gdpr:Number(n.gdprApplies)}),r&&(l.regs=Yo(l.regs,{us_privacy:r})),s.gppString&&Object.assign(l.regs,{gpp:s.gppString,gpp_sid:s.applicableSections}),void 0!==f&&(l.regs.coppa=Number(!!f)),l.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"8.52.2"}]}},u.schain&&(l.source=Yo(l.source,{schain:u.schain})),1===h&&(l.test=1);return{method:"POST",url:d&&d.url||"".concat(Mo,"?guid=").concat(p),data:JSON.stringify(l),options:{contentType:"text/plain",withCredentials:!0}}}function Yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,_.D9)({},e,{ext:t})}function Jo(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function Ko(e){return(0,_.D9)({},e,{params:{productId:Qo(e)}})}function Qo(e){const{params:t,mediaTypes:i}=e,{banner:n,video:r}=i;return r&&!n&&"instream"===r.context?Fo.INSTREAM:t.productId===Fo.INVIEW?t.productId:Fo.SIAB}function Xo(e){const t=(0,A.A)(e,"mediaTypes.banner",{}),i=(n=e.adUnitCode,document.getElementById(n)||document.getElementById(function(e){if((0,_.II)()){const t=googletag.pubads().getSlots(),i=fs(e);for(let n=0;n<t.length;n++)if(i(t[n])){const i=t[n].getSlotElementId();return(0,_.fH)("[33Across Adapter] Map ad unit path to HTML element id: '".concat(e,"' -> ").concat(i)),i}}return(0,_.JE)("[33Across Adapter] Unable to locate element for ad unit code: '".concat(e,"'")),null}(n)));var n;const r=function(e){return(0,_.cy)(e)&&2===e.length&&!(0,_.cy)(e[0])?[Jo(e)]:e.map(Jo)}(t.sizes);let s;s="function"==typeof e.getFloor?r.map((t=>{const i=Zo(e,t,w.D4);let n;return i&&(n={ext:{ttx:{bidfloors:[i]}}}),Object.assign({},t,n)})):r;const o=function(e){return e.reduce(((e,t)=>t.h*t.w<e.h*e.w?t:e))}(r),a=function(e){return!function(){try{return(0,_.l4)()!==(0,_.mb)()}catch(e){return!0}}()&&null!==e}(i)?function(e,t){let{w:i,h:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"visible"===t.document.visibilityState?function(e,t){let{w:i,h:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){let{w:t,h:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{width:n,height:r,left:s,top:o,right:a,bottom:d}=e.getBoundingClientRect();(0===n||0===r)&&t&&i&&(n=t,r=i,a=s+t,d=o+i);return{width:n,height:r,left:s,top:o,right:a,bottom:d}}(e,{w:i,h:n}),s=function(e){const t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom};for(let i=1;i<e.length;++i){if(t.left=Math.max(t.left,e[i].left),t.right=Math.min(t.right,e[i].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[i].top),t.bottom=Math.min(t.bottom,e[i].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},r]);let o,a;if(null!==s)return o=s.width*s.height,a=r.width*r.height,o/a*100;return 0}(e,t,{w:i,h:n}):0}(i,(0,_.mb)(),o):Vo,d=function(e){const t=isNaN(e)?e:Math.round(e);return{ttx:{viewability:{amount:t}}}}(a);return{format:s,ext:d}}function Zo(e,t,i){const n=e.getFloor({currency:No,mediaType:i,size:[t.w,t.h]});if(!isNaN(n.floor)&&n.currency===No)return n.floor}function ea(){const e=function(){let e=(0,_.l4)();try{for(;e.parent!==e&&e.parent.document;)e=e.parent}catch(e){}return e}().document.documentElement;return{w:e.clientWidth,h:e.clientHeight}}function ta(){const{innerWidth:e,innerHeight:t,screen:i}=(0,_.l4)(),[n,r]=[Math.max(i.width,i.height),Math.min(i.width,i.height)];return t>e?{w:r,h:n}:{w:n,h:r}}const ia={NON_MEASURABLE:Vo,code:Po,aliases:$o,supportedMediaTypes:[w.D4,w.G_],gvlid:58,isBidRequestValid:function(e){return function(e){const t=e.bidder!==Po&&!$o.includes(e.bidder);if(t||!e.params)return!1;if(!function(e){const t=(0,A.A)(e,"params.siteId","")||"";if(null===t.trim().match(jo))return!1;return!0}(e))return!1;return!0}(e)&&function(e){const t=(0,A.A)(e,"mediaTypes.banner");if(void 0===t)return!0;if(!Array.isArray(t.sizes))return!1;return!0}(e)&&function(e){const t=(0,A.A)(e,"mediaTypes.video"),i=(0,A.A)(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;const n={...t,...i};if(!Array.isArray(n.mimes)||0===n.mimes.length)return!1;if(!Array.isArray(n.protocols)||0===n.protocols.length)return!1;if([n.placement,n.plcmt].some((e=>void 0!==e&&"number"!=typeof e)))return!1;if("instream"===t.context&&void 0!==n.startdelay&&"number"!=typeof n.startdelay)return!1;return!0}(e)},buildRequests:function(e,t){const{ttxSettings:i,gdprConsent:n,uspConsent:r,gppConsent:s,pageUrl:o,referer:a}=function(e,t){var i,n;const r=Object.assign({},y.$W.getConfig("ttxSettings")),s=Object.assign({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent);return qo.uniqueSiteIds=e.map((e=>e.params.siteId)).filter(_.hj),{ttxSettings:r,gdprConsent:s,uspConsent:null==t?void 0:t.uspConsent,gppConsent:null==t?void 0:t.gppConsent,pageUrl:null==t||null===(i=t.refererInfo)||void 0===i?void 0:i.page,referer:null==t||null===(n=t.refererInfo)||void 0===n?void 0:n.ref}}(e,t),d=function(e,t){const i=t.map(Ko),n=e&&e.enableSRAMode;return function(e,t){const i={};return e.forEach((e=>{const n=t(e);i[n]=i[n]||[],i[n].push(e)})),i}(i,!0===n?Go:Wo)}(i,e),c=[];for(const e in d)c.push(Ho({bidRequests:d[e],gdprConsent:n,uspConsent:r,gppConsent:s,pageUrl:o,referer:a,ttxSettings:i,bidderRequest:t}));return c},interpretResponse:function(e,t){const{seatbid:i,cur:n="USD"}=e.body;return(0,_.cy)(i)?i.filter((e=>(0,_.cy)(e.bid)&&e.bid.length>0)).reduce(((e,t)=>e.concat(t.bid.map((e=>function(e,t){const i=e.adomain&&e.adomain.length,n={requestId:e.impid,cpm:e.price,width:e.w,height:e.h,ad:e.adm,ttl:e.ttl||60,creativeId:e.crid,mediaType:(0,A.A)(e,"ext.ttx.mediaType",w.D4),currency:t,netRevenue:!0};i&&(n.meta={advertiserDomains:e.adomain});if(n.mediaType===w.G_){"xml"===(0,A.A)(e,"ext.ttx.vastType","xml")?n.vastXml=n.ad:n.vastUrl=n.ad}return n}(e,n))))),[]):[]},getUserSyncs:function(e,t,i,n,r){const s=e.iframeEnabled?qo.uniqueSiteIds.map((e=>function(e){let{siteId:t="zzz000000000003zzz",gdprConsent:i={},uspConsent:n,gppConsent:r={}}=e;const s=y.$W.getConfig("ttxSettings"),o=s&&s.syncUrl||Lo,{consentString:a,gdprApplies:d}=i,{gppString:c="",applicableSections:l=[]}=r,u={type:"iframe",url:"".concat(o,"&id=").concat(t,"&gdpr_consent=").concat(encodeURIComponent(a),"&us_privacy=").concat(encodeURIComponent(n),"&gpp=").concat(encodeURIComponent(c),"&gpp_sid=").concat(encodeURIComponent(l.join(",")))};"boolean"==typeof d&&(u.url+="&gdpr=".concat(Number(d)));return u}({gdprConsent:i,uspConsent:n,gppConsent:r,siteId:e}))):[];return qo.uniqueSiteIds=[],s}};(0,Is.a$)(ia),(0,b.E)("33acrossBidAdapter");var na=r(3410),ra=r(7566);const sa={1:"IAB20-3",2:"IAB18-5",3:"IAB10-1",4:"IAB2-3",5:"IAB19-8",6:"IAB22-1",7:"IAB18-1",8:"IAB12-3",9:"IAB5-1",10:"IAB4-5",11:"IAB13-4",12:"IAB8-7",13:"IAB9-7",14:"IAB7-1",15:"IAB20-18",16:"IAB10-7",17:"IAB19-18",18:"IAB13-6",19:"IAB18-4",20:"IAB1-5",21:"IAB1-6",22:"IAB3-4",23:"IAB19-13",24:"IAB22-2",25:"IAB3-9",26:"IAB17-18",27:"IAB19-6",28:"IAB1-7",29:"IAB9-30",30:"IAB20-7",31:"IAB20-17",32:"IAB7-32",33:"IAB16-5",34:"IAB19-34",35:"IAB11-5",36:"IAB12-3",37:"IAB11-4",38:"IAB12-3",39:"IAB9-30",41:"IAB7-44",42:"IAB7-1",43:"IAB7-30",50:"IAB19-30",51:"IAB17-12",52:"IAB19-30",53:"IAB3-1",55:"IAB13-2",56:"IAB19-30",57:"IAB19-30",58:"IAB7-39",59:"IAB22-1",60:"IAB7-39",61:"IAB21-3",62:"IAB5-1",63:"IAB12-3",64:"IAB20-18",65:"IAB11-2",66:"IAB17-18",67:"IAB9-9",68:"IAB9-5",69:"IAB7-44",71:"IAB22-3",73:"IAB19-30",74:"IAB8-5",78:"IAB22-1",85:"IAB12-2",86:"IAB22-3",87:"IAB11-3",112:"IAB7-32",113:"IAB7-32",114:"IAB7-32",115:"IAB7-32",118:"IAB9-5",119:"IAB9-5",120:"IAB9-5",121:"IAB9-5",122:"IAB9-5",123:"IAB9-5",124:"IAB9-5",125:"IAB9-5",126:"IAB9-5",127:"IAB22-1",132:"IAB1-2",133:"IAB19-30",137:"IAB3-9",138:"IAB19-3",140:"IAB2-3",141:"IAB2-1",142:"IAB2-3",143:"IAB17-13",166:"IAB11-4",175:"IAB3-1",176:"IAB13-4",182:"IAB8-9",183:"IAB3-5"},oa=["user.keywords"].concat(Ur.Dy.flatMap((e=>["keywords","content.keywords"].map((t=>"".concat(e,".").concat(t))))));function aa(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return function(){const e=new Set;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.filter((e=>e)).flatMap((e=>Array.isArray(e)?e:e.split(","))).map((e=>e.replace(/^\s*/,"").replace(/\s*$/,""))).filter((e=>e)).forEach((t=>e.add(t))),Array.from(e.keys())}(...oa.map((t=>(0,A.A)(e,t))),...i)}const da={526:"1plusX",527:"1plusX",541:"captify_segments",540:"perid"},ca=["user.data"].concat(Ur.Dy.map((e=>"".concat(e,".content.data"))));function la(e,t,i){return null==t?i:(0,_.O8)(t)?t:(0,_.Et)(t)?t.toString():void(0,_.JE)("Unsuported type for param: "+e+" required type: String")}function ua(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords";const i=[];return(0,_.bu)(e,((e,n)=>{if((0,_.cy)(e)){let i=[];(0,_.bu)(e,(e=>{((e=la(t+"."+n,e))||""===e)&&i.push(e)})),e=i}else{if(e=la(t+"."+n,e),!(0,_.O8)(e))return;e=[e]}e=e.filter((e=>""!==e));const r={key:n};e.length>0&&(r.value=e),i.push(r)})),i}function pa(e){const t={};return e.forEach((e=>{if(-1!==e.indexOf("=")){let i=e.split("="),n=i[0],r=i[1];t.hasOwnProperty(n)?t[n].push(r):t[n]=[r]}else t.hasOwnProperty(e)||(t[e]=[])})),t}function ha(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return ua((0,_.D9)(...t.map((e=>Object.fromEntries(Object.entries(e||{}).map((e=>{let[t,i]=e;return[t,(0,_.Et)(i)||(0,_.O8)(i)?[i]:i]})))))))}function fa(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return ha(function(e){return pa(aa(e))}(e),function(e){let t={};return ca.forEach((i=>{((0,A.A)(e,i)||[]).forEach((e=>{const i=da[(0,A.A)(e,"ext.segtax")];i&&e.segment.forEach((e=>{t[i]?t[i].push(e.id):t[i]=[e.id]}))}))})),t}(e),...i)}function ga(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")}function ma(e,t){return Object.keys(e).forEach((i=>{var n,r;t[i]&&((0,_.fp)(e[i])?t[i]=e[i](t[i]):t[i]=(n=e[i],r=t[i],"string"===n?r&&r.toString():"number"===n?Number(r):r),isNaN(t[i])&&delete t.key)})),t}function va(e,t){let i=[];for(let n=0;n<Math.ceil(e.length/t);n++){let r=n*t,s=r+t;i.push(e.slice(r,s))}return i}const ba="appnexus",ya="https://ib.adnxs.com/ut/v3/prebid",Aa="https://ib.adnxs-simple.com/ut/v3/prebid",_a=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],Ea=["minduration","maxduration","skip","skipafter","playbackmethod","api","startdelay","placement","plcmt"],Ia=["age","externalUid","external_uid","segments","gender","dnt","language"],wa=["geo","device_id"],Sa=["enabled","dongle","member_id","debug_timeout"],Ca={apn_debug_dongle:"dongle",apn_debug_member_id:"member_id",apn_debug_timeout:"debug_timeout"},Ta={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5,"in-feed":6,interstitial:7,accompanying_content_pre_roll:8,accompanying_content_mid_roll:9,accompanying_content_post_roll:10}},Oa={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},xa="<script",Ra=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,Da="trk.js",Ua=(0,ne.vM)({bidderCode:ba}),Ba={code:ba,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"emxdigital",gvlid:183},{code:"emetriq",gvlid:213},{code:"pagescience",gvlid:32},{code:"gourmetads",gvlid:32},{code:"matomy",gvlid:32},{code:"featureforward",gvlid:32},{code:"oftmedia",gvlid:32},{code:"adasta",gvlid:32},{code:"beintoo",gvlid:618},{code:"projectagora",gvlid:1032},{code:"uol",gvlid:32},{code:"adzymic",gvlid:723}],supportedMediaTypes:[w.D4,w.G_,w.s6],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.placement_id||e.params.member&&(e.params.invCode||e.params.inv_code))},buildRequests:function(e,t){var i,n;const r=(e=(0,ra.Xj)(e)).map(ka),s=(0,I.I6)(e,$a);let o={};!0===y.$W.getConfig("coppa")&&(o={coppa:!0}),s&&Object.keys(s.params.user).filter((e=>(0,I.mK)(Ia,e))).forEach((e=>{let t=ga(e);if("segments"===e&&(0,_.cy)(s.params.user[e])){let i=[];s.params.user[e].forEach((e=>{(0,_.Et)(e)?i.push({id:e}):(0,_.Qd)(e)&&i.push(e)})),o[t]=i}else"segments"!==e&&(o[t]=s.params.user[e])}));const a=(0,I.I6)(e,La);let d;a&&a.params&&a.params.app&&(d={},Object.keys(a.params.app).filter((e=>(0,I.mK)(wa,e))).forEach((e=>d[e]=a.params.app[e])));const c=(0,I.I6)(e,Na);let l;c&&c.params&&a.params.app&&a.params.app.id&&(l={appid:c.params.app.id});let u={},p={};const h=Ua.getCookie("apn_prebid_debug")||null;if(h)try{u=JSON.parse(h)}catch(e){(0,_.vV)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{Object.keys(Ca).forEach((e=>{let t=(0,_.Ez)(e);(0,_.O8)(t)&&""!==t&&(u[Ca[e]]=t,u.enabled=!0)})),u=ma({member_id:"number",debug_timeout:"number"},u);const t=(0,I.I6)(e,ja);t&&t.debug&&(u=t.debug)}u&&u.enabled&&Object.keys(u).filter((e=>(0,I.mK)(Sa,e))).forEach((e=>{p[e]=u[e]}));const f=(0,I.I6)(e,Ma),g=f?parseInt(f.params.member,10):0,m=e[0].schain,v=(0,I.I6)(e,za),b={tags:[...r],user:o,sdk:{source:"pbjs",version:"8.52.2"},schain:m};v&&(b.iab_support={omidpn:"Appnexus",omidpv:"8.52.2"}),g>0&&(b.member_id=g),a&&(b.device=d),c&&(b.app=l);let A=fa((0,_.Go)(t&&t.ortb2),(0,_.Go)(y.$W.getConfig("appnexusAuctionKeywords"))||{});if(A.length>0&&(b.keywords=A),y.$W.getConfig("adpod.brandCategoryExclusion")&&(b.brand_category_uniqueness=!0),p.enabled&&(b.debug=p,(0,_.fH)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(p,null,4))),t&&t.gdprConsent&&(b.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))){let e=t.gdprConsent.addtlConsent,i=e.substring(e.indexOf("~")+1);b.gdpr_consent.addtl_consent=i.split(".").map((e=>parseInt(e,10)))}if(t&&t.uspConsent&&(b.us_privacy=t.uspConsent),null!=t&&t.gppConsent?b.privacy={gpp:t.gppConsent.gppString,gpp_sid:t.gppConsent.applicableSections}:null!=t&&null!==(i=t.ortb2)&&void 0!==i&&null!==(i=i.regs)&&void 0!==i&&i.gpp&&(b.privacy={gpp:t.ortb2.regs.gpp,gpp_sid:t.ortb2.regs.gpp_sid}),t&&t.refererInfo){let e={rd_ref:encodeURIComponent(t.refererInfo.topmostLocation),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((e=>encodeURIComponent(e))).join(",")},i=t.refererInfo.canonicalUrl;(0,_.O8)(i)&&""!==i&&(e.rd_can=i),b.referrer_detection=e}(0,I.I6)(e,Fa)&&e.filter(Fa).forEach((e=>{const t=function(e,t){const{durationRangeSec:i,requireExactDuration:n}=t.mediaTypes.video,r=function(e){const{adPodDurationSec:t,durationRangeSec:i,requireExactDuration:n}=e,r=Math.min(...i),s=Math.floor(t/r);return n?Math.max(s,i.length):s}(t.mediaTypes.video),s=Math.max(...i),o=e.filter((e=>e.uuid===t.bidId));let a=function(e,t){let i=[];for(let n=0;n<t;n++){let t=(0,_.Qd)(e)?(0,_.Go)(e):e;i.push(t)}return i}(...o,r);if(n){const e=va(a,Math.ceil(r/i.length));i.forEach(((t,i)=>{e[i].map((e=>{qa(e,"minduration",t),qa(e,"maxduration",t)}))}))}else a.map((e=>qa(e,"maxduration",s)));return a}(r,e),i=b.tags.filter((t=>t.uuid!==e.bidId));b.tags=[...i,...t]}));if(e[0].userId){let t=[];e[0].userIdAsEids.forEach((e=>{!e||!e.uids||e.uids.length<1||e.uids.forEach((i=>{let n={source:e.source,id:i.id};"adserver.org"==e.source?n.rti_partner="TDID":"uidapi.com"==e.source&&(n.rti_partner="UID2"),t.push(n)}))})),t.length&&(b.eids=t)}if(null!=t&&null!==(n=t.ortb2)&&void 0!==n&&null!==(n=n.regs)&&void 0!==n&&null!==(n=n.ext)&&void 0!==n&&n.dsa){const e=t.ortb2.regs.ext.dsa,i={};if(["dsarequired","pubrender","datatopub"].forEach((t=>{(0,_.Et)(e[t])&&(i[t]=e[t])})),(0,_.cy)(e.transparency)&&e.transparency.every((e=>(0,_.Qd)(e)))){const t=[];e.transparency.forEach((e=>{(0,_.O8)(e.domain)&&""!=e.domain&&(0,_.cy)(e.dsaparams)&&e.dsaparams.every((e=>(0,_.Et)(e)))&&t.push(e)})),t.length>0&&(i.transparency=t)}(0,_.Im)(i)||(b.dsa=i)}r[0].publisher_id&&(b.publisher_id=r[0].publisher_id);const E=function(e,t){let i=[],n={withCredentials:!0},r=ya;Ss(null==t?void 0:t.gdprConsent)||(r=Aa);"TRUE"!==(0,_.Ez)("apn_test").toUpperCase()&&!0!==y.$W.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1});if(e.tags.length>15){const s=(0,_.Go)(e);va(e.tags,15).forEach((e=>{s.tags=e;const o=JSON.stringify(s);i.push({method:"POST",url:r,data:o,bidderRequest:t,options:n})}))}else{const s=JSON.stringify(e);i={method:"POST",url:r,data:s,bidderRequest:t,options:n}}return i}(b,t);return E},interpretResponse:function(e,t){let{bidderRequest:i}=t;e=e.body;const n=[];if(!e||e.error){let t="in response for ".concat(i.bidderCode," adapter");return e&&e.error&&(t+=": ".concat(e.error)),(0,_.vV)(t),n}if(e.tags&&e.tags.forEach((e=>{const t=(r=e)&&r.ads&&r.ads.length&&(0,I.I6)(r.ads,(e=>e.rtb));var r;if(t){if((!0===io.u.get(i.bidderCode,"allowZeroCpmBids")?t.cpm>=0:t.cpm>0)&&(0,I.mK)(this.supportedMediaTypes,t.ad_type)){const r=function(e,t,i){const n=(0,_.D4)(e.uuid,[i]),r=(0,_.s0)(),s={adId:r,requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:t.publisher_currency_codename||"USD",netRevenue:!0,ttl:300,adUnitCode:n.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};t.adomain&&(s.meta=Object.assign({},s.meta,{advertiserDomains:[t.adomain]}));t.advertiser_id&&(s.meta=Object.assign({},s.meta,{advertiserId:t.advertiser_id}));t.dsa&&(s.meta=Object.assign({},s.meta,{dsa:t.dsa}));function o(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}t.buyer_member_id&&(s.meta=Object.assign({},s.meta,{dchain:o(t)}));t.brand_id&&(s.meta=Object.assign({},s.meta,{brandId:t.brand_id}));if(t.rtb.video){Object.assign(s,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600});switch((0,A.A)(n,"mediaTypes.video.context")){case w.LM:const n=sa[t.brand_category_id]?sa[t.brand_category_id]:null;s.meta=Object.assign({},s.meta,{primaryCatId:n});const r=t.deal_priority;s.video={context:w.LM,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:r},s.vastUrl=t.rtb.video.asset_url;break;case gr.H6:if(s.adResponse=e,s.adResponse.ad=s.adResponse.ads[0],s.adResponse.ad.video=s.adResponse.ad.rtb.video,s.vastXml=t.rtb.video.content,t.renderer_url){const n=(0,I.I6)(i.bids,(t=>t.bidId===e.uuid));let r=(0,A.A)(n,"mediaTypes.video.renderer.options");r||(r=(0,A.A)(n,"renderer.options")),s.renderer=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=na.A4.install({id:t.renderer_id,url:t.renderer_url,config:i,loaded:!1,adUnitCode:e});try{n.setRender(Va)}catch(e){(0,_.JE)("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:()=>(0,_.OG)("AppNexus outstream video impression event"),loaded:()=>(0,_.OG)("AppNexus outstream video loaded event"),ended:()=>{(0,_.OG)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(s.adUnitCode,t,r)}break;case gr.mn:s.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}}else if(t.rtb[w.s6]){const e=t.rtb[w.s6];let i;if(function(e){if(!e||""===e)return!1;let t=e.match(Ra),i=null!=t&&t.length>=1,n=e.match(Da),r=null!=n&&n.length>=1;return e.startsWith(xa)&&r&&i}(t.viewability.config)){let e="pbjs_adid="+r+";pbjs_auc="+n.adUnitCode;i=t.viewability.config.replace("dom_id=%native_dom_id%",e)}let o=e.javascript_trackers;null==o?o=i:(0,_.O8)(o)?o=[o,i]:o.push(i),s[w.s6]={title:e.title,body:e.desc,body2:e.desc2,cta:e.ctatext,rating:e.rating,sponsoredBy:e.sponsored,privacyLink:e.privacy_link,address:e.address,downloads:e.downloads,likes:e.likes,phone:e.phone,price:e.price,salePrice:e.saleprice,clickUrl:e.link.url,displayUrl:e.displayurl,clickTrackers:e.link.click_trackers,impressionTrackers:e.impression_trackers,video:e.video,javascriptTrackers:o},e.main_img&&(s.native.image={url:e.main_img.url,height:e.main_img.height,width:e.main_img.width}),e.icon&&(s.native.icon={url:e.icon.url,height:e.icon.height,width:e.icon.width})}else{Object.assign(s,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{if(t.rtb.trackers)for(let e=0;e<t.rtb.trackers[0].impression_urls.length;e++){const i=t.rtb.trackers[0].impression_urls[e],n=(0,_.Tz)(i);s.ad+=n}}catch(e){(0,_.vV)("Error appending tracking pixel",e)}}return s}(e,t,i);r.mediaType=function(e){const t=e.ad_type;return t===w.G_?w.G_:t===w.s6?w.s6:w.D4}(t),n.push(r)}}})),e.debug&&e.debug.debug_info){let t="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;t=t.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),(0,_.OG)("https://console.appnexus.com/docs/understanding-the-debug-auction"),(0,_.OG)(t)}return n},getUserSyncs:function(e,t,i,n,r){if(e.iframeEnabled&&Ss(i))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t,i,n){let r=ua;if(!0===t){let e=null,t=y.$W.getConfig("s2sConfig");(0,_.Qd)(t)?e=(0,A.A)(t,"endpoint.p1Consent"):(0,_.cy)(t)&&t.forEach((t=>{(0,I.mK)(t.bidders,i.bids[0].bidder)&&(e=(0,A.A)(t,"endpoint.p1Consent"))})),e&&e.match("/openrtb2/prebid")&&(r=Wa)}return e=ma({member:"string",invCode:"string",placementId:"number",keywords:r,publisherId:"number"},e),t&&(Object.keys(e).forEach((t=>{let i=ga(t);i!==t&&(e[i]=e[t],delete e[t])})),e.use_pmt_rule="boolean"==typeof e.use_payment_rule&&e.use_payment_rule,e.use_payment_rule&&delete e.use_payment_rule),e}};function ka(e){var t;const i={};Object.keys(e.params).forEach((t=>{let i=ga(t);i!==t&&(e.params[i]=e.params[t],delete e.params[t])})),i.sizes=Pa(e.sizes),i.primary_size=i.sizes[0],i.ad_types=[],i.uuid=e.bidId,e.params.placement_id?i.id=parseInt(e.params.placement_id,10):i.code=e.params.inv_code;const n=(0,_.Ez)("ast_override_div");if((0,_.O8)(n)&&""!==n){const t=n.split(",").find((t=>t.startsWith("".concat(e.adUnitCode,":"))));if(t){const e=t.split(":")[1];e&&(i.force_creative_id=parseInt(e,10))}}i.allow_smaller_sizes=e.params.allow_smaller_sizes||!1,i.use_pmt_rule="boolean"==typeof e.params.use_payment_rule?e.params.use_payment_rule:"boolean"==typeof e.params.use_pmt_rule&&e.params.use_pmt_rule,i.prebid=!0,i.disable_psa=!0;let r=function(e){if(!(0,_.fp)(e.getFloor))return e.params.reserve?e.params.reserve:null;let t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});if((0,_.Qd)(t)&&!isNaN(t.floor)&&"USD"===t.currency)return t.floor;return null}(e);if(r&&(i.reserve=r),e.params.position)i.position={above:1,below:2}[e.params.position]||0;else{let t=(0,A.A)(e,"mediaTypes.banner.pos")||(0,A.A)(e,"mediaTypes.video.pos");0!==t&&1!==t&&3!==t||(i.position=3===t?2:t)}e.params.traffic_source_code&&(i.traffic_source_code=e.params.traffic_source_code),e.params.private_sizes&&(i.private_sizes=Pa(e.params.private_sizes)),e.params.supply_type&&(i.supply_type=e.params.supply_type),e.params.pub_click&&(i.pubclick=e.params.pub_click),e.params.ext_inv_code&&(i.ext_inv_code=e.params.ext_inv_code),e.params.publisher_id&&(i.publisher_id=parseInt(e.params.publisher_id,10)),e.params.external_imp_id&&(i.external_imp_id=e.params.external_imp_id);const s=ha((o=(0,A.A)(e,"ortb2Imp.ext.data.keywords"),(0,_.O8)(o)&&""!==o?pa(o.split(/\s*(?:,)\s*/)):{}),null===(t=e.params)||void 0===t?void 0:t.keywords);var o;s.length>0&&(i.keywords=s);let a=(0,A.A)(e,"ortb2Imp.ext.gpid")||(0,A.A)(e,"ortb2Imp.ext.data.pbadslot");if(a&&(i.gpid=a),(e.mediaType===w.s6||(0,A.A)(e,"mediaTypes.".concat(w.s6)))&&(i.ad_types.push(w.s6),0===i.sizes.length&&(i.sizes=Pa([1,1])),e.nativeParams)){const t=function(e){const t={};return Object.keys(e).forEach((i=>{const n=Oa[i]&&Oa[i].serverName||Oa[i]||i,r=Oa[i]&&Oa[i].requiredParams;t[n]=Object.assign({},r,e[i]);if(!(n!==Oa.image.serverName&&n!==Oa.icon.serverName)&&t[n].sizes){let e=t[n].sizes;((0,_.Uu)(e)||(0,_.cy)(e)&&e.length>0&&e.every((e=>(0,_.Uu)(e))))&&(t[n].sizes=Pa(t[n].sizes))}n===Oa.privacyLink&&(t.privacy_supported=!0)})),t}(e.nativeParams);i[w.s6]={layouts:[t]}}{const t=(0,A.A)(e,"mediaTypes.".concat(w.G_)),n=(0,A.A)(e,"mediaTypes.video.context");i.hb_source=t&&"adpod"===n?7:1,(e.mediaType===w.G_||t)&&i.ad_types.push(w.G_),(e.mediaType===w.G_||t&&"outstream"!==n)&&(i.require_asset_url=!0),e.params.video&&(i.video={},Object.keys(e.params.video).filter((e=>(0,I.mK)(_a,e))).forEach((t=>{switch(t){case"context":case"playback_method":let n=e.params.video[t];n=(0,_.cy)(n)?n[0]:n,i.video[t]=Ta[t][n];break;case"frameworks":break;default:i.video[t]=e.params.video[t]}})),e.params.video.frameworks&&(0,_.cy)(e.params.video.frameworks)&&(i.video_frameworks=e.params.video.frameworks)),t&&(i.video=i.video||{},Object.keys(t).filter((e=>(0,I.mK)(Ea,e))).forEach((e=>{switch(e){case"minduration":case"maxduration":"number"!=typeof i.video[e]&&(i.video[e]=t[e]);break;case"skip":"boolean"!=typeof i.video.skippable&&(i.video.skippable=1===t[e]);break;case"skipafter":"number"!=typeof i.video.skipoffset&&(i.video.skippoffset=t[e]);break;case"playbackmethod":if("number"!=typeof i.video.playback_method){let n=t[e];n=(0,_.cy)(n)?n[0]:n,n>=1&&n<=4&&(i.video.playback_method=n)}break;case"api":if(!i.video_frameworks&&(0,_.cy)(t[e])){let n=t[e].map((e=>{let t=4===e?5:5===e?4:e;if(t>=1&&t<=5)return t})).filter((e=>e));i.video_frameworks=n}break;case"startdelay":case"plcmt":case"placement":if("number"!=typeof i.video.context){const e=t.plcmt,n=t.placement,r=t.startdelay,s=function(e,t){if(!e)return;if(2===e){if(void 0===t)return;if(0===t)return"accompanying_content_pre_roll";if(-1===t)return"accompanying_content_mid_roll";if(-2===t)return"accompanying_content_post_roll"}else{if(3===e)return"interstitial";if(4===e)return"outstream"}}(e,r)||function(e){if(!e)return;if(2===e)return"in-banner";if(3===e)return"outstream";if(4===e)return"in-feed";if(5===e)return"intersitial"}(n)||function(e){if(!e)return;if(0===e)return"pre_roll";if(-1===e)return"mid_roll";if(-2===e)return"post_roll"}(r);i.video.context=Ta.context[s]}}}))),e.renderer&&(i.video=Object.assign({},i.video,{custom_renderer_present:!0}))}return e.params.frameworks&&(0,_.cy)(e.params.frameworks)&&(i.banner_frameworks=e.params.frameworks),(0,A.A)(e,"mediaTypes.".concat(w.D4))&&i.ad_types.push(w.D4),0===i.ad_types.length&&delete i.ad_types,i}function Pa(e){let t=[],i={};if((0,_.cy)(e)&&2===e.length&&!(0,_.cy)(e[0]))i.width=parseInt(e[0],10),i.height=parseInt(e[1],10),t.push(i);else if("object"==typeof e)for(let n=0;n<e.length;n++){let r=e[n];i={},i.width=parseInt(r[0],10),i.height=parseInt(r[1],10),t.push(i)}return t}function $a(e){return!!e.params.user}function Ma(e){return!!parseInt(e.params.member,10)}function La(e){if(e.params)return!!e.params.app}function Na(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function ja(e){return!!e.debug}function Fa(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===w.LM}function za(e){let t=!1;const i=e.params,n=e.params.video;return i.frameworks&&(0,_.cy)(i.frameworks)&&(t=(0,I.mK)(e.params.frameworks,6)),!t&&n&&n.frameworks&&(0,_.cy)(n.frameworks)&&(t=(0,I.mK)(e.params.video.frameworks,6)),t}function qa(e,t,i){(0,_.Im)(e.video)&&(e.video={}),e.video[t]=i}function Va(e,t){!function(e){try{const t=document.getElementById(e).querySelectorAll("div[id^='google_ads']");t[0]&&t[0].style.setProperty("display","none")}catch(e){}}(e.adUnitCode),function(e){try{const t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((()=>{((null==t?void 0:t.defaultView)||window).ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},Ga.bind(null,e))}))}function Ga(e,t,i){e.renderer.handleVideoEvent({id:t,eventName:i})}function Wa(e){let t="";return Object.keys(e).forEach((i=>{(0,_.O8)(e[i])?""!==e[i]?t+="".concat(i,"=").concat(e[i],","):t+="".concat(i,","):(0,_.cy)(e[i])&&(""===e[i][0]?t+="".concat(i,","):e[i].forEach((e=>{t+="".concat(i,"=").concat(e,",")})))})),t=t.substring(0,t.length-1),t}(0,Is.a$)(Ba),(0,b.E)("appnexusBidAdapter");const Ha="conversant",Ya=(0,ne.vM)({gvlid:24,bidderCode:Ha});function Ja(e,t){const i=function(e){let t=null;e.userId&&e.userId.pubcid?t=e.userId.pubcid:e.crumbs&&e.crumbs.pubcid&&(t=e.crumbs.pubcid);if(!t){t=function(e){let t;try{if(t=Ya.getCookie(e),!t){const i=Ya.getDataFromLocalStorage("".concat(e,"_exp"));(""===i||i&&new Date(i).getTime()-Date.now()>0)&&(t=Ya.getDataFromLocalStorage(e),t=t?decodeURIComponent(t):t)}(0,_.O8)(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t))}catch(e){(0,_.vV)(e)}return t}((0,_.u5)("pubcid_name",e.params)||"_pubcid")}return t}(e);i&&(0,E.J)(t,"user.ext.fpc",i)}const Ka=Us({context:{netRevenue:!0,ttl:300},request:function(e,t,i,n){const r=e(t,i,n);if(r.at=1,n.bidRequests){const e=n.bidRequests[0];!function(e,t){e.params.site_id&&(t.site&&(t.site.id=e.params.site_id),t.app&&(t.app.id=e.params.site_id))}(e,r),Ja(e,r)}return r},imp(e,t,i){const n=e(t,i),r={secure:1,bidfloor:Za(t)||0,displaymanager:"Prebid.js",displaymanagerver:"8.52.2"};return Xa(t.params.tag_id,r,"tagid"),(0,_.D9)(n,r,n),n},bidResponse:function(e,t,i){if(!t.price)return;if(!i.mediaType&&i.bidRequest.mediaTypes){const[e]=Object.keys(i.bidRequest.mediaTypes);Object.values(xs).includes(e)&&(i.mediaType=e)}return e(t,i)},response:(e,t,i,n)=>e(t,i,n),overrides:{imp:{banner(e,t,i,n){i.mediaTypes&&!i.mediaTypes.banner||(i.params.position&&(0,_.D9)(i,{mediaTypes:{banner:{pos:i.params.position}}}),e(t,i,n))},video(e,t,i,n){var r,s,o,a,d;if(i.mediaTypes&&!i.mediaTypes.video)return;const c={};Xa(null===(r=i.params)||void 0===r?void 0:r.position,c,"pos"),Xa(null===(s=i.params)||void 0===s?void 0:s.mimes,c,"mimes"),Xa(null===(o=i.params)||void 0===o?void 0:o.maxduration,c,"maxduration"),Xa(null===(a=i.params)||void 0===a?void 0:a.protocols,c,"protocols"),Xa(null===(d=i.params)||void 0===d?void 0:d.api,c,"api"),t.video=(0,_.D9)(c,t.video),e(t,i,n)}}}}),Qa={code:Ha,gvlid:24,aliases:["cnvr","epsilon"],supportedMediaTypes:[w.D4,w.G_],isBidRequestValid:function(e){if(!e||!e.params)return(0,_.JE)(Ha+": Missing bid parameters"),!1;if(!(0,_.O8)(e.params.site_id))return(0,_.JE)(Ha+": site_id must be specified as a string"),!1;if(function(e){return"video"===e.mediaType||!!(0,A.A)(e,"mediaTypes.video")}(e)){const t=e.params.mimes||(0,A.A)(e,"mediaTypes.video.mimes");if(t){if(!(0,_.cy)(t)||!t.every((e=>(0,_.O8)(e))))return(0,_.JE)(Ha+": mimes must be an array of strings"),!1}else(0,_.JE)(Ha+": mimes should be specified for videos")}return!0},buildRequests:function(e,t){const i=Ka.toORTB({bidderRequest:t,bidRequests:e});return{method:"POST",url:ed(e[0]),data:i}},interpretResponse:function(e,t){return Ka.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,i,n){let r={};const s=[];if(i&&(r.gdpr=i.gdprApplies?1:0,r.gdpr_consent=encodeURIComponent(i.consentString||"")),n&&(r.us_privacy=encodeURIComponent(n)),t&&t.ext){const i=[{urls:t.ext.fsyncs,type:"iframe"},{urls:t.ext.psyncs,type:"image"}].filter((t=>t.urls&&("iframe"===t.type&&e.iframeEnabled||"image"===t.type&&e.pixelEnabled))).map((e=>e.urls.map((t=>{let i=(0,_.Dl)(t);return(0,_.D9)(i.search,r),0===Object.keys(i.search).length&&delete i.search,{type:e.type,url:(0,_.c$)(i)}})).reduce(((e,t)=>e.concat(t)),[]))).reduce(((e,t)=>e.concat(t)),[]);s.push(...i)}return s}};function Xa(e,t,i){e&&(t[i]=e)}function Za(e){let t=(0,_.u5)("bidfloor",e.params);if(!t&&(0,_.fp)(e.getFloor)){const i=e.getFloor({currency:"USD",mediaType:"*",size:"*"});(0,_.Qd)(i)&&!isNaN(i.floor)&&"USD"===i.currency&&(t=i.floor)}return t}function ed(e){let t="https://web.hb.ad.cpe.dotomi.com/cvx/client/hb/ortb/25";return e.params.white_label_url&&(t=e.params.white_label_url),t}(0,Is.a$)(Qa),(0,b.E)("conversantBidAdapter");const td="gumgum",id=(0,ne.vM)({bidderCode:td}),nd={t:0,rq:8,pbv:"8.52.2"},rd=[w.D4,w.G_],sd=["dac.co.jp","audigent.com","id5-sync.com","liveramp.com","intentiq.com","liveintent.com","crwdcntrl.net","quantcast.com","adserver.org","yahoo.com"];let od={},ad=null;function dd(e){const t=e=>new RegExp("[?#&](".concat(e,"=(.*?))($|&)"),"i");let i,n,s,o,a,d,c={};try{i=r.g.top,n=i.screen,s=e||""}catch(e){return(0,_.vV)(e),c}var l;return c={vw:i.innerWidth,vh:i.innerHeight,sw:n.width,sh:n.height,pu:(l=s,["ggad","ggdeal"].reduce(((e,i)=>{const n=l.match(t(i));return n?(n[1]&&(e=e.replace(n[1],"")),n[3]&&(e=e.replace(n[3],"")),e):e}),l)),ce:id.cookiesAreEnabled(),dpr:i.devicePixelRatio||1,jcsi:JSON.stringify(nd),ogu:function(){let e="";const t=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']");return e=t?t.content:null,e}()},d=function(){const e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),t=e&&(e.downlink||e.bandwidth);return t?Math.round(1024*t):null}(),d&&(c.ns=d),o=(s.match(t("ggad"))||[0,0,0])[2],o&&(c[isNaN(o)?"eAdBuyId":"adBuyId"]=o),a=(s.match(t("ggdeal"))||[0,0,0])[2],a&&(c.ggdeal=a),c}function cd(e,t){return e.replace("AD_JSON",window.btoa(JSON.stringify(t)))}function ld(e){let t=0,i=0,n=0;return e.forEach((e=>{let[r,s]=e,o=r>s?r:s;(o>n||o===n&&r>=t&&s>=i)&&(n=o,t=r,i=s)})),[t,i]}function ud(e,t){const i={};if(e.inScreenPubID&&(i.pubId=e.inScreenPubID,i.pi=2),e.inScreen&&(i.t=e.inScreen,i.pi=2),e.inSlot){const[n,r]=ld(t);i.maxw=n,i.maxh=r,i.si=e.inSlot,i.pi=3,i.bf=t.reduce(((e,t)=>"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])),"")}return e.ICV&&(i.ni=e.ICV,i.pi=5),e.videoPubID&&(i.pubId=e.videoPubID,i.pi=7),e.video&&(i.t=e.video,i.pi=7),e.inVideo&&(i.t=e.inVideo,i.pi=6),i}const pd={code:td,gvlid:61,aliases:["gg"],isBidRequestValid:function(e){const{params:t,adUnitCode:i}=e,n=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(od[n])return(0,_.JE)("[GumGum] Please check the implementation for ".concat(n," for the placement ").concat(i)),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return(0,_.JE)("[GumGum] No product selected for the placement ".concat(i,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor)))||((0,_.JE)("[GumGum] bidfloor must be a Number"),!1)},buildRequests:function(e,t){const i=[],n=t&&t.gdprConsent,r=t&&t.uspConsent,s=t&&t.gppConsent,o=t&&t.timeout,a=!0===y.$W.getConfig("coppa")?1:0,d=t&&t.refererInfo&&t.refererInfo.page;return(0,_.bu)(e,(e=>{var c,l;const{bidId:u,mediaTypes:p={},params:h={},schain:f,userId:g={},ortb2Imp:m,adUnitCode:v=""}=e,{currency:b,floor:y}=function(e,t,i){const n=Object.keys(e)[0]||"banner",r={floor:0,currency:"USD"};if("function"==typeof i.getFloor){const{currency:e,floor:s}=i.getFloor({mediaType:n,size:"*"});s&&(r.floor=s),e&&(r.currency=e),t&&s&&"USD"===e&&(r.floor=Math.max(t,parseFloat(s)))}else t&&(r.floor=t);return r}(p,h.bidfloor,e),E=function(e){const t=["uid","eid","lipbid","envelope"];return Object.keys(e).reduce((function(i,n){const r=e[n];switch(typeof r){case"string":i[n]=r;break;case"object":const e=t.filter((e=>r.hasOwnProperty(e)));e.length&&(i[n]=r[e[0]])}return i}),{})}(g),I=(0,A.A)(m,"ext.gpid")||(0,A.A)(m,"ext.data.pbadslot");let w=[1,1],S={displaymanager:"Prebid.js - gumgum",displaymanagerver:"8.52.2"};const C=new Date,T=C.getTime(),O=C.getTimezoneOffset();if(S.lt=T,S.to=O,g&&g.pubProvidedId){let e=function(e,t){let i=JSON.stringify(e);if(i.length<=t)return i;{const n=e.slice(0,Math.floor(e.length*(t/i.length)));return i=JSON.stringify(n),i}}(g.pubProvidedId.filter((e=>sd.includes(e.source))),1800);S.pubProvidedId=e}g&&g.id5id&&g.id5id.uid&&g.id5id.ext&&(S.id5Id=g.id5id.uid||null,S.id5IdLinkType=g.id5id.ext.linkType||null),v&&(S.aun=v);for(const e in E)S[e]=E[e];if(p.banner?w=p.banner.sizes:p.video&&(w=p.video.playerSize,S=function(e){const{minduration:t,maxduration:i,linearity:n,startdelay:r,placement:s,plcmt:o,protocols:a=[],playerSize:d=[]}=e,c=(0,_.kK)(d),[l,u]=c[0]&&c[0].split("x");let p="";a.length&&(p=a.join(","));const h={mind:t,maxd:i,li:n,sd:r,pt:s,pr:p,viw:l,vih:u};return null!=o&&(h.vplcmt=o),h}(p.video)),I&&(S.gpid=I),ad&&(S.pv=ad),y&&(S.fp=y,S.fpc=b),t&&t.ortb2&&t.ortb2.site&&function(e,t,i){let n=function(e){if(e.content&&Array.isArray(e.content.data))for(const t of e.content.data)if(t.name.includes("iris.com")||t.name.includes("iris.tv"))return t.ext.cids.join(",");return null}(t);n?e.irisid=n:i.irisid&&"string"==typeof i.irisid&&(e.irisid=i.irisid)}(S,t.ortb2.site,h),h.iriscat&&"string"==typeof h.iriscat&&(S.iriscat=h.iriscat),h.zone||h.pubId)if(h.zone?S.t=h.zone:S.pubId=h.pubId,S.pi=2,h.slot){const[e,t]=ld(w);S.maxw=e,S.maxh=t,S.si=h.slot,S.pi=3,S.bf=w.reduce(((e,t)=>"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])),"")}else h.native?(S.ni=h.native,S.pi=5):p.video?S.pi=2===p.video.linearity?6:7:h.product&&"skins"===h.product.toLowerCase()&&(S.pi=8);else S={...S,...ud(h,w)};n&&(S.gdprApplies=n.gdprApplies?1:0),S.gdprApplies&&(S.gdprConsent=n.consentString),r&&(S.uspConsent=r),s?(S.gppString=t.gppConsent.gppString?t.gppConsent.gppString:"",S.gppSid=Array.isArray(t.gppConsent.applicableSections)?t.gppConsent.applicableSections.join(","):""):!s&&null!=t&&null!==(c=t.ortb2)&&void 0!==c&&null!==(c=c.regs)&&void 0!==c&&c.gpp&&(S.gppString=t.ortb2.regs.gpp,S.gppSid=Array.isArray(t.ortb2.regs.gpp_sid)?t.ortb2.regs.gpp_sid.join(","):"");const x=(0,A.A)(t,"ortb2.regs.ext.dsa");x&&(S.dsa=JSON.stringify(x)),a&&(S.coppa=a),f&&f.nodes&&(S.schain=function(e){let t="".concat(e.ver,",").concat(e.complete);return e.nodes.map((e=>{t+="!".concat(encodeURIComponent(e.asi||""),","),t+="".concat(encodeURIComponent(e.sid||""),","),t+="".concat(encodeURIComponent(e.hp||""),","),t+="".concat(encodeURIComponent(e.rid||""),","),t+="".concat(encodeURIComponent(e.name||""),","),t+="".concat(encodeURIComponent(e.domain||""))})),t}(f)),i.push({id:u,tmax:o,tId:null==m||null===(l=m.ext)||void 0===l?void 0:l.tid,pi:S.pi,selector:h.selector,sizes:w,url:"https://g2.gumgum.com/hbid/imp",method:"GET",data:Object.assign(S,dd(d))})})),i},interpretResponse:function(e,t){const i=[],n=e.body;if(!n||n.err){const e=t.data||{},i=e.si||e.ni||e.t||e.pubId,r=n?n.err.drt:18e5;od[i]={productId:e.pi,timestamp:(new Date).getTime()},setTimeout((()=>{od[i]&&delete od[i]}),r),(0,_.JE)("[GumGum] Please check the implementation for ".concat(i))}const{ad:{price:r,id:s,markup:o,cur:a,width:d,height:c,maxw:l,maxh:u},cw:p,pag:{pvid:h},jcsi:f,meta:{adomain:g,mediaType:m}}=Object.assign({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},n);let v=t.data||{},b=v.pi,y=6===b||7===b?w.G_:w.D4,A=3===b&&9===v.si,E={advertiserDomains:g||[],mediaType:m||y},S=(0,_.kK)(t.sizes);if(l&&u)S=["".concat(l,"x").concat(u)];else if(5===b&&(0,I.mK)(S,"1x1"))S=["1x1"];else if(2===b&&(0,I.mK)(S,"1x1")||3===b){const e=t.sizes&&t.sizes.reduce(((e,t)=>{const[i,n]=t;return d===i&&c===n&&e.push(t.join("x")),e}),[])||[];S=e.length?e:(0,_.kK)(t.sizes)}let[C,T]=S[0].split("x");return f&&(n.jcsi=nd),ad=h,s&&i.push({ad:p?cd(p,Object.assign({},n,{bidRequest:t})):o,...y===w.G_&&{ad:o,vastXml:o},mediaType:y,cpm:A?.1:r,creativeId:s,currency:a||"USD",height:T,netRevenue:!0,requestId:t.id,ttl:60,width:C,meta:E}),i},getUserSyncs:function(e,t){return t.map((e=>e.body&&e.body.pxs&&e.body.pxs.scr||[])).reduce((function(e,t){return e.concat(t)}),[]).map((e=>({type:"f"===e.t?"iframe":"image",url:e.u})))},supportedMediaTypes:rd};(0,Is.a$)(pd),(0,b.E)("gumgumBidAdapter");const hd="ix",fd="roundel",gd=[w.D4,w.G_,w.s6],md=50,vd=[144,144],bd={JPY:1},yd={PBJS:"p",IX:"x"},Ad={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},_d={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":"","utiq.com":"","criteo.com":"","euid.eu":"","intimatemerger.com":"","33across.com":"","liveintent.indexexchange.com":"","google.com":""},Ed=["britepoolid","lipbid","criteoId","merkleId","parrableId","connectid","tapadId","quantcastId","pubProvidedId","pairId"],Id=["mimes","minduration","maxduration"],wd=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h","plcmt"],Sd="".concat(hd,"_features"),Cd=(0,ne.vM)({bidderCode:hd}),Td={REQUESTED_FEATURE_TOGGLES:["pbjs_enable_multiformat","pbjs_allow_all_eids"],featureToggles:{},isFeatureEnabled:function(e){return(0,A.A)(this.featureToggles,"features.".concat(e,".activated"),!1)},getFeatureToggles:function(){if(Cd.localStorageIsEnabled()){const e=(0,_.$l)(Cd.getDataFromLocalStorage(Sd));(0,A.A)(e,"expiry")&&e.expiry>=(new Date).getTime()?this.featureToggles=e:this.clearFeatureToggles()}},setFeatureToggles:function(e){const t=e.body,i=new Date,n=(0,A.A)(t,"ext.features");n&&(this.featureToggles={expiry:i.setHours(i.getHours()+1),features:n},Cd.localStorageIsEnabled()&&Cd.setDataInLocalStorage(Sd,JSON.stringify(this.featureToggles)))},clearFeatureToggles:function(){this.featureToggles={},Cd.localStorageIsEnabled()&&Cd.removeDataFromLocalStorage(Sd)}};let Od=0,xd="",Rd="",Dd=!1;const Ud=2;function Bd(e){const t=kd(e,w.G_),i=(0,A.A)(e,"mediaTypes.video"),n=(0,A.A)(e,"params.video");if(Nd(i,n).length)return{};t.video=n?(0,_.Go)(e.params.video):{};let r=(0,A.A)(e,"ortb2Imp.ext.tid");r&&(0,E.J)(t,"ext.tid",r),function(e,t){if((0,A.A)(t,"mediaTypes.video.context")===gr.H6){let i=(0,A.A)(t,"mediaTypes.video.renderer");if(i||(i=(0,A.A)(t,"renderer")),(0,A.A)(t,"schain",!1))e.displaymanager="pbjs_wrapper";else if(i&&"object"==typeof i){if(void 0!==i.url){let t="";try{t=new URL(i.url).hostname}catch{return}t.includes("js-sec.indexww")?e.displaymanager="ix":e.displaymanager=i.url}}else e.displaymanager="ix"}}(t,e),Wd(t,e);for(const e in i)-1===wd.indexOf(e)||t.video.hasOwnProperty(e)||(t.video[e]=i[e]);if(t.video.minduration>t.video.maxduration)return(0,_.vV)("IX Bid Adapter: video minduration [".concat(t.video.minduration,"] cannot be greater than video maxduration [").concat(t.video.maxduration,"]")),{};const s=n&&n.context||i&&i.context;if(function(e){e.video.hasOwnProperty("plcmt")&&(!(0,_.Fq)(e.video.plcmt)||e.video.plcmt<1||e.video.plcmt>4)&&((0,_.JE)("IX Bid Adapter: video.plcmt [".concat(e.video.plcmt,"] must be an integer between 1-4 inclusive")),delete e.video.plcmt)}(t),s&&!t.video.hasOwnProperty("placement")&&(s===gr.mn?t.video.placement=1:s===gr.H6?(0,A.A)(n,"playerConfig.floatOnScroll")?t.video.placement=5:(t.video.placement=3,Dd=!0):(0,_.JE)("IX Bid Adapter: Video context '".concat(s,"' is not supported"))),!t.video.w||!t.video.h){const i=jd((0,A.A)(t,"video.playerSize"))||jd((0,A.A)(e,"params.size"));if(!i)return(0,_.JE)("IX Bid Adapter: Video size is missing in [mediaTypes.video]"),{};t.video.w=i[0],t.video.h=i[1]}return Pd(e,t,w.G_),t}function kd(e,t){const i={};if(i.id=e.bidId,nc()&&(0,A.A)(e,"params.externalId")&&(0,E.J)(i,"ext.externalID",e.params.externalId),(0,A.A)(e,"params.".concat(t,".siteId"))&&!isNaN(Number(e.params[t].siteId)))switch(t){case w.D4:(0,E.J)(i,"ext.siteID",e.params.banner.siteId.toString());break;case w.G_:(0,E.J)(i,"ext.siteID",e.params.video.siteId.toString());break;case w.s6:(0,E.J)(i,"ext.siteID",e.params.native.siteId.toString())}else e.params.siteId&&(0,E.J)(i,"ext.siteID",e.params.siteId.toString());return!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(0,E.J)(i,"ext.sid",String(e.params.id)),i}function Pd(e,t,i){let n=null,r=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),(0,_.fp)(e.getFloor)){let n="*",s="*";if(i&&(0,_.gR)(gd,i)){const{w:e,h:r}=t[i];n=i,s=[e,r]}try{r=e.getFloor({mediaType:n,size:s})}catch(e){(0,_.JE)("priceFloors module call getFloor failed, error : ",e)}}let s=!1;r?(t.bidfloor=r.floor,t.bidfloorcur=r.currency,(0,E.J)(t,"ext.fl",yd.PBJS),s=!0):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,(0,E.J)(t,"ext.fl",yd.IX),s=!0),s&&(i==w.D4?((0,E.J)(t,"banner.ext.bidfloor",t.bidfloor),(0,E.J)(t,"banner.ext.fl",t.ext.fl)):i==w.G_?((0,E.J)(t,"video.ext.bidfloor",t.bidfloor),(0,E.J)(t,"video.ext.fl",t.ext.fl)):((0,E.J)(t,"native.ext.bidfloor",t.bidfloor),(0,E.J)(t,"native.ext.fl",t.ext.fl)))}function $d(e,t,i){var n;const r={},s=!(!(0,A.A)(e,"exp")||!(0,_.Fq)(e.exp)),o=(0,A.A)(e,"dealid")||(0,A.A)(e,"ext.dealid");bd.hasOwnProperty(t)?r.cpm=e.price/bd[t]:r.cpm=e.price/100,r.requestId=e.impid,o&&(r.dealId=o),r.netRevenue=true,r.currency=t,r.creativeId=e.hasOwnProperty("crid")?e.crid:"-",e.mtype!=Ud||(!e.ext||e.ext.vasturl)&&e.ext?e.ext&&e.ext.vasturl&&(r.vastUrl=e.ext.vasturl):r.vastXml=e.adm;let a=null;if("string"==typeof e.adm&&"{"===e.adm[0]&&"}"===e.adm[e.adm.length-1])try{a=JSON.parse(e.adm)}catch(e){(0,_.JE)("adm looks like JSON but failed to parse: ",e)}return e.ext&&e.ext.vasturl||e.mtype==Ud?(r.width=i.video.w,r.height=i.video.h,r.mediaType=w.G_,r.mediaTypes=i.mediaTypes,r.ttl=s?e.exp:3600):a&&a.native?(r.native={ortb:a.native},r.width=e.w?e.w:1,r.height=e.h?e.h:1,r.mediaType=w.s6,r.ttl=s?e.exp:3600):(r.ad=e.adm,r.width=e.w,r.height=e.h,r.mediaType=w.D4,r.ttl=s?e.exp:300),r.meta={},r.meta.networkId=(0,A.A)(e,"ext.dspid"),r.meta.brandId=(0,A.A)(e,"ext.advbrandid"),r.meta.brandName=(0,A.A)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(r.meta.advertiserDomains=e.adomain),null!==(n=e.ext)&&void 0!==n&&n.dsa&&(r.meta.dsa=e.ext.dsa),r}function Md(e){return Array.isArray(e)&&2===e.length&&(0,_.Fq)(e[0])&&(0,_.Fq)(e[1])}function Ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Md(e))return e[0]===t[0]&&e[1]===t[1];for(let i=0;i<e.length;i++)if(e[i][0]===t[0]&&e[i][1]===t[1])return!0;return!1}function Nd(e,t){const i=[];e||(0,_.JE)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");for(let n of Id){const r=e&&e.hasOwnProperty(n),s=t&&t.hasOwnProperty(n);r||s||i.push("IX Bid Adapter: ".concat(n," is not included in either the adunit or params level"))}const n=e&&e.hasOwnProperty("protocol"),r=e&&e.hasOwnProperty("protocols"),s=t&&t.hasOwnProperty("protocol"),o=t&&t.hasOwnProperty("protocols");return n||r||s||o||i.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),i}function jd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Md(e)?e:!!Md(e[0])&&e[0]}function Fd(e,t,i){if(!e)return;return{...(0,I.I6)(i,(t=>t.bidId===e)),...(0,I.I6)(t,(t=>t.id===e))}}function zd(e,t,i,n){let r="https://htlb.casalemedia.com/openrtb/pbjs",s=function(e){let t=[],i={};if((0,_.cy)(e))for(const n of e){const e=_d.hasOwnProperty(n.source),r=Td.isFeatureEnabled("pbjs_allow_all_eids"),s=(0,A.A)(n,"uids.0");if((e||r)&&s&&(i[n.source]=!0,e&&""!==_d[n.source]&&(n.uids[0].ext={rtiPartner:_d[n.source]}),delete n.uids[0].atype,t.push(n),t.length>=md))break}return{toSend:t,seenSources:i}}((0,A.A)(e,"0.userIdAsEids")),o=s.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo&&function(e,t){let i=window.headertag.getIdentityInfo();if(i&&"object"==typeof i)for(const n in i){if(e.length>=md)return;if(i.hasOwnProperty(n)){let r=i[n];!r.responsePending&&r.data&&"object"==typeof r.data&&Object.keys(r.data).length&&!t.seenSources[r.data.source]&&e.push(r.data)}}}(o,s),t&&t.bidderCode===fd&&!s.seenSources["liveramp.com"])return[];const a=[];let d=function(e){const t={};return t.id=e[0].bidderRequestId.toString(),t.site={},t.ext={},t.ext.source="prebid",t.ext.ixdiag={},t.ext.ixdiag.ls=Cd.localStorageIsEnabled(),t.imp=[],t.at=1,t}(e);d=function(e,t){t.length>0&&(e.ext.features={},t.forEach((t=>{e.ext.features[t]={activated:Td.isFeatureEnabled(t)}})));return e}(d,Td.REQUESTED_FEATURE_TOGGLES);let c=function(e,t){var i=e.map((e=>e.adUnitCode)).filter(((e,t,i)=>i.indexOf(e)===t));let n=(0,A.A)(e,"0.userIdAsEids",[]),r={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"8.52.2",userIds:Yd(e[0]),url:window.location.href.split("?")[0],vpd:Dd,ae:t,eidLength:n.length};for(let t of i){let i=e.filter((e=>e.adUnitCode===t))[0];(0,A.A)(i,"mediaTypes")&&(Object.keys(i.mediaTypes).length>1&&r.mfu++,(0,A.A)(i,"mediaTypes.native")&&r.nu++,(0,A.A)(i,"mediaTypes.banner")&&r.bu++,"outstream"===(0,A.A)(i,"mediaTypes.video.context")&&(r.ou++,ic(i)&&(r.ren=!0)),"instream"===(0,A.A)(i,"mediaTypes.video.context")&&r.iu++,r.allu++)}return r}(e,(0,A.A)(t,"fledgeEnabled"));for(let e in c)d.ext.ixdiag[e]=c[e];d=function(e,t,i,n,r){var s;const o=(0,A.A)(t,"timeout");o&&(e.ext.ixdiag.tmax=o);y.$W.getConfig("userSync")&&(e.ext.ixdiag.syncsPerBidder=y.$W.getConfig("userSync").syncsPerBidder);e.ext.ixdiag.imps=Object.keys(i).length,e.source={tid:null==t||null===(s=t.ortb2)||void 0===s||null===(s=s.source)||void 0===s?void 0:s.tid},n[0].schain&&(e.source.ext={},e.source.ext.schain=n[0].schain);r.length>0&&(e.user={},e.user.eids=r);document.referrer&&""!==document.referrer&&(e.site.ref=document.referrer);return e}(d,t,i,e,o),d=function(e,t){if(t){t.gdprConsent&&(xd=t.gdprConsent,xd.hasOwnProperty("gdprApplies")&&(e.regs={ext:{gdpr:xd.gdprApplies?1:0}}),xd.hasOwnProperty("consentString")&&(e.user=e.user||{},e.user.ext={consent:xd.consentString||""},xd.hasOwnProperty("addtlConsent")&&xd.addtlConsent&&(e.user.ext.consented_providers_settings={addtl_consent:xd.addtlConsent}))),t.uspConsent&&((0,E.J)(e,"regs.ext.us_privacy",t.uspConsent),Rd=t.uspConsent);const i=(0,A.A)(t,"refererInfo.page");i&&(e.site.page=i),t.gppConsent&&((0,E.J)(e,"regs.gpp",t.gppConsent.gppString),(0,E.J)(e,"regs.gpp_sid",t.gppConsent.applicableSections))}y.$W.getConfig("coppa")&&(0,E.J)(e,"regs.coppa",1);return e}(d,t);let l={};e[0].params.siteId&&(Od=e[0].params.siteId,l.s=Od);const u=Object.keys(i);let p=!1;for(let n=0;n<u.length&&!(a.length>=4);n++){d=qd(i,u,d,n);const s=(0,A.A)(t,"ortb2")||{},o={...s.site||s.context};o.page=Vd(t);const c={...s.user};(0,_.Im)(s)||p||(d=Gd(t,d,s,o,c),d.site=(0,_.D9)({},d.site,o),d.user=(0,_.D9)({},d.user,c),p=!0),d=Hd(i,d,u,n,l,r);const h=n===u.length-1;if(d=cc(d),d=oc(d),d=ac(d),h){let t="".concat(r,"?");0!==Od&&(t+="s=".concat(Od)),nc()&&(t+=0!==Od?"&":"",t+="p=".concat(y.$W.getConfig("exchangeId"))),a.push({method:"POST",url:t,data:(0,_.Go)(d),option:{contentType:"text/plain"},validBidRequests:e}),d.imp=[],p=!1}}return a}function qd(e,t,i,n){const r=e[t[n]],{missingImps:s=[],ixImps:o=[]}=r,a={ixImps:o,missingBannerImpressions:s},d=Object.keys(a).map((e=>a[e])).filter((e=>Array.isArray(e))).reduce(((e,t)=>e.concat(...t)),[]),c=e[t[n]].gpid,l=e[t[n]].dfp_ad_unit_code,u=e[t[n]].tid,p=e[t[n]].sid,h=e[t[n]].ae,f=e[t[n]].paapi,g=d.filter((e=>w.D4 in e)),m=d.filter((e=>!(w.D4 in e)));if(g.length>0){const r=g.reduce(((e,t)=>(e[t.adunitCode]||(e[t.adunitCode]=[]),e[t.adunitCode].push(t),e)),{});for(const s in r){const o=r[s],{id:a,banner:{topframe:d}}=o[0];let g=(0,A.A)(o[0],"ext.externalID");const m={id:a,banner:{topframe:d,format:o.map((e=>{let{banner:{w:t,h:i},ext:n}=e;return{w:t,h:i,ext:n}}))}};for(let e=0;e<m.banner.format.length;e++)null!=m.banner.format[e].ext&&(null!=m.banner.format[e].ext.sid&&delete m.banner.format[e].ext.sid,null!=m.banner.format[e].ext.externalID&&delete m.banner.format[e].ext.externalID),"bidfloor"in o[e]&&(m.banner.format[e].ext.bidfloor=o[e].bidfloor),"{}"===JSON.stringify(m.banner.format[e].ext)&&delete m.banner.format[e].ext;const v=e[t[n]].pos;(0,_.Fq)(v)&&(m.banner.pos=v),(l||c||u||p||h||g||f)&&(m.ext={},m.ext.dfp_ad_unit_code=l,m.ext.gpid=c,m.ext.tid=u,m.ext.sid=p,m.ext.externalID=g,1==h&&(m.ext.ae=1,m.ext.paapi=f)),"bidfloor"in o[0]&&(m.bidfloor=o[0].bidfloor),"bidfloorcur"in o[0]&&(m.bidfloorcur=o[0].bidfloorcur);const b=e[t[n]].adUnitFPD;b&&(0,E.J)(m,"ext.data",b),i.imp.push(m)}}return m.length>0&&m.forEach((e=>{if(c&&(0,E.J)(e,"ext.gpid",c),i.imp.length>0){let t=!1;i.imp.forEach(((n,r)=>{e.id===n.id&&w.G_ in e?(n.video=e.video,n.video.ext=Object.assign({},e.video.ext,e.ext),(0,A.A)(n,"video.ext.bidfloor",!1)&&(0,A.A)(n,"bidfloor",!1)&&n.video.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.video.ext.bidfloor),!(0,A.A)(n,"ext.siteID",!1)&&(0,A.A)(e,"video.ext.siteID")&&((0,E.J)(n,"ext.siteID",e.video.ext.siteID),(0,E.J)(i,"ext.ixdiag.usid",!0)),t=!0):e.id===n.id&&w.s6 in e&&(n.native=e.native,n.native.ext=Object.assign({},e.native.ext,e.ext),(0,A.A)(n,"native.ext.bidfloor",!1)&&(0,A.A)(n,"bidfloor",!1)&&n.native.ext.bidfloor<n.bidfloor&&(n.bidfloor=n.native.ext.bidfloor),!(0,A.A)(n,"ext.siteID",!1)&&(0,A.A)(e,"native.ext.siteID",!1)&&((0,E.J)(n,"ext.siteID",e.native.ext.siteID),(0,E.J)(i,"ext.ixdiag.usid",!0)),t=!0)})),t||i.imp.push(e)}else i.imp.push(e)})),i}function Vd(e){const t=e&&e.bidderCode||"ix",i=y.$W.getConfig(t);let n="";if(n=(0,A.A)(e,"ortb2.site.page")?e.ortb2.site.page:(0,A.A)(e,"refererInfo.page"),i&&"object"==typeof i.firstPartyData){return function(e,t,i){let n;try{n=new URL(t)}catch(i){(0,_.JE)("IX Bid Adapter: Invalid URL set in ortb2.site.page: ".concat(t,". Using referer URL instead.")),n=new URL((0,A.A)(e,"refererInfo.page"))}const r=new URLSearchParams(n.search);for(const[e,t]of Object.entries(i))r.has(e)||r.append(e,t);return n.search=r.toString(),n.toString()}(e,n,i.firstPartyData)}return n}function Gd(e,t,i,n,r){if(t.ext.ixdiag.fpd=!0,Object.keys(n).forEach((e=>{-1===Ad.SITE.indexOf(e)&&delete n[e]})),Object.keys(r).forEach((e=>{-1===Ad.USER.indexOf(e)&&delete r[e]})),i.device){const e={...i.device.sua};(0,_.Im)(e)||(0,E.J)(t,"device.sua",e)}var s;if(i.hasOwnProperty("regs")&&!e.gppConsent&&(i.regs.hasOwnProperty("gpp")&&"string"==typeof i.regs.gpp&&(0,E.J)(t,"regs.gpp",i.regs.gpp),i.regs.hasOwnProperty("gpp_sid")&&Array.isArray(i.regs.gpp_sid)&&(0,E.J)(t,"regs.gpp_sid",i.regs.gpp_sid),null!==(s=i.regs.ext)&&void 0!==s&&s.dsa)){const e=i.regs.ext.dsa,n={};if(["dsarequired","pubrender","datatopub"].forEach((t=>{(0,_.Et)(e[t])&&(n[t]=e[t])})),(0,_.cy)(e.transparency)){const t=[];e.transparency.forEach((e=>{(0,_.Qd)(e)&&(0,_.O8)(e.domain)&&""!=e.domain&&(0,_.cy)(e.dsaparams)&&e.dsaparams.every((e=>(0,_.Et)(e)))&&t.push(e)})),t.length>0&&(n.transparency=t)}(0,_.Im)(n)||(0,E.J)(t,"regs.ext.dsa",n)}return t}function Wd(e,t){const i=(0,A.A)(t,"ortb2Imp.ext.data");i&&(0,E.J)(e,"ext.data",i)}function Hd(e,t,i,n,r,s){const o=e[i[n]].pbadslot,a=e[i[n]].tagId,d=e[i[n]].adUnitCode,c=e[i[n]].divId;return(o||a||d||c)&&(t.ext.ixdiag.pbadslot=o,t.ext.ixdiag.tagid=a,t.ext.ixdiag.adunitcode=d,t.ext.ixdiag.divId=c),t}function Yd(e){const t=e.userId||{};return Ed.filter((e=>t[e]))}function Jd(e,t){if(t)for(let i=0;i<e.length;i++){const n=e[i];if(t[0]===n[0]&&t[1]===n[1]){e.splice(i,1);break}}}function Kd(e,t){const i=function(e){const t=kd(e,w.s6),i=e.nativeOrtbRequest;i.eventtrackers=[{event:1,methods:[1,2]}],i.privacy=1,t.native={request:JSON.stringify(i),ver:"1.2"};let n=(0,A.A)(e,"ortb2Imp.ext.tid");return n&&(0,E.J)(t,"ext.tid",n),Wd(t,e),Pd(e,t,w.s6),t}(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,A.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,A.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,A.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,A.A)(e,"params.tagId");const n=e.adUnitCode,r=document.getElementById(n)?n:ms(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=r}}function Qd(e,t){const i=Bd(e);if(0!=Object.keys(i).length){t[e.adUnitCode]={},t[e.adUnitCode].ixImps=[],t[e.adUnitCode].ixImps.push(i),t[e.adUnitCode].gpid=(0,A.A)(e,"ortb2Imp.ext.gpid"),t[e.adUnitCode].dfp_ad_unit_code=(0,A.A)(e,"ortb2Imp.ext.data.adserver.adslot"),t[e.adUnitCode].pbadslot=(0,A.A)(e,"ortb2Imp.ext.data.pbadslot"),t[e.adUnitCode].tagId=(0,A.A)(e,"params.tagId");const n=e.adUnitCode,r=document.getElementById(n)?n:ms(n).divId;t[e.adUnitCode].adUnitCode=n,t[e.adUnitCode].divId=r}}function Xd(e,t,i,n){let r=function(e){const t=kd(e,w.D4);t.banner={},t.adunitCode=e.adUnitCode;const i=(0,A.A)(e,"params.size");return i&&(t.banner.w=i[0],t.banner.h=i[1]),t.banner.topframe=(0,_.al)()?0:1,Pd(e,t,w.D4),t}(e);const s=Ld((0,A.A)(e,"mediaTypes.banner.sizes"),(0,A.A)(e,"params.size"));i.hasOwnProperty(e.adUnitCode)||(i[e.adUnitCode]={}),i[e.adUnitCode].gpid=(0,A.A)(e,"ortb2Imp.ext.gpid"),i[e.adUnitCode].dfp_ad_unit_code=(0,A.A)(e,"ortb2Imp.ext.data.adserver.adslot"),i[e.adUnitCode].tid=(0,A.A)(e,"ortb2Imp.ext.tid"),i[e.adUnitCode].pbadslot=(0,A.A)(e,"ortb2Imp.ext.data.pbadslot"),i[e.adUnitCode].tagId=(0,A.A)(e,"params.tagId"),i[e.adUnitCode].pos=(0,A.A)(e,"mediaTypes.banner.pos");if((0,A.A)(n,"fledgeEnabled")){const t=(0,A.A)(e,"ortb2Imp.ext.ae"),r=(0,A.A)(e,"ortb2Imp.ext.paapi");r&&(i[e.adUnitCode].paapi=r),t?(0,_.Fq)(t)?i[e.adUnitCode].ae=t:(0,_.JE)("error setting auction environment flag - must be an integer"):1==(0,A.A)(n,"defaultForSlots")&&(i[e.adUnitCode].ae=1)}const o=(0,A.A)(e,"ortb2Imp.ext.data");o&&(i[e.adUnitCode].adUnitFPD=o);const a=(0,A.A)(e,"params.id");!a||"string"!=typeof a&&"number"!=typeof a||(i[e.adUnitCode].sid=String(a));const d=e.adUnitCode,c=document.getElementById(d)?d:ms(d).divId;i[e.adUnitCode].adUnitCode=d,i[e.adUnitCode].divId=c,s&&(i[e.adUnitCode].hasOwnProperty("ixImps")||(i[e.adUnitCode].ixImps=[]),i[e.adUnitCode].ixImps.push(r)),function(e,t,i){if(t.hasOwnProperty(e.adUnitCode)){let i=[];t[e.adUnitCode].hasOwnProperty("missingSizes")&&(i=t[e.adUnitCode].missingSizes),Jd(i,e.params.size),t[e.adUnitCode].missingSizes=i}else if((0,A.A)(e,"mediaTypes.banner.sizes")){let n=(0,_.Go)(e.mediaTypes.banner.sizes);Jd(n,e.params.size);let r={missingSizes:n,impression:i};t[e.adUnitCode]=r}}(e,t,r)}function Zd(e,t,i){const n=(0,_.Go)(t);return n.banner.w=i[0],n.banner.h=i[1],Pd(e,n,w.D4),n}function ec(e){e.renderer.push((function(){const t=e.adUnitCode,i=document.getElementById(t)?t:ms(t).divId;i?window.createIXPlayer(i,e):(0,_.JE)("IX Bid Adapter: adUnitCode: ".concat(i," not found on page."))}))}function tc(e,t){const i=na.A4.install({id:e,url:t,loaded:!1});try{i.setRender(ec)}catch(e){return(0,_.JE)("Prebid Error calling setRender on renderer",e),null}return t?i:((0,_.JE)("Outstream renderer URL not found"),null)}function ic(e){if("outstream"!==(0,A.A)(e,"mediaTypes.video.context"))return!1;let t=(0,A.A)(e,"mediaTypes.video.renderer");t||(t=(0,A.A)(e,"renderer"));return!!("object"!=typeof t||!t.url||!t.render)||t.backupOnly}function nc(){let e=y.$W.getConfig("exchangeId");return!("number"!=typeof e||!isFinite(e))||!("string"!=typeof e||""===e.trim()||!isFinite(Number(e)))}const rc={code:hd,gvlid:10,aliases:[{code:fd,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:gd,isBidRequestValid:function(e){const t=(0,A.A)(e,"params.video"),i=(0,A.A)(e,"params.size"),n=(0,A.A)(e,"mediaTypes.banner.sizes"),r=(0,A.A)(e,"mediaTypes.video"),s=(0,A.A)(e,"mediaTypes.video.playerSize"),o=e.params.hasOwnProperty("bidFloor"),a=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!(0,_.gR)(gd,e.mediaType))return(0,_.JE)("IX Bid Adapter: media type is not supported."),!1;if((0,A.A)(e,"mediaTypes.banner")&&!n)return!1;if(i){const t=jd(i);if(!t)return(0,_.vV)("IX Bid Adapter: size has invalid format."),!1;if(!Ld(e.sizes,t)&&!Ld(s,t)&&!Ld(n,t))return(0,_.vV)("IX Bid Adapter: bid size is not included in ad unit sizes or player size."),!1}if(!nc()&&null==e.params.siteId)return(0,_.vV)("IX Bid Adapter: Invalid configuration - either siteId or exchangeId must be configured."),!1;if(void 0!==e.params.siteId){if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return(0,_.vV)("IX Bid Adapter: siteId must be string or number type."),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return(0,_.vV)("IX Bid Adapter: siteId must valid value"),!1}if((o||a)&&!(o&&a&&(d=e.params.bidFloor,c=e.params.bidFloorCur,Boolean("number"==typeof d&&"string"==typeof c&&c.match(/^[A-Z]{3}$/)))))return(0,_.vV)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format."),!1;var d,c;if(r&&t){const i=Bd(e).video,n=Nd(r,t);if((0,A.A)(e,"mediaTypes.video.context")===gr.H6&&ic(e)&&i){const e=[(0,A.A)(i,"w"),(0,A.A)(i,"h")];if(!(e[0]>=vd[0]&&e[1]>=vd[1]))return(0,_.vV)("IX Bid Adapter: ".concat(e," is an invalid size for IX outstream renderer")),!1}if(n.length)return n.forEach((e=>{(0,_.vV)(e)})),!1}return function(e){return void 0===(0,A.A)(e,"mediaTypes.native")||e.nativeOrtbRequest&&Array.isArray(e.nativeOrtbRequest.assets)&&e.nativeOrtbRequest.assets.length>0}(e)},resetSiteID:function(){Od=0},buildRequests:function(e,t){const i=[],n={},r={},s={},o={};Td.getFeatureToggles(),e.forEach((e=>{const i=Object.keys((0,A.A)(e,"mediaTypes",{}));for(const a in i)switch(i[a]){case w.D4:Xd(e,o,n,t);break;case w.G_:Qd(e,r);break;case w.s6:Kd(e,s);break;default:(0,_.JE)("IX Bid Adapter: ad unit mediaTypes ".concat(a," is not supported"))}}));for(let t in o)if(o.hasOwnProperty(t)){let i=o[t].missingSizes;n.hasOwnProperty(t)||(n[t]={}),n[t].hasOwnProperty("missingImps")||(n[t].missingImps=[],n[t].missingCount=0);let r=o[t].impression;for(let s=0;s<i.length;s++){let o=Zd(e[0],r,i[s]);n[t].missingImps.push(o),n[t].missingCount++}}let a=[];return Object.keys(n).length>0&&a.push(n),Object.keys(r).length>0&&a.push(r),Object.keys(s).length>0&&a.push(s),Td.isFeatureEnabled("pbjs_enable_multiformat")?i.push(...zd(e,t,function(e){const t={};return e.forEach((e=>{Object.keys(e).forEach((i=>{Object.keys(t).includes(i)?t[i].hasOwnProperty("ixImps")&&e[i].hasOwnProperty("ixImps")?t[i].ixImps=[...t[i].ixImps,...e[i].ixImps]:t[i].hasOwnProperty("missingImps")&&e[i].hasOwnProperty("missingImps")?t[i].missingImps=[...t[i].missingImps,...e[i].missingImps]:e[i].hasOwnProperty("ixImps")?t[i].ixImps=e[i].ixImps:e[i].hasOwnProperty("missingImps")&&(t[i].missingImps=e[i].missingImps):t[i]=e[i]}))})),t}(a))):(Object.keys(n).length>0&&i.push(...zd(e,t,n)),Object.keys(r).length>0&&i.push(...zd(e,t,r)),Object.keys(s).length>0&&i.push(...zd(e,t,s))),i},interpretResponse:function(e,t){const i=[];let n=null,r=(0,A.A)(e,"body.ext.protectedAudienceAuctionConfigs")||[];if(Td.setFeatureToggles(e),!e.hasOwnProperty("body"))return i;const s=e.body,o=s.seatbid||[];for(let e=0;e<o.length;e++){if(!o[e].hasOwnProperty("bid"))continue;const r=o[e].bid,a=t.data;for(let e=0;e<r.length;e++){const o=Fd(r[e].impid,a.imp,t.validBidRequests);if(n=$d(r[e],s.cur,o),n.mediaType===w.G_&&ic(o)){const t=(0,A.A)(s,"ext.videoplayerurl");if(n.renderer=tc(r[e].bidId,t),!n.renderer)continue}i.push(n)}if((0,A.A)(a,"ext.ixdiag.err")&&Cd.localStorageIsEnabled())try{Cd.removeDataFromLocalStorage("ixdiag")}catch(e){(0,_.vV)("ix can not clear ixdiag from localStorage.")}}if(!(Array.isArray(r)&&r.length>0))return i;r=r.filter((e=>!!function(e){return"object"==typeof e&&null!==e}(e)||((0,_.JE)("Malformed auction config detected:",e),!1)));try{return{bids:i,fledgeAuctionConfigs:r}}catch(e){return(0,_.JE)("Error attaching AuctionConfigs",e),i}},getUserSyncs:function(e,t){const i=[];let n=null;if(t.length>0&&(n=(0,A.A)(t[0],"body.ext.publishersyncsperbidderoverride")),void 0!==n&&0==n)return[];if(e.iframeEnabled)i.push({type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"});else{let e=null;y.$W.getConfig("userSync")&&(e=y.$W.getConfig("userSync").syncsPerBidder),0===e&&(e=n),e=n&&(0===e||e)?n>e?e:n:1;for(let t=0;t<e;t++)i.push({type:"image",url:sc(e,t)})}return i}};function sc(e,t){let i="",n="0";return xd&&xd.hasOwnProperty("gdprApplies")&&(n=xd.gdprApplies?"1":"0"),xd&&xd.hasOwnProperty("consentString")&&(i=xd.consentString||""),"https://dsum.casalemedia.com/pbusermatch?origin=prebid"+(0!==Od?"&site_id="+Od.toString():"")+"&p="+e.toString()+"&i="+t.toString()+"&gdpr="+n+"&gdpr_consent="+i+"&us_privacy="+(Rd||"")}function oc(e){return e.imp.forEach(((t,i)=>{const n=t.ext;if(null==n)return e;dc(t)<2||Object.keys(n).forEach((r=>{if(w.D4 in t){const s=t.banner.ext;if(void 0!==s&&void 0!==s[r]&&s[r]==n[r]&&delete e.imp[i].banner.ext[r],void 0!==t.banner.format)for(let s=0;s<t.banner.format.length;s++)null!=t.banner.format[s].ext&&null!=t.banner.format[s].ext[r]&&t.banner.format[s].ext[r]==n[r]&&delete e.imp[i].banner.format[s].ext[r]}if(w.G_ in t){const s=t.video.ext;void 0!==s&&void 0!==s[r]&&s[r]==n[r]&&delete e.imp[i].video.ext[r]}if(w.s6 in t){const s=t.native.ext;void 0!==s&&void 0!==s[r]&&s[r]==n[r]&&delete e.imp[i].native.ext[r]}}))})),e}function ac(e){return e.imp.forEach(((t,i)=>{if(null==t.ext)return e;if(!(dc(t)<2)){if(w.D4 in t){const n=t.banner.ext;if(void 0!==n&&void 0!==n.siteID&&delete e.imp[i].banner.ext.siteID,void 0!==t.banner.format)for(let n=0;n<t.banner.format.length;n++)void 0!==t.banner.format[n].ext&&void 0!==t.banner.format[n].ext.siteID&&((0,E.J)(e.imp[i],"ext.siteID",t.banner.format[n].ext.siteID),(0,E.J)(e,"ext.ixdiag.usid",!0),delete e.imp[i].banner.format[n].ext.siteID)}if(w.G_ in t){const n=t.video.ext;void 0!==n&&void 0!==n.siteID&&delete e.imp[i].video.ext.siteID}if(w.s6 in t){const n=t.native.ext;void 0!==n&&void 0!==n.siteID&&delete e.imp[i].native.ext.siteID}}})),e}function dc(e){let t=0;return void 0!==e.banner&&(t+=1),void 0!==e.video&&(t+=1),void 0!==e.native&&(t+=1),t}function cc(e){return null==e.device&&(e.device={}),e.device.h=window.screen.height,e.device.w=window.screen.width,e}(0,Is.a$)(rc),(0,b.E)("ixBidAdapter");const lc="https://rtb.openx.net/openrtbb/prebidjs",uc={code:"openx",gvlid:69,supportedMediaTypes:[w.D4,w.G_],isBidRequestValid:function(e){const t=e.params.delDomain||e.params.platform;if(A.A(e,"mediaTypes.banner")&&t)return!!e.params.unit||A.A(e,"mediaTypes.banner.sizes.length")>0;return!(!e.params.unit||!t)},buildRequests:function(e,t){let i=e.filter((e=>fc(e))),n=e.filter((e=>function(e){return A.A(e,"mediaTypes.banner")||!fc(e)}(e))),r=n.length?[hc(n,t,w.D4)]:[];return i.forEach((e=>{r.push(hc([e],t,w.G_))})),r},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return pc.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,i,n){if(e.iframeEnabled||e.pixelEnabled){let r=e.iframeEnabled?"iframe":"image",s=[],o="https://u.openx.net/w/1.0/pd";if(i&&(s.push("gdpr="+(i.gdprApplies?1:0)),s.push("gdpr_consent="+encodeURIComponent(i.consentString||""))),n&&s.push("us_privacy="+encodeURIComponent(n)),t.length>0&&t[0].body&&t[0].body.ext){const e=t[0].body.ext;e.delDomain?o="https://".concat(e.delDomain,"/w/1.0/pd"):e.platform&&s.push("ph="+e.platform)}else s.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:r,url:"".concat(o).concat(s.length>0?"?"+s.join("&"):"")}]}},transformBidParams:function(e,t){return ma({unit:"string",customFloor:"number"},e)}};(0,Is.a$)(uc);const pc=Us({context:{netRevenue:!0,ttl:300},imp(e,t,i){const n=e(t,i);return(0,_.D9)(n,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&E.J(n,"ext.customParams",t.params.customParams),t.params.customFloor&&!n.bidfloor&&(n.bidfloor=t.params.customFloor),n},request(e,t,i,n){const r=e(t,i,n);(0,_.D9)(r,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0"),pv:"8.52.2"}});const s=n.bidRequests[0];return s.params.coppa&&E.J(r,"regs.coppa",1),s.params.doNotTrack&&E.J(r,"device.dnt",1),s.params.platform&&E.J(r,"ext.platform",s.params.platform),s.params.delDomain&&E.J(r,"ext.delDomain",s.params.delDomain),s.params.response_template_name&&E.J(r,"ext.response_template_name",s.params.response_template_name),s.params.test&&(r.test=1),r},bidResponse(e,t,i){const n=e(t,i);t.ext&&(n.meta.networkId=t.ext.dsp_id,n.meta.advertiserId=t.ext.buyer_id,n.meta.brandId=t.ext.brand_id);const{ortbResponse:r}=i;return r.ext&&r.ext.paf&&(n.meta.paf=Object.assign({},r.ext.paf),n.meta.paf.content_id=A.A(t,"ext.paf.content_id")),n},response(e,t,i,n){const{ortbRequest:r}=n;r.ext&&(r.ext.delDomain&&E.J(i,"ext.delDomain",r.ext.delDomain),r.ext.platform&&E.J(i,"ext.platform",r.ext.platform));const s=e(t,i,n);let o=A.A(i,"ext.fledge_auction_configs");return o?(o=Object.entries(o).map((e=>{var t;let[i,r]=e;return{bidId:i,config:(0,_.D9)(Object.assign({},r),{auctionSignals:{ortb2Imp:null===(t=n.impContext[i])||void 0===t?void 0:t.imp}})}})),{bids:s.bids,fledgeAuctionConfigs:o}):s.bids},overrides:{imp:{bidfloor(e,t,i,n){const r={};e(r,i,{...n,currency:"USD"}),"USD"===r.bidfloorcur&&Object.assign(t,r)},video(e,t,i,n){{let r=i.mediaTypes[w.G_];r&&(r=Object.assign({},r,i.params.video),i={...i,mediaTypes:{[w.G_]:r}}),e(t,i,n)}}}}});function hc(e,t,i){return{method:"POST",url:y.$W.getConfig("openxOrtbUrl")||lc,data:pc.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:i}})}}function fc(e){return A.A(e,"mediaTypes.video")}(0,b.E)("openxBidAdapter");const gc="pubmatic",mc="PubMatic: ",vc="USD",bc=void 0,yc="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ac="Video.plcmt param missing",_c={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Ec={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},Ic={mimes:Ec.ARRAY,minduration:Ec.NUMBER,maxduration:Ec.NUMBER,startdelay:Ec.NUMBER,playbackmethod:Ec.ARRAY,api:Ec.ARRAY,protocols:Ec.ARRAY,w:Ec.NUMBER,h:Ec.NUMBER,battr:Ec.ARRAY,linearity:Ec.NUMBER,placement:Ec.NUMBER,plcmt:Ec.NUMBER,minbitrate:Ec.NUMBER,maxbitrate:Ec.NUMBER,skip:Ec.NUMBER},wc={ICON:1,IMAGE:3},Sc={1:"PMP",5:"PREF",6:"PMPG"},Cc={bootstrapPlayer:function(e){const t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),!e.vastXml&&!e.vastUrl)return void(0,_.JE)("".concat(mc,": No vastXml or vastUrl on bid, bailing..."));const i=Cc.getRendererId("pubmatic",e.rendererCode),n=document.getElementById(e.adUnitCode);let r;for(let e=0;e<window.bluebillywig.renderers.length;e++)if(window.bluebillywig.renderers[e]._id===i){r=window.bluebillywig.renderers[e];break}r?r.bootstrap(t,n):(0,_.JE)("".concat(mc,": Couldn't find a renderer with ").concat(i))},newRenderer:function(e,t){var i=yc.replace("$RENDERER",e);const n=na.A4.install({url:i,loaded:!1,adUnitCode:t});try{n.setRender(Cc.outstreamRender)}catch(e){(0,_.JE)("".concat(mc,": Error tying to setRender on renderer"),e)}return n},outstreamRender:function(e){e.renderer.push((function(){Cc.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},Tc=[w.D4,w.G_,w.s6];let Oc=0,xc=!1,Rc=["pubmatic"];const Dc=["all"];function Uc(e,t){if(!(0,_.O8)(t))return t&&(0,_.JE)(mc+"Ignoring param key: "+e+", expects string-value, found "+typeof t),bc;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((e=>e.trim())).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||bc;case"yob":return parseInt(t)||bc;default:return t}}function Bc(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,(0,_.O8)(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&(0,_.JE)(gc+": adSlot must be a string. Ignoring adSlot"),""));var i=e.params.adSlot,n=i.split(":");if(i=n[0],2==n.length&&(e.params.adUnitIndex=n[1]),n=i.split("@"),e.params.adUnit=n[0],n.length>1){if(2!=(n=n[1].split("x")).length)return void(0,_.JE)(mc+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(w.D4)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var r=0,s=[];r<e.mediaTypes.banner.sizes.length;r++)2===e.mediaTypes.banner.sizes[r].length&&s.push(e.mediaTypes.banner.sizes[r]);e.mediaTypes.banner.sizes=s,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function kc(){let e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(null==e?void 0:e.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function Pc(e,t,i){var n,r="Ignoring param key: "+e+", expects "+i+", found "+typeof t;switch(i){case Ec.BOOLEAN:n=_.Lm;break;case Ec.NUMBER:n=_.Et;break;case Ec.STRING:n=_.O8;break;case Ec.ARRAY:n=_.cy}return n(t)?t:((0,_.JE)(mc+r),bc)}const $c={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},Mc=Object.values($c);function Lc(e){var t;if(e.ortb){e=e.ortb,t={ver:"1.2",...e,assets:[]};const{assets:i}=e,n=e=>e.title||e.img||e.data||e.video;if(i.length<1||!i.some((e=>n(e))))return(0,_.JE)("".concat(mc,": Native assets object is empty or contains some invalid object")),xc=!0,t;i.forEach((e=>{var i=e;i.img&&(i.img.type==wc.IMAGE?(i.w=i.w||i.width||(i.sizes?i.sizes[0]:bc),i.h=i.h||i.height||(i.sizes?i.sizes[1]:bc),i.wmin=i.wmin||i.minimumWidth||(i.minsizes?i.minsizes[0]:bc),i.hmin=i.hmin||i.minimumHeight||(i.minsizes?i.minsizes[1]:bc)):i.img.type==wc.ICON&&(i.w=i.w||i.width||(i.sizes?i.sizes[0]:bc),i.h=i.h||i.height||(i.sizes?i.sizes[1]:bc))),i&&void 0!==i.id&&n(i)&&t.assets.push(i)}))}else t=function(e){if(!e&&!(0,_.Qd)(e))return(0,_.JE)("".concat(mc,": Native assets object is empty or not an object: ").concat(e)),void(xc=!0);const t={ver:"1.2",assets:[]};for(let i in e){if(Z._B.includes(i))continue;if(!Z.x5.hasOwnProperty(i)&&!Mc.includes(i)){(0,_.JE)("".concat(mc,": Unrecognized native asset code: ").concat(i,". Asset will be ignored."));continue}const n=e[i];let r=0;n.required&&(0,_.Lm)(n.required)&&(r=Number(n.required));const s={id:t.assets.length,required:r};if(i in $c)s.data={type:Z.jO[$c[i]]},(n.len||n.length)&&(s.data.len=n.len||n.length),n.ext&&(s.data.ext=n.ext);else if("icon"===i||"image"===i){if(s.img={type:"icon"===i?Z.oA.ICON:Z.oA.MAIN},n.aspect_ratios)if((0,_.cy)(n.aspect_ratios))if(n.aspect_ratios.length){const{min_width:e,min_height:t}=n.aspect_ratios[0];(0,_.Fq)(e)&&(0,_.Fq)(t)?(s.img.wmin=e,s.img.hmin=t):(0,_.JE)("".concat(mc,": image.aspect_ratios min_width or min_height are invalid: ").concat(e,", ").concat(t));const i=n.aspect_ratios.filter((e=>e.ratio_width&&e.ratio_height)).map((e=>"".concat(e.ratio_width,":").concat(e.ratio_height)));i.length>0&&(s.img.ext={aspectratios:i})}else(0,_.JE)("".concat(mc,": image.aspect_ratios was passed, but it's empty: ").concat(n.aspect_ratios));else(0,_.JE)("".concat(mc,": image.aspect_ratios was passed, but it's not a an array: ").concat(n.aspect_ratios));s.img.w=n.w||n.width,s.img.h=n.h||n.height,s.img.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:bc),s.img.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:bc),n.sizes&&(2===n.sizes.length&&(0,_.Fq)(n.sizes[0])&&(0,_.Fq)(n.sizes[1])?((0,_.fH)("".concat(mc,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),s.img.w=n.sizes[0],s.img.h=n.sizes[1],delete s.img.hmin,delete s.img.wmin):(0,_.JE)("".concat(mc,": image.sizes was passed, but its value is not an array of integers: ").concat(n.sizes))),n.ext&&(s.img.ext=n.ext),n.mimes&&(s.img.mimes=n.mimes)}else"title"===i?(s.title={len:n.len||n.length||140},n.ext&&(s.title.ext=n.ext)):"ext"===i&&(s.ext=n,delete s.required);t.assets.push(s)}return t.assets.length<1?((0,_.JE)("".concat(mc,": Could not find any valid asset")),void(xc=!0)):t}(e);return t}function Nc(e){var t,i=e.mediaTypes.banner.sizes,n=[];if(i!==bc&&(0,_.cy)(i)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===i.length)return t=bc,(0,_.JE)(mc+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(i[0][0],10),t.h=parseInt(i[0][1],10),i=i.splice(1,i.length-1)}i.length>0&&(n=[],i.forEach((function(e){e.length>1&&n.push({w:e[0],h:e[1]})})),n.length>0&&(t.format=n)),t.pos=0,t.topframe=(0,_.al)()?0:1}else(0,_.JE)(mc+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=bc;return t}function jc(e){var t,i=(0,_.D9)((0,A.A)(e.mediaTypes,"video"),e.params.video);if(i!==bc){for(var n in t={},function(e,t){(0,A.A)(e,"plcmt")||(0,_.JE)(Ac+" for "+t)}(i,e.adUnitCode),Ic)i.hasOwnProperty(n)&&(t[n]=Pc(n,i[n],Ic[n]));(0,_.cy)(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):(0,_.Et)(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=bc,(0,_.JE)(mc+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Fc(e,t){var i,n,r={},s={},o=e.hasOwnProperty("sizes")?e.sizes:[],a="",d=[],c=null==t?void 0:t.fledgeEnabled;if(function(e,t){t.params.deals&&((0,_.cy)(t.params.deals)?t.params.deals.forEach((function(t){(0,_.O8)(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):(0,_.JE)(mc+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):(0,_.JE)(mc+"Error: bid.params.deals should be an array of strings."))}(r={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Uc("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Uc("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Uc("currency",e.params.currency):vc,displaymanager:"Prebid.js",displaymanagerver:"8.52.2"},e),function(e,t){var i,n="";if(t.params.dctr)if(n=t.params.dctr,(0,_.O8)(n)&&n.length>0){var r=n.split("|");n="",r.forEach((e=>{n+=e.length>0?e.trim()+"|":""})),i=n.length,"|"===n.substring(i,i-1)&&(n=n.substring(0,i-1)),e.ext.key_val=n.trim()}else(0,_.JE)(mc+"Ignoring param : dctr with value : "+n+", expects string-value, found empty or non-string value")}(r,e),function(e,t){var i=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,n="";if(void 0!==i&&""!==i&&i.hasOwnProperty("segments")){var r,s=i.segments.length;n+="jw-id="+i.content.id;for(var o=0;o<s;o++)n+="|jw-"+i.segments[o]+"=1";(r=e.ext)&&void 0===r.key_val?r.key_val=n:r.key_val+="|"+n}}(r,e),e.hasOwnProperty("mediaTypes"))for(a in e.mediaTypes)switch(a){case w.D4:(i=Nc(e))!==bc&&(r.banner=i);break;case w.s6:s.request=JSON.stringify(Lc(e.nativeParams)),xc?((0,_.JE)(mc+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),xc=!1):r.native=s;break;case w.G_:(n=jc(e))!==bc&&(r.video=n)}else i={pos:0,w:e.params.width,h:e.params.height,topframe:(0,_.al)()?0:1},(0,_.cy)(o)&&o.length>1&&((o=o.splice(1,o.length-1)).forEach((e=>{d.push({w:e[0],h:e[1]})})),i.format=d),r.banner=i;return function(e,t){const i={...(0,A.A)(t,"ortb2Imp.ext.data")};Object.keys(i).forEach((t=>{"pbadslot"===t?"string"==typeof i[t]&&i[t]&&(0,E.J)(e,"ext.data.pbadslot",i[t]):"adserver"===t?["name","adslot"].forEach((t=>{const n=(0,A.A)(i,"adserver.".concat(t));"string"==typeof n&&n&&((0,E.J)(e,"ext.data.adserver.".concat(t.toLowerCase()),n),"adslot"===t&&(0,E.J)(e,"ext.dfp_ad_unit_code",n))})):(0,E.J)(e,"ext.data.".concat(t),i[t])}));const n=(0,A.A)(t,"ortb2Imp.ext.gpid");n&&(0,E.J)(e,"ext.gpid",n)}(r,e),function(e,t){let i=-1;"function"!=typeof t.getFloor||y.$W.getConfig("pubmatic.disableFloors")||[w.D4,w.G_,w.s6].forEach((n=>{if(e.hasOwnProperty(n)){let r=[];"banner"===n&&(e[n].w&&e[n].h&&r.push([e[n].w,e[n].h]),(0,_.cy)(e[n].format)&&e[n].format.forEach((e=>r.push([e.w,e.h])))),0===r.length&&r.push("*"),r.forEach((r=>{let s=t.getFloor({currency:e.bidfloorcur,mediaType:n,size:r});if((0,_.fH)(mc,"floor from floor module returned for mediatype:",n," and size:",r," is: currency",s.currency,"floor",s.floor),"object"==typeof s&&s.currency===e.bidfloorcur&&!isNaN(parseInt(s.floor))){let e=parseFloat(s.floor);(0,_.fH)(mc,"floor from floor module:",e,"previous floor value",i,"Min:",Math.min(e,i)),i=-1===i?e:Math.min(e,i),(0,_.fH)(mc,"new floor value:",i)}}))}}));e.bidfloor&&((0,_.fH)(mc,"floor from floor module:",i,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(i,e.bidfloor)),i=Math.max(i,e.bidfloor));e.bidfloor=!isNaN(i)&&i>0?i:bc,(0,_.fH)(mc,"new impObj.bidfloor value:",e.bidfloor)}(r,e),function(e,t,i){if(i){var n;e.ext=e.ext||{},void 0!==(null==t||null===(n=t.ortb2Imp)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.ae)&&(e.ext.ae=t.ortb2Imp.ext.ae)}else{var r;null!==(r=e.ext)&&void 0!==r&&r.ae&&delete e.ext.ae}}(r,e,c),r.hasOwnProperty(w.D4)||r.hasOwnProperty(w.s6)||r.hasOwnProperty(w.G_)?r:bc}function zc(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,_.JE)(mc+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter(((e,t,i)=>i.indexOf(e)===t))).length>0&&((0,_.JE)(mc+"acat: Selected: ",t),e.ext.acat=t)}function qc(e){return!0===(0,_.cy)(e)&&e.length>0}const Vc={code:gc,gvlid:76,supportedMediaTypes:[w.D4,w.G_,w.s6],isBidRequestValid:e=>{if(e&&e.params){if(!(0,_.O8)(e.params.publisherId))return(0,_.JE)(mc+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(w.G_)){let t=(0,A.A)(e.mediaTypes,"video.mimes"),i=(0,A.A)(e,"params.video.mimes");if(!1===qc(t)&&!1===qc(i))return(0,_.JE)(mc+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[w.G_].hasOwnProperty("context"))return(0,_.vV)("".concat(mc,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[w.G_].context&&!(0,_.O8)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[w.G_].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(w.D4)||e.mediaTypes.hasOwnProperty(w.s6)?(delete e.mediaTypes[w.G_],(0,_.JE)("".concat(mc,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):((0,_.vV)("".concat(mc,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:(e,t)=>{var i,n,r,s,o,a,d;t&&t.refererInfo&&(d=t.refererInfo);var c,l=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(d),u=function(e){return{id:""+(new Date).getTime(),at:1,cur:[vc],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:kc()},user:{},ext:{}}}(l),p="",h=[],f=[],g=[],m=(0,_.lk)();if(e.forEach((e=>{var i;if(e.params.wiid=e.params.wiid||t.auctionId||m,(c=(0,_.Go)(e)).params.adSlot=c.params.adSlot||"",Bc(c),c.mediaTypes&&c.mediaTypes.hasOwnProperty("video")||c.params.hasOwnProperty("video"));else if(!(c.hasOwnProperty("mediaTypes")&&c.mediaTypes.hasOwnProperty(w.s6)||0!==c.params.width||0!==c.params.height))return void(0,_.JE)(mc+"Skipping the non-standard adslot: ",c.params.adSlot,JSON.stringify(c));l.pubId=l.pubId||c.params.publisherId,(l=function(e,t){var i,n,r;for(i in t.kadpageurl||(t.kadpageurl=t.pageURL),_c)_c.hasOwnProperty(i)&&(n=e[i])&&("object"==typeof(r=_c[i])&&(n=r.f(n,t)),(0,_.O8)(n)?t[i]=n:(0,_.JE)(mc+"Ignoring param : "+i+" with value : "+_c[i]+", expects string-value, found "+typeof n));return t}(c.params,l)).transactionId=null===(i=c.ortb2Imp)||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.tid,""===p?p=c.params.currency||bc:c.params.hasOwnProperty("currency")&&p!==c.params.currency&&(0,_.JE)(mc+"Currency specifier ignored. Only one currency permitted."),c.params.currency=p,c.params.hasOwnProperty("dctr")&&(0,_.O8)(c.params.dctr)&&h.push(c.params.dctr),c.params.hasOwnProperty("bcat")&&(0,_.cy)(c.params.bcat)&&(f=f.concat(c.params.bcat)),c.params.hasOwnProperty("acat")&&(0,_.cy)(c.params.acat)&&(g=g.concat(c.params.acat));var n=Fc(c,t);n&&u.imp.push(n)})),0==u.imp.length)return;u.site.publisher.id=l.pubId.trim(),Oc=l.pubId.trim(),u.ext.wrapper={},u.ext.wrapper.profile=parseInt(l.profId)||bc,u.ext.wrapper.version=parseInt(l.verId)||bc,u.ext.wrapper.wiid=l.wiid||t.auctionId,u.ext.wrapper.wv="prebid_prebid_8.52.2",u.ext.wrapper.transactionId=l.transactionId,u.ext.wrapper.wp="pbjs";const v=t?io.u.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==v){if(u.ext.marketplace={},t&&1==v){let e=io.u.get(t.bidderCode,"allowedAlternateBidderCodes");(0,_.cy)(e)?(e=e.map((e=>e.trim().toLowerCase())).filter((e=>!!e)).filter(_.hj),Rc=e.includes("*")?Dc:[...Rc,...e]):Rc=Dc}u.ext.marketplace.allowedbidders=Rc.filter(_.hj)}u.user.gender=l.gender?l.gender.trim():bc,u.user.geo={},u.user.yob=Uc("yob",l.yob),u.site.page=l.kadpageurl.trim()||u.site.page.trim(),u.site.domain=function(e){let t=document.createElement("a");return t.href=e,t.hostname}(u.site.page),"object"==typeof y.$W.getConfig("content")&&(u.site.content=y.$W.getConfig("content")),"object"==typeof y.$W.getConfig("device")&&(u.device=Object.assign(u.device,y.$W.getConfig("device"))),u.device.language=u.device.language&&u.device.language.split("-")[0],(0,E.J)(u,"source.tid",null==t||null===(i=t.ortb2)||void 0===i||null===(i=i.source)||void 0===i?void 0:i.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(u.test=1),e[0].schain&&(0,E.J)(u,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&((0,E.J)(u,"user.ext.consent",t.gdprConsent.consentString),(0,E.J)(u,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&(0,E.J)(u,"regs.ext.us_privacy",t.uspConsent),null!=t&&null!==(n=t.gppConsent)&&void 0!==n&&n.gppString?((0,E.J)(u,"regs.gpp",t.gppConsent.gppString),(0,E.J)(u,"regs.gpp_sid",t.gppConsent.applicableSections)):null!=t&&null!==(r=t.ortb2)&&void 0!==r&&null!==(r=r.regs)&&void 0!==r&&r.gpp&&((0,E.J)(u,"regs.gpp",t.ortb2.regs.gpp),(0,E.J)(u,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===y.$W.getConfig("coppa")&&(0,E.J)(u,"regs.coppa",1),null!=t&&null!==(s=t.ortb2)&&void 0!==s&&null!==(s=s.regs)&&void 0!==s&&null!==(s=s.ext)&&void 0!==s&&s.dsa&&(0,E.J)(u,"regs.ext.dsa",t.ortb2.regs.ext.dsa),function(e,t){let i=(0,A.A)(t,"0.userIdAsEids");(0,_.cy)(i)&&i.length>0&&(0,E.J)(e,"user.eids",i)}(u,e);const b=t&&t.ortb2||{},{user:I,device:S,site:C,bcat:T,badv:O}=b;if(C){const{page:e,domain:t,ref:i}=u.site;(0,_.D9)(u,{site:C}),u.site.page=e,u.site.domain=t,u.site.ref=i}if(I&&(0,_.D9)(u,{user:I}),O&&(0,_.D9)(u,{badv:O}),T&&(f=f.concat(T)),null!=S&&S.sua&&(u.device.sua=null==S?void 0:S.sua),null!=S&&null!==(o=S.ext)&&void 0!==o&&o.cdep&&(0,E.J)(u,"device.ext.cdep",S.ext.cdep),null!=I&&I.geo&&null!=S&&S.geo?(u.device.geo={...u.device.geo,...S.geo},u.user.geo={...u.user.geo,...I.geo}):(null!=I&&I.geo||null!=S&&S.geo)&&(u.user.geo=u.device.geo=null!=I&&I.geo?{...u.user.geo,...I.geo}:{...u.user.geo,...S.geo}),null!==(a=b.ext)&&void 0!==a&&null!==(a=a.prebid)&&void 0!==a&&null!==(a=a.bidderparams)&&void 0!==a&&null!==(a=a[t.bidderCode])&&void 0!==a&&a.acat){const e=b.ext.prebid.bidderparams[t.bidderCode].acat;zc(u,e)}else g.length&&zc(u,g);var x;(function(e,t){(t=t.filter((function(e){return"string"==typeof e||((0,_.JE)(mc+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((e=>e.trim())).filter((function(e,t,i){if(e.length>3)return i.indexOf(e)===t;(0,_.JE)(mc+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&((0,_.JE)(mc+"bcat: Selected: ",t),e.bcat=t)}(u,f),null!=t&&t.timeout)?u.tmax=t.timeout:u.tmax=null===(x=window)||void 0===x||null===(x=x.PWT)||void 0===x||null===(x=x.versionDetails)||void 0===x?void 0:x.timeout;return u.ext.epoch=(new Date).getTime(),"object"==typeof y.$W.getConfig("app")&&(u.app=y.$W.getConfig("app"),u.app.publisher=u.site.publisher,u.app.ext=u.site.ext||bc,"object"!=typeof u.app.content&&(u.app.content=u.site.content||bc),delete u.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(u),bidderRequest:t}},interpretResponse:(e,t)=>{const i=[];var n=vc;let r=JSON.parse(t.data),s=r.site&&r.site.ref?r.site.ref:"";try{e.body&&e.body.seatbid&&(0,_.cy)(e.body.seatbid)&&(n=e.body.cur||n,e.body.seatbid.forEach((e=>{e.bid&&(0,_.cy)(e.bid)&&e.bid.forEach((o=>{let a={requestId:o.impid,cpm:parseFloat((o.price||0).toFixed(2)),width:o.w,height:o.h,creativeId:o.crid||o.id,dealId:o.dealid,currency:n,netRevenue:true,ttl:300,referrer:s,ad:o.adm,pm_seat:e.seat||null,pm_dspid:o.ext&&o.ext.dspid?o.ext.dspid:null,partnerImpId:o.id||""};r.imp&&r.imp.length>0&&r.imp.forEach((e=>{if(o.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Tc[e.ext.bidtype];else{(0,_.fH)(mc+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var i=e.adm,n="",r=new RegExp(/VAST\s+version/);if(i.indexOf('span class="PubAPIAd"')>=0)t.mediaType=w.D4;else if(r.test(i))t.mediaType=w.G_;else try{(n=JSON.parse(i.replace(/\\/g,"")))&&n.native&&(t.mediaType=w.s6)}catch(e){(0,_.JE)(mc+"Error: Cannot parse native reponse for ad response: "+i)}}}(o,a),a.mediaType){case w.D4:break;case w.G_:a.width=o.hasOwnProperty("w")?o.w:e.video.w,a.height=o.hasOwnProperty("h")?o.h:e.video.h,a.vastXml=o.adm,function(e,t){let i,n,r;if(t.bidderRequest&&t.bidderRequest.bids){for(let s=0;s<t.bidderRequest.bids.length;s++)t.bidderRequest.bids[s].bidId===e.requestId&&(i=t.bidderRequest.bids[s].params,n=t.bidderRequest.bids[s].mediaTypes[w.G_].context,r=t.bidderRequest.bids[s].adUnitCode);n&&"outstream"===n&&i&&i.outstreamAU&&r&&(e.rendererCode=i.outstreamAU,e.renderer=Cc.newRenderer(e.rendererCode,r))}}(a,t),function(e,t,i){var n,r;if(null==t||null===(n=t.ext)||void 0===n||!n.prebiddealpriority)return;const s=(0,_.D4)(e.requestId,[i.bidderRequest]),o=(0,A.A)(s,"mediaTypes.video");if((null==o?void 0:o.context)!=w.LM)return;const a=(null==t||null===(r=t.ext)||void 0===r||null===(r=r.video)||void 0===r?void 0:r.duration)||(null==o?void 0:o.maxduration);e.video={context:w.LM,durationSeconds:a,dealTier:t.ext.prebiddealpriority}}(a,o,t);break;case w.s6:!function(e,t){if(e.hasOwnProperty("adm")){var i="";try{i=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void(0,_.JE)(mc+"Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:{...i.native}},t.mediaType=w.s6,t.width||(t.width=0),t.height||(t.height=0)}}(o,a)}})),o.ext&&o.ext.deal_channel&&(a.dealChannel=Sc[o.ext.deal_channel]||null),function(e,t,i){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);const n=i||t.ext&&t.ext.advid;n&&(e.meta.advertiserId=n,e.meta.agencyId=n,e.meta.buyerId=n),t.adomain&&qc(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&qc(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0]),t.ext&&t.ext.dsa&&Object.keys(t.ext.dsa).length&&(e.meta.dsa=t.ext.dsa)}(a,o,e.seat),e.ext&&e.ext.buyid&&(a.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.ext&&o.ext.marketplace&&(a.bidderCode=o.ext.marketplace),i.push(a)}))})));let o=(0,A.A)(e.body,"ext.fledge_auction_configs");if(o)return o=Object.entries(o).map((e=>{let[t,i]=e;return{bidId:t,config:Object.assign({auctionSignals:{}},i)}})),{bids:i,fledgeAuctionConfigs:o}}catch(e){(0,_.vV)(e)}return i},getUserSyncs:(e,t,i,n,r)=>{var s;let o=""+Oc;var a;(i&&(o+="&gdpr="+(i.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(i.consentString||"")),n&&(o+="&us_privacy="+encodeURIComponent(n)),null!=r&&r.gppString&&null!=r&&null!==(s=r.applicableSections)&&void 0!==s&&s.length)&&(o+="&gpp="+encodeURIComponent(r.gppString),o+="&gpp_sid="+encodeURIComponent(null==r||null===(a=r.applicableSections)||void 0===a?void 0:a.join(",")));return!0===y.$W.getConfig("coppa")&&(o+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+o}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+o}]}};(0,Is.a$)(Vc),(0,b.E)("pubmaticBidAdapter");const Gc=["cp","ct","cf","battr","deals"],Wc={code:"pulsepoint",gvlid:81,aliases:["pulseLite","pulsepointLite"],supportedMediaTypes:["banner","native","video"],isBidRequestValid:e=>!!(e&&e.params&&e.params.cp&&e.params.ct),buildRequests:(e,t)=>({method:"POST",url:"https://bid.contextweb.com/header/ortb?src=prebid",data:Hc.toORTB({bidRequests:e,bidderRequest:t}),bidderRequest:t}),interpretResponse:(e,t)=>e.body?Hc.fromORTB({response:e.body,request:t.data}).bids:[],getUserSyncs:e=>e.iframeEnabled?[{type:"iframe",url:"https://bh.contextweb.com/visitormatch"}]:e.pixelEnabled?[{type:"image",url:"https://bh.contextweb.com/visitormatch/prebid"}]:void 0,transformBidParams:function(e){return ma({cf:"string",cp:"number",ct:"number"},e)}},Hc=Us({context:{netRevenue:!0,ttl:300,currency:"USD"},imp(e,t,i){const n=e(t,i);n.tagid=t.params.ct.toString();const r=function(e){const t={},i={};return Gc.forEach((e=>i[e]=1)),Object.keys(e.params).forEach((n=>{i[n]||(t[n]=e.params[n])})),Object.keys(t).length>0?{prebid:t}:null}(t);return(n.ext||r)&&(n.ext=Object.assign({},n.ext,r)),t.params.battr&&["banner","video","audio","native"].forEach((e=>{n[e]&&(n[e].battr=t.params.battr)})),t.params.deals&&(0,_.cy)(t.params.deals)&&(n.pmp={private_auction:0,deals:t.params.deals}),n},request(e,t,i,n){const r=e(t,i,n),s=r.site||r.app,o=n.bidRequests&&n.bidRequests.length>0?n.bidRequests[0].params.cp:"0";return s&&(s.publisher=Object.assign({},s.publisher,{id:o.toString()})),r.tmax=r.tmax||500,r},bidResponse(e,t,i){const n=e(t,i);return n.cur=n.cur||"USD",n}});(0,Is.a$)(Wc),(0,b.E)("pulsepointBidAdapter");const Yc="https://video-outstream.rubiconproject.com/apex-2.2.1.js";let Jc=y.$W.getConfig("rubicon")||{};y.$W.getConfig("rubicon",(e=>{(0,_.D9)(Jc,e.rubicon)}));var Kc={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",261:"480x480",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",484:"720x1280",524:"1x2",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656",622:"192x160",632:"1200x450",634:"340x450"};(0,_.bu)(Kc,((e,t)=>Kc[e]=t));const Qc=Us({request(e,t,i,n){var r;const{bidRequests:s}=n,o=e(t,i,n);o.cur=["USD"],o.test=y.$W.getConfig("debug")?1:0,(0,E.J)(o,"ext.prebid.cache",{vastxml:{returnCreative:!0===Jc.returnVast}}),(0,E.J)(o,"ext.prebid.bidders",{rubicon:{integration:Jc.int_type||"pbjs"}}),(0,E.J)(o,"ext.prebid.targeting.pricegranularity",function(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}(y.$W));let a=(0,b.m)().installedModules;!a||a.length&&-1===a.indexOf("rubiconAnalyticsAdapter")||(0,E.J)(o,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),function(e,t,i){var n;let r={};const s=aa(i,...t.map((e=>e.params.keywords)));t.forEach((t=>{const i={user:{ext:{data:{...t.params.visitor}}},site:{ext:{data:{...t.params.inventory}}}},n=e.imp.find((e=>{var t;return null===(t=e.ext)||void 0===t||null===(t=t.prebid)||void 0===t||null===(t=t.bidder)||void 0===t||null===(t=t.rubicon)||void 0===t||null===(t=t.video)||void 0===t?void 0:t.language}));var s;n&&(i.site.content={language:null===(s=n.ext)||void 0===s||null===(s=s.prebid)||void 0===s||null===(s=s.bidder)||void 0===s||null===(s=s.rubicon)||void 0===s||null===(s=s.video)||void 0===s?void 0:s.language});r=(0,_.D9)(r,t.ortb2||{},i);const o=y.$W.getConfig("user.id");r.user.id=r.user.id||o})),(0,_.D9)(e,r),s&&s.length&&(0,E.J)(e,"site.keywords",s.join(","));null==e||null===(n=e.ext)||void 0===n||null===(n=n.prebid)||void 0===n||delete n.storedrequest}(o,s,i.ortb2),null==o||null===(r=o.ext)||void 0===r||null===(r=r.prebid)||void 0===r||delete r.storedrequest,!0===Jc.disableFloors&&delete o.ext.prebid.floors;return s.filter((e=>"object"==typeof e.floorData)).length>0&&(o.ext.prebid.floors={enabled:!1}),o},imp(e,t,i){var n;const r=rl(t);if(r.includes(w.D4)&&1==r.length)return;const s=e(t,i);return s.id=t.adUnitCode,delete s.banner,"atf"===t.params.position&&s.video&&(s.video.pos=1),"btf"===t.params.position&&s.video&&(s.video.pos=3),null===(n=s.ext)||void 0===n||null===(n=n.prebid)||void 0===n||delete n.storedrequest,!0===t.params.bidonmultiformat&&r.length>1&&(0,E.J)(s,"ext.prebid.bidder.rubicon.formats",r),function(e,t){"USD"!=t.bidfloorcur&&(delete t.bidfloor,delete t.bidfloorcur);if(!t.bidfloor){let i=parseFloat((0,A.A)(e,"params.floor"));isNaN(i)||(t.bidfloor=i,t.bidfloorcur="USD")}}(t,s),s},bidResponse(e,t,i){var n;const r=e(t,i);r.meta.mediaType=(0,A.A)(t,"ext.prebid.type");const{bidRequest:s}=i;let[o,a]="outstream"===(null===(n=s.mediaTypes.video)||void 0===n?void 0:n.context)?tl(s,w.G_):[void 0,void 0];return r.width=t.w||o||r.playerWidth,r.height=t.h||a||r.playerHeight,r.mediaType===w.G_&&"outstream"===s.mediaTypes.video.context&&(r.renderer=function(e){const t=na.A4.install({id:e.adId,url:Jc.rendererUrl||Yc,config:Jc.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(el)}catch(e){(0,_.JE)("Prebid Error calling setRender on renderer",e)}return t}(r)),(0,A.A)(t,"ext.bidder.rp.advid")&&(0,E.J)(r,"meta.advertiserId",t.ext.bidder.rp.advid),r},context:{netRevenue:!1!==Jc.netRevenue,ttl:360},processors:Ls}),Xc={code:"rubicon",gvlid:52,supportedMediaTypes:[w.D4,w.G_,w.s6],isBidRequestValid:function(e){let t=!0;if("object"!=typeof e.params)return!1;for(let t=0,i=["accountId","siteId","zoneId"];t<i.length;t++)if(e.params[i[t]]=parseInt(e.params[i[t]]),isNaN(e.params[i[t]]))return(0,_.vV)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;let i=rl(e,!0);if(!i.length)return!1;i.includes(w.G_)&&(t=function(e){let t=!0,i=Object.prototype.toString.call([]),n=Object.prototype.toString.call(0);var r={mimes:i,protocols:i,linearity:n};return Object.keys(r).forEach((function(i){Object.prototype.toString.call((0,A.A)(e,"mediaTypes.video."+i))!==r[i]&&(t=!1,(0,_.vV)("Rubicon: mediaTypes.video."+i+" is required and must be of type: "+r[i]))})),t}(e));const n=[w.D4,w.s6].filter((e=>i.includes(e))).length>0;return n?t&&n:t},buildRequests:function(e,t){let i,n=[],r=[];if(i=e.filter((e=>{const t=rl(e)||[],{length:i}=t,{bidonmultiformat:n,video:r}=e.params||{};return 1===i&&(t.includes(w.G_)||t.includes(w.s6))||2===i&&!t.includes(w.D4)||r&&t.includes(w.G_)||n&&(t.includes(w.G_)||t.includes(w.s6))})),i&&i.length){const e=Qc.toORTB({bidRequests:i,bidderRequest:t});r.push({method:"POST",url:"https://".concat(Jc.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:e,bidRequest:i})}const s=e.filter((e=>{const t=rl(e)||[],{bidonmultiformat:i,video:n}=e.params||{};return t.includes(w.D4)&&(1===t.length||i||!i&&!n||!i&&n&&!t.includes(w.G_))}));if(!0!==Jc.singleRequest)n=r.concat(s.map((e=>{const i=Xc.createSlotParams(e,t);return{method:"GET",url:"https://".concat(Jc.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:Xc.getOrderedParams(i).reduce(((e,t)=>{const n=i[t];return(0,_.O8)(n)&&""!==n||(0,_.Et)(n)?"".concat(e).concat(ol(t,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{const e=s.reduce(((e,t)=>((e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e)),{}),i=10;n=r.concat(Object.keys(e).reduce(((n,r)=>{var s,o;return(s=e[r],o=i,s.map(((e,t)=>t%o==0?s.slice(t,t+o):null)).filter((e=>e))).forEach((e=>{const i=Xc.combineSlotUrlParams(e.map((e=>Xc.createSlotParams(e,t))));n.push({method:"GET",url:"https://".concat(Jc.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:Xc.getOrderedParams(i).reduce(((e,t)=>{const n=i[t];return(0,_.O8)(n)&&""!==n||(0,_.Et)(n)?"".concat(e).concat(ol(t,n),"&"):e}),"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})})),n}),[]))}return n},getOrderedParams:function(e){const t=/^tg_v/,i=/^tg_i/,n=/^eid_|^tpid_/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","gpp","gpp_sid","rp_schain"].concat(Object.keys(e).filter((e=>n.test(e)))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((e=>t.test(e)))).concat(Object.keys(e).filter((e=>i.test(e)))).concat(["tk_flint","x_source.tid","l_pb_bid_id","p_screen_res","o_ae","o_cdep","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter((e=>-1===r.indexOf(e))))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];const t=e.reduce((function(t,i,n){return Object.keys(i).forEach((function(r){t.hasOwnProperty(r)||(t[r]=new Array(e.length)),t[r].splice(n,1,i[r])})),t}),{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){const n=t[e].join(";"),r=n.match(i);t[e]=r?r[1]:n})),t},createSlotParams:function(e,t){var i,n,r,s,o;e.startTime=(new Date).getTime();const a=e.params,d=tl(e,"banner"),[c,l]=a.latLong||[],u={account_id:a.accountId,site_id:a.siteId,zone_id:a.zoneId,size_id:d[0],alt_size_ids:d.slice(1).join(",")||void 0,rp_floor:(a.floor=parseFloat(a.floor))>=.01?a.floor:void 0,rp_secure:"1",tk_flint:"".concat(Jc.int_type||"pbjs_lite","_v8.52.2"),"x_source.tid":null===(i=t.ortb2)||void 0===i||null===(i=i.source)||void 0===i?void 0:i.tid,"x_imp.ext.tid":null===(n=e.ortb2Imp)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.tid,l_pb_bid_id:e.bidId,o_cdep:null===(r=e.ortb2)||void 0===r||null===(r=r.device)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.cdep,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:a.userId,"p_geo.latitude":isNaN(parseFloat(c))?void 0:parseFloat(c).toFixed(4),"p_geo.longitude":isNaN(parseFloat(l))?void 0:parseFloat(l).toFixed(4),"tg_fl.eid":e.code,rf:Zc(e,t)};if("function"==typeof e.getFloor&&!Jc.disableFloors){let t;try{t=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){(0,_.vV)("Rubicon: getFloor threw an error: ",e)}u.rp_hard_floor="object"!=typeof t||"USD"!==t.currency||isNaN(parseInt(t.floor))?void 0:t.floor}!0===a.bidonmultiformat&&(0,A.A)(e,"mediaTypes")&&Object.keys(e.mediaTypes).length>1&&(u.p_formats=Object.keys(e.mediaTypes).join(","));let p={1:"atf",3:"btf"}[(0,A.A)(e,"mediaTypes.banner.pos")]||"";u.p_pos="atf"===a.position||"btf"===a.position?a.position:p;const h=y.$W.getConfig("user.id");var f;(h&&(u.ppuid=h),null!=e&&null!==(s=e.ortb2Imp)&&void 0!==s&&null!==(s=s.ext)&&void 0!==s&&s.ae&&(u.o_ae=1),function(e,t){var i,n,r,s;if(!1===Jc.readTopics)return;let o=[1,2,5,6,7,507].concat((null===(i=Jc.sendSiteSegtax)||void 0===i?void 0:i.map((e=>Number(e))))||[]),a=[4,508].concat((null===(n=Jc.sendUserSegtax)||void 0===n?void 0:n.map((e=>Number(e))))||[]),d=(null===(r=e.ortb2)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.data)||[],c=(null===(s=e.ortb2)||void 0===s||null===(s=s.site)||void 0===s||null===(s=s.content)||void 0===s?void 0:s.data)||[];d.forEach(il(t,"v",a)),c.forEach(il(t,"i",o))}(t,u),e.userIdAsEids&&e.userIdAsEids.forEach((e=>{try{if("adserver.org"===e.source)u.tpid_tdid=e.uids[0].id,u["eid_adserver.org"]=e.uids[0].id;else if("liveintent.com"===e.source)u["tpid_liveintent.com"]=e.uids[0].id,u["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(u["tg_v.LIseg"]=e.ext.segments.join(","));else if("liveramp.com"===e.source)u.x_liverampidl=e.uids[0].id;else if("id5-sync.com"===e.source)u["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||"");else{const t="rubiconproject.com"===e.source?e.uids[0].id:"".concat(e.uids[0].id,"^").concat(e.uids[0].atype||"");u["eid_".concat(e.source)]=t}if(!u.ppuid){const t=(0,I.I6)(e.uids,(e=>e.ext&&"ppuid"===e.ext.stype));t&&t.id&&(u.ppuid=t.id)}}catch(t){(0,_.JE)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(u.gdpr=Number(t.gdprConsent.gdprApplies)),u.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(u.us_privacy=encodeURIComponent(t.uspConsent)),null!==(o=t.gppConsent)&&void 0!==o&&o.gppString)&&(u.gpp=t.gppConsent.gppString,u.gpp_sid=null===(f=t.gppConsent)||void 0===f||null===(f=f.applicableSections)||void 0===f?void 0:f.toString());return u.rp_maxbids=t.bidLimit||1,function(e,t,i){const n={user:{ext:{data:{...e.params.visitor}}},site:{ext:{data:{...e.params.inventory}}}};e.params.keywords&&(n.site.keywords=(0,_.cy)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);let r=(0,_.D9)({},e.ortb2||{},n),s=(0,A.A)(e.ortb2Imp,"ext")||{},o=(0,A.A)(e.ortb2Imp,"ext.data")||{};const a=(0,A.A)(e,"ortb2Imp.ext.gpid"),d=(0,A.A)(r,"regs.ext.dsa"),c={user:[4],site:[1,2,5,6]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},u=function(e,t,i){return"data"===t&&Array.isArray(e)?e.filter((e=>e.segment&&(0,A.A)(e,"ext.segtax")&&c[i]&&-1!==c[i].indexOf((0,A.A)(e,"ext.segtax")))).map((e=>{let t=e.segment.filter((e=>e.id)).reduce(((e,t)=>(e.push(t.id),e)),[]);if(t.length>0)return t.toString()})).toString():("object"!=typeof e||Array.isArray(e))&&void 0!==e?Array.isArray(e)?e.filter((e=>{if("object"!=typeof e&&void 0!==e)return e.toString();(0,_.JE)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString():void 0},p=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=u(e,n,t),o=l[n]&&r?"".concat(l[n]):"data"===n?"".concat(l[t],"iab"):"".concat(l[t]).concat(n);i[o]=i[o]?i[o].concat(",",s):s};if(t===w.D4){["site","user"].forEach((e=>{Object.keys(r[e]).forEach((t=>{"site"===e&&"content"===t&&r[e][t].data?p(r[e][t].data,e,"data"):"ext"!==t?p(r[e][t],e,t):r[e][t].data&&Object.keys(r[e].ext.data).forEach((t=>{p(r[e].ext.data[t],e,t,!1)}))}))})),Object.keys(o).forEach((e=>{"adserver"!==e?p(o[e],"site",e):"gam"===o[e].name&&p(o[e].adslot,name,e)})),a&&(i.p_gpid=a),d&&Object.keys(d).length&&(0,_.Up)(d,["dsainfo",e=>i.dsainfo=e,"dsarequired",e=>i.dsarequired=e,"pubrender",e=>i.dsapubrender=e,"datatopub",e=>i.dsadatatopubs=e,"transparency",e=>{Array.isArray(e)&&e.length&&(i.dsatransparency=e.reduce(((e,t)=>{const i=t.domain||"";if(!i)return e;const n=t.dsaparams||t.params;return Array.isArray(n)&&0!==n.length?(e&&(e+="~~"),e+"".concat(i,"~").concat(n.join("_"))):e}),""))}]),i["tg_i.pbadslot"]&&delete i["tg_i.dfp_ad_unit_code"];const e=(0,A.A)(r,"device.sua");e&&!1!==Jc.chEnabled&&(0,_.Up)(e,["architecture",e=>i.m_ch_arch=e,"bitness",e=>i.m_ch_bitness=e,"browsers",e=>{var t,n;if(!Array.isArray(e))return;const[r,s]=e.reduce(((e,t)=>{var i,n,r;return e[0].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(i=t.version)||void 0===i?void 0:i[0],'"')),e[1].push('"'.concat(null==t?void 0:t.brand,'"|v="').concat(null==t||null===(n=t.version)||void 0===n||null===(r=n.join)||void 0===r?void 0:r.call(n,"."),'"')),e}),[[],[]]);i.m_ch_ua=null==r||null===(t=r.join)||void 0===t?void 0:t.call(r,","),i.m_ch_full_ver=null==s||null===(n=s.join)||void 0===n?void 0:n.call(s,",")},"mobile",e=>i.m_ch_mobile="?".concat(e),"model",e=>i.m_ch_model=e,"platform",e=>{var t,n;i.m_ch_platform=null==e?void 0:e.brand,i.m_ch_platform_ver=null==e||null===(t=e.version)||void 0===t||null===(n=t.join)||void 0===n?void 0:n.call(t,".")}])}else Object.keys(s).length&&(0,_.D9)(i.imp[0].ext,s),a&&(i.imp[0].ext.gpid=a),(0,_.D9)(i,r)}(e,w.D4,u),!0===y.$W.getConfig("coppa")&&(u.coppa=1),e.schain&&sl(e.schain)&&(u.rp_schain=Xc.serializeSupplyChain(e.schain)),u},serializeSupplyChain:function(e){if(!sl(e))return"";const{ver:t,complete:i,nodes:n}=e;return"".concat(t,",").concat(i,"!").concat(Xc.serializeSupplyChainNodes(n))},serializeSupplyChainNodes:function(e){const t=["asi","sid","hp","rid","name","domain"];return e.map((e=>t.map((t=>encodeURIComponent(e[t]||""))).join(","))).join("!")},interpretResponse:function(e,t){var i;e=e.body;const{data:n}=t;if(!e||"object"!=typeof e)return[];if(e.seatbid){const t=(0,A.A)(e,"ext.errors.rubicon");Array.isArray(t)&&t.length>0&&(0,_.JE)("Rubicon: Error in video response");return Qc.fromORTB({request:n,response:e}).bids}let r,s=e.ads,o=0;const{bidRequest:a}=t;if("object"==typeof a&&!Array.isArray(a)&&rl(a).includes(w.G_)&&"object"==typeof s&&(s=s[a.adUnitCode]),!Array.isArray(s)||s.length<1)return[];let d=s.reduce(((t,i,n)=>{if(i.impression_id&&r===i.impression_id?o++:r=i.impression_id,"ok"!==i.status)return t;const s=Array.isArray(a)?a[n-o]:a;if(s&&"object"==typeof s){let e={requestId:s.bidId,currency:"USD",creativeId:i.creative_id||"".concat(i.network||"","-").concat(i.advertiser||""),cpm:i.cpm||0,dealId:i.deal,ttl:360,netRevenue:!1!==Jc.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:w.D4}};i.creative_type&&(e.mediaType=i.creative_type),i.dsa&&Object.keys(i.dsa).length&&(e.meta.dsa=i.dsa),i.adomain&&(e.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===w.G_?(e.width=s.params.video.playerWidth,e.height=s.params.video.playerHeight,e.vastUrl=i.creative_depot_url,e.impression_id=i.impression_id,e.videoCacheKey=i.impression_id):(e.ad=(d=i.script,c=i.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(c,"'>\n<script type='text/javascript'>").concat(d,"<\/script>\n</div>\n</body>\n</html>")),[e.width,e.height]=Kc[i.size_id].split("x").map((e=>Number(e)))),e.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce(((e,t)=>(e[t.key]=t.values[0],e)),{rpfl_elemid:s.adUnitCode}),t.push(e)}else(0,_.vV)("Rubicon: bidRequest undefined at index position:".concat(n),a,e);var d,c;return t}),[]).sort(((e,t)=>(t.cpm||0)-(e.cpm||0))),c=null===(i=e.component_auction_config)||void 0===i?void 0:i.map((e=>({config:e,bidId:e.bidId})));return c?{bids:d,fledgeAuctionConfigs:c}:d},getUserSyncs:function(e,t,i,n,r){if(!al&&e.iframeEnabled){let e={};var s;if(i&&("boolean"==typeof i.gdprApplies&&(e.gdpr=Number(i.gdprApplies)),"string"==typeof i.consentString&&(e.gdpr_consent=i.consentString)),n&&(e.us_privacy=encodeURIComponent(n)),null!=r&&r.gppString)e.gpp=r.gppString,e.gpp_sid=null===(s=r.applicableSections)||void 0===s?void 0:s.toString();return e=Object.keys(e).length?"?".concat((0,_.eP)(e)):"",al=!0,{type:"iframe",url:"https://".concat(Jc.syncHost||"eus",".rubiconproject.com/usync.html")+e}}}};function Zc(e,t){let i;return i=e.params.referrer?e.params.referrer:t.refererInfo.page,e.params.secure?i.replace(/^http:/i,"https:"):i}function el(e){const t=document.getElementById(e.adUnitCode);!function(e){const t=e.querySelector("div[id^='google_ads']");t&&t.style.setProperty("display","none")}(t),function(e){const t=e.querySelector("script[id^='sas_script']"),i=t&&t.nextSibling;i&&"iframe"===i.localName&&i.style.setProperty("display","none")}(t);const i={...{align:"center",position:"append",closeButton:!1,label:void 0,collapse:!0},...e.renderer.getConfig()};e.renderer.push((()=>{window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:t,align:i.align,position:i.position},closeButton:i.closeButton,label:i.label,collapse:i.collapse})}))}function tl(e,t){let i=e.params;if(t===w.G_){let t=[];return i.video&&i.video.playerWidth&&i.video.playerHeight?t=[i.video.playerWidth,i.video.playerHeight]:Array.isArray((0,A.A)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?t=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(t=e.sizes[0]),t}let n=[];return Array.isArray(i.sizes)?n=i.sizes:void 0!==(0,A.A)(e,"mediaTypes.banner.sizes")?n=nl(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?n=nl(e.sizes):(0,_.JE)("Rubicon: no sizes are setup or found"),function(e){const t=[15,2,9];return e.sort(((e,i)=>{const n=t.indexOf(e),r=t.indexOf(i);return n>-1||r>-1?-1===n?1:-1===r?-1:n-r:e-i}))}(n)}function il(e,t,i){return n=>{var r;const s=Number(null===(r=n.ext)||void 0===r?void 0:r.segtax);var o;i.includes(s)&&(e["tg_".concat(t,".tax").concat(s)]=null===(o=n.segment)||void 0===o?void 0:o.map((e=>e.id)).join(","))}}function nl(e){return(0,_.kK)(e).reduce(((e,t)=>{let i=parseInt(Kc[t],10);return i&&e.push(i),e}),[])}function rl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];if(function(e){let t=void 0!==(0,A.A)(e,"mediaTypes.".concat(w.G_)),i=void 0!==(0,A.A)(e,"mediaTypes.".concat(w.D4)),n=void 0!==(0,A.A)(e,"params.bidonmultiformat"),r="object"!=typeof(0,A.A)(e,"params.video");return!(!t||!n)||(i&&r&&(t=!1),t&&r&&(0,E.J)(e,"params.video",{}),t)}(e)){if(-1===["outstream","instream"].indexOf((0,A.A)(e,"mediaTypes.".concat(w.G_,".context"))))return t&&(0,_.vV)("Rubicon: mediaTypes.video.context must be outstream or instream"),i;if(tl(e,w.G_).length<2)return t&&(0,_.vV)("Rubicon: could not determine the playerSize of the video"),i;t&&(0,_.OG)("Rubicon: making video request for adUnit",e.adUnitCode),i.push(w.G_)}if(void 0!==(0,A.A)(e,"mediaTypes.".concat(w.s6))&&i.push(w.s6),void 0!==(0,A.A)(e,"mediaTypes.".concat(w.D4))){if(0===tl(e,w.D4).length)return t&&(0,_.vV)("Rubicon: could not determine the sizes for banner request"),i;t&&(0,_.OG)("Rubicon: making banner request for adUnit",e.adUnitCode),i.push(w.D4)}return i}function sl(e){let t=!1;const i=["asi","sid","hp"];return e.nodes?(t=e.nodes.reduce(((e,t)=>e?i.every((e=>t.hasOwnProperty(e))):e),!0),t||(0,_.vV)("Rubicon: required schain params missing"),t):t}function ol(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var al=!1;(0,Is.a$)(Xc),(0,b.E)("rubiconBidAdapter");const dl={mimes:e=>Array.isArray(e)&&e.length>0&&e.every((e=>"string"==typeof e)),minduration:e=>(0,_.Fq)(e),maxduration:e=>(0,_.Fq)(e),protocols:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=10)),w:e=>(0,_.Fq)(e),h:e=>(0,_.Fq)(e),startdelay:e=>(0,_.Fq)(e),placement:e=>(0,_.Fq)(e)&&e>=1&&e<=5,linearity:e=>-1!==[1,2].indexOf(e),skip:e=>-1!==[0,1].indexOf(e),skipmin:e=>(0,_.Fq)(e),skipafter:e=>(0,_.Fq)(e),sequence:e=>(0,_.Fq)(e),battr:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=17)),maxextended:e=>(0,_.Fq)(e),minbitrate:e=>(0,_.Fq)(e),maxbitrate:e=>(0,_.Fq)(e),boxingallowed:e=>-1!==[0,1].indexOf(e),playbackmethod:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6)),playbackend:e=>-1!==[1,2,3].indexOf(e),delivery:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=3)),pos:e=>(0,_.Fq)(e)&&e>=1&&e<=7,api:e=>Array.isArray(e)&&e.every((e=>e>=1&&e<=6))},cl={context:e=>e!==w.LM,mimes:dl.mimes,maxduration:dl.maxduration,protocols:dl.protocols},ll={code:"sovrn",supportedMediaTypes:[w.D4,w.G_],gvlid:13,isBidRequestValid:function(e){var t;const i=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||i&&!Object.keys(cl).every((e=>cl[e](i[e]))))},buildRequests:function(e,t){try{let i,n,r,s,o=[];(0,_.bu)(e,(function(e){var a;!r&&e.userIdAsEids&&(r=e.userIdAsEids,r.forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(s=e.uids[0].id)}))),e.schain&&(n=n||e.schain),i=i||(0,_.u5)("iv",e.params);const d={adunitcode:e.adUnitCode,id:e.bidId,tagid:String((0,_.u5)("tagid",e.params)),bidfloor:ul(e)};if((0,A.A)(e,"mediaTypes.banner")){let t=(0,A.A)(e,"mediaTypes.banner.sizes")||e.sizes;t=(0,_.cy)(t)&&(0,_.cy)(t[0])?t:[t],t=t.filter((e=>(0,_.cy)(e)));const i=t.map((e=>({w:parseInt(e[0],10),h:parseInt(e[1],10)})));d.banner={format:i,w:1,h:1}}(0,A.A)(e,"mediaTypes.video")&&(d.video=function(e){const t={},i=(0,A.A)(e,"sizes"),n=(0,A.A)(e,"mediaTypes.video",{}),r=(0,A.A)(e,"params.video",{}),s={};if(i){const e=Array.isArray(i[0])?i[0]:i;s.w=e[0],s.h=e[1]}else if(Array.isArray(n.playerSize)){const e=Array.isArray(n.playerSize[0])?n.playerSize[0]:n.playerSize;s.w=e[0],s.h=e[1]}const o={...s,...n,...r};return Object.keys(dl).forEach((e=>{o.hasOwnProperty(e)&&(dl[e](o[e])?t[e]=o[e]:(0,_.JE)("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),d.ext=(0,_.u5)("ext",e.ortb2Imp)||void 0;const c=(0,_.u5)("segments",e.params);c&&(d.ext=d.ext||{},d.ext.deals=c.split(",").map((e=>e.trim())));const l=null==e||null===(a=e.ortb2Imp)||void 0===a||null===(a=a.ext)||void 0===a?void 0:a.ae;var u;t.fledgeEnabled&&(0,_.Fq)(l)?(d.ext=d.ext||{},d.ext.ae=l):null!==(u=d.ext)&&void 0!==u&&u.ae&&delete d.ext.ae;o.push(d)}));const a=t.ortb2||{},d=a.site||{};d.page=t.refererInfo.page,d.domain=t.refererInfo.domain;const c=(0,A.A)(t,"timeout"),l={id:(0,_.s0)(),imp:o,site:d,user:a.user||{},tmax:c};n&&(l.source={ext:{schain:n}});const u=(0,A.A)(t,"ortb2.source.tid");u&&(0,E.J)(l,"source.tid",u);(0,A.A)(t,"ortb2.regs.coppa")&&(0,E.J)(l,"regs.coppa",1),t.gdprConsent&&((0,E.J)(l,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),(0,E.J)(l,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(0,E.J)(l,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&((0,E.J)(l,"regs.gpp",t.gppConsent.gppString),(0,E.J)(l,"regs.gpp_sid",t.gppConsent.applicableSections)),r&&((0,E.J)(l,"user.ext.eids",r),s&&(0,E.J)(l,"user.ext.prebid_criteoid",s));let p="https://ap.lijit.com/rtb/bid?src=prebid_prebid_8.52.2";return i&&(p+="&iv=".concat(i)),{method:"POST",url:p,data:JSON.stringify(l),options:{contentType:"text/plain"}}}catch(e){(0,_.vV)("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){let{body:{id:t,seatbid:i,ext:n}}=e;if(!t||!i||!Array.isArray(i))return[];try{let e=i.filter((e=>e)).map((e=>e.bid.map((e=>{var t;const i={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?w.D4:w.G_,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?i.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):i.vastXml=decodeURIComponent(e.adm),i})))).flat(),t=null;if((0,_.cy)(null==n?void 0:n.igbid)){const e=n.seller,i=n.decisionLogicUrl,r=n.sellerTimeout;n.igbid.filter((e=>{return t=e,!(0,_.xQ)(t.impid)&&(0,_.cy)(t.igbuyer)&&t.igbuyer.length;var t})).forEach((n=>{const s={};n.igbuyer.filter((e=>{return t=e,!(0,_.xQ)(t.igdomain);var t})).forEach((e=>{s[e.igdomain]=e.buyerdata}));const o=[...Object.keys(s)];o.length&&(t=t||{},t[n.impid]={seller:e,decisionLogicUrl:i,sellerTimeout:r,interestGroupBuyers:o,perBuyerSignals:s})}))}return t?(t=Object.entries(t).map((e=>{let[t,i]=e;return{bidId:t,config:Object.assign({auctionSignals:{}},i)}})),{bids:e,fledgeAuctionConfigs:t}):e}catch(e){return(0,_.vV)("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,i,n,r){try{const s=[];if(t&&0!==t.length){if(e.iframeEnabled){const e=t.filter((e=>(0,A.A)(e,"body.ext.iid"))).map((e=>e.body.ext.iid)),o=[];i&&i.gdprApplies&&"string"==typeof i.consentString&&o.push(["gdpr_consent",i.consentString]),n&&o.push(["us_privacy",n]),r&&(o.push(["gpp",r.gppString]),o.push(["gpp_sid",r.applicableSections])),e[0]&&(o.push(["informer",e[0]]),s.push({type:"iframe",url:"https://ce.lijit.com/beacon?"+o.map((e=>e.join("="))).join("&")}))}e.pixelEnabled&&t.filter((e=>(0,A.A)(e,"body.ext.sync.pixels"))).reduce(((e,t)=>e.concat(t.body.ext.sync.pixels)),[]).map((e=>e.url)).forEach((e=>s.push({type:"image",url:e})))}return s}catch(e){return[]}}};function ul(e){const t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{},i=parseFloat(t.floor);if(!isNaN(i))return i;const n=parseFloat((0,_.u5)("bidfloor",e.params));return isNaN(n)?void 0:n}function pl(e){if(!e)return;let t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){let i=e.mediaTypes.banner.sizes;Array.isArray(i[0])?t=i:t.push(i)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}(0,Is.a$)(ll),(0,b.E)("sovrnBidAdapter");const hl=["minduration","maxduration","startdelay","placement","plcmt","linearity","mimes","protocols","api"],fl=["1x1","1x2"],gl={code:"imds",aliases:[{code:"synacormedia"}],supportedMediaTypes:[w.D4,w.G_],sizeMap:{},isVideoBid:function(e){return void 0!==e.mediaTypes&&e.mediaTypes.hasOwnProperty("video")},isBidRequestValid:function(e){const t=e&&e.params&&(e.params.hasOwnProperty("placementId")||e.params.hasOwnProperty("tagId"))&&e.params.hasOwnProperty("seatId"),i=e&&pl(e).filter((e=>-1===fl.indexOf(e.join("x")))).length>0;return!(!t||!i)},buildRequests:function(e,t){var i,n,r;if(!e||!e.length||!t)return;const s=t.refererInfo,o=(0,_.D9)({id:t.bidderRequestId,site:{domain:s.domain,page:s.page,ref:s.ref},device:{ua:navigator.userAgent},imp:[]},t.ortb2||{}),a=t.timeout;a&&(o.tmax=a);const d=e[0].schain;d&&(o.source={ext:{schain:d}});let c=null;if(e.forEach(((e,t)=>{if(c&&c!==e.params.seatId)return void(0,_.JE)("IMDS: there is an inconsistent seatId: ".concat(e.params.seatId," but only sending bid requests for ").concat(c,", you should double check your configuration"));c=e.params.seatId;const i=e.params.tagId||e.params.placementId;let n=parseInt(e.params.pos||(0,A.A)(e.mediaTypes,"video.pos"),10);isNaN(n)&&((0,_.JE)("IMDS: there is an invalid POS: ".concat(e.params.pos)),n=0);const r=this.isVideoBid(e)?"video":"banner",s=pl(e).filter((e=>-1===fl.indexOf(e.join("x"))));let a=[];"banner"===r?a=this.buildBannerImpressions(s,e,i,n,r):"video"===r&&(a=this.buildVideoImpressions(s,e,i,n,r)),a.length>0&&a.forEach((t=>{const i=(0,A.A)(e,"ortb2Imp.ext");i&&(0,E.J)(t,"ext",i),o.imp.push(t)}))})),null===(i=o.regs)||void 0===i||null===(i=i.ext)||void 0===i||!i.us_privacy||null!==(n=o.regs)&&void 0!==n&&n.us_privacy||(0,E.J)(o,"regs.us_privacy",o.regs.ext.us_privacy),null!==(r=o.regs)&&void 0!==r&&null!==(r=r.ext)&&void 0!==r&&r.us_privacy&&(delete o.regs.ext.us_privacy,Object.keys(o.regs.ext).length<1&&delete o.regs.ext),e[0]&&e[0].userIdAsEids&&Array.isArray(e[0].userIdAsEids)){const t=e[0].userIdAsEids;t.length&&(0,E.J)(o,"user.ext.eids",t)}return o.imp.length&&c?{method:"POST",url:"".concat("https://").concat(c,".").concat("technoratimedia.com","/openrtb/bids/").concat(c,"?src=pbjs%2F8.52.2"),data:o,options:{contentType:"application/json",withCredentials:!0}}:void 0},buildBannerImpressions:function(e,t,i,n,r){let s=[],o=[];if(e.forEach(((e,t)=>{e&&2===e.length&&s.push({w:e[0],h:e[1]})})),s.length>0){const e={id:"".concat(r.substring(0,1)).concat(t.bidId),banner:{format:s,pos:n},tagid:i},a=ml(t,"banner","*");isNaN(a)&&(0,_.JE)("IMDS: there is an invalid bid floor: ".concat(t.params.bidfloor)),null===a||isNaN(a)||(e.bidfloor=a),o.push(e)}return o},buildVideoImpressions:function(e,t,i,n,r){let s=[];return e.forEach(((e,o)=>{if(!e||2!=e.length)return;const a=e[0],d=e[1],c={id:"".concat(r.substring(0,1)).concat(t.bidId,"-").concat(a,"x").concat(d),tagid:i},l=ml(t,"video",e);isNaN(l)&&(0,_.JE)("IMDS: there is an invalid bid floor: ".concat(t.params.bidfloor)),null===l||isNaN(l)||(c.bidfloor=l);const u={w:a,h:d,pos:n};t.mediaTypes.video&&(t.params.video||(t.params.video={}),this.setValidVideoParams(t.mediaTypes.video,t.params.video)),t.params.video&&this.setValidVideoParams(t.params.video,u),c[r]=u,s.push(c)})),s},setValidVideoParams:function(e,t){Object.keys(e).filter((t=>(0,I.mK)(hl,t)&&null!==e[t]&&(!isNaN(parseInt(e[t],10))||!(e[t].length<1)))).forEach((i=>t[i]=Array.isArray(e[i])?e[i]:parseInt(e[i],10)))},interpretResponse:function(e,t){const i=(e,t)=>t?t.replace(/\${AUCTION_PRICE}/g,e.price):t;if(!e.body||"object"!=typeof e.body)return;const{id:n,seatbid:r}=e.body;let s=[];return n&&r&&r.forEach((e=>{e.bid.forEach((n=>{const r=i(n,n.adm),o=i(n,n.nurl),[,a,d]=n.impid.match(/^([vb])([\w\d]+)/);let c=n.h,l=n.w;const u="v"===a,p="b"===a;(!c||!l)&&t.data&&t.data.imp&&t.data.imp.length>0&&t.data.imp.forEach((e=>{if(n.impid===e.id)if(u)c=e.video.h,l=e.video.w;else if(p){let t=1,i=1;e.banner.format&&e.banner.format.length>0&&(t=e.banner.format[0].h,i=e.banner.format[0].w),c=t,l=i}else c=1,l=1}));let h=420;if(n.ext&&n.ext["imds.tv"]&&n.ext["imds.tv"].ttl){const e=parseInt(n.ext["imds.tv"].ttl,10);h=!isNaN(e)&&e>0?e:420}let f=h;if(n.exp){const e=parseInt(n.exp,10);f=!isNaN(e)&&e>0?Math.min(e,h):h}const g={requestId:d,cpm:parseFloat(n.price),width:parseInt(l,10),height:parseInt(c,10),creativeId:"".concat(e.seat,"_").concat(n.crid),currency:"USD",netRevenue:!0,mediaType:u?w.G_:w.D4,ad:r,ttl:f};if(null==n.adomain&&null==n.adomain||(g.meta={advertiserDomains:n.adomain}),u){const[,e]=o.match(/ID=([^&]*)&?/);y.$W.getConfig("cache.url")||(g.videoCacheKey=encodeURIComponent(e)),g.vastUrl=o}s.push(g)}))})),s},getUserSyncs:function(e,t,i,n,r){const s=[],o=["src=pbjs%2F8.52.2"];return i&&o.push("gdpr=".concat(Number(i.gdprApplies&&1),"&consent=").concat(encodeURIComponent(i.consentString||""))),n&&o.push("us_privacy="+encodeURIComponent(n)),r&&o.push("gpp="+encodeURIComponent(r.gppString||"")+"&gppsid="+encodeURIComponent((r.applicableSections||[]).join(","))),e.iframeEnabled?s.push({type:"iframe",url:"".concat("https://ad-cdn.technoratimedia.com/html/usersync.html","?").concat(o.join("&"))}):e.pixelEnabled&&s.push({type:"image",url:"".concat("https://sync.technoratimedia.com/services","?srv=cs&").concat(o.join("&"))}),s}};function ml(e,t,i){if(!(0,_.fp)(e.getFloor))return e.params.bidfloor?parseFloat(e.params.bidfloor):null;let n=e.getFloor({currency:"USD",mediaType:t,size:i});return(0,_.Qd)(n)&&!isNaN(n.floor)&&"USD"===n.currency?n.floor:null}function vl(e,t,i){return i?e+t+"="+encodeURIComponent(i)+"&":e}(0,Is.a$)(gl),(0,b.E)("imdsBidAdapter");const bl="triplelift";let yl=null,Al=null;const _l=(0,ne.vM)({bidderCode:bl}),El={gvlid:28,code:bl,supportedMediaTypes:[w.D4,w.G_],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){let i="https://tlx.3lift.com/header/auction?",n=function(e,t){var i;let n={},{schain:r}=e[0];const s=function(e){const t={},i={},n={},r=e.ortb2||{},s=function(){const e=_l.getDataFromLocalStorage("opecloud_ctx");if(!e)return null;try{return JSON.parse(e)}catch(e){return(0,_.vV)("Triplelift: error parsing JSON: ",e),null}}(),o=Object.assign({},r.site),a=Object.assign({},r.user);if(s){a.data=a.data||[];try{a.data.push({name:"www.1plusx.com",ext:s})}catch(e){(0,_.vV)("Triplelift: error adding 1plusX segments: ",e)}}Tl(i,o),Tl(n,a),(0,_.Im)(i)||(t.context=i);(0,_.Im)(n)||(t.user=n);return t}(t);n.imp=e.map((function(e,t){let i={id:t,tagid:e.params.inventoryCode,floor:Cl(e)};return Il(e)&&(i.video=function(e){let t={...e.params.video,...e.mediaTypes.video};try{t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1])}catch(e){(0,_.JE)("Video size not defined",e)}t.playbackmethod&&Number.isInteger(t.playbackmethod)&&(t.playbackmethod=Array.from(String(t.playbackmethod),Number));return delete t.playerSize,t}(e)),e.mediaTypes.banner&&!wl(e)&&(i.banner={format:Ol(e.sizes)}),(0,_.Im)(e.ortb2Imp)||(i.fpd=function(e){const t={},i={};Tl(i,e.ext),(0,_.Im)(i)||(t.context=i);return t}(e.ortb2Imp),(0,_.Im)(e.ortb2Imp.ext)||(i.ext={...e.ortb2Imp.ext})),i}));let o=[];e[0].userIdAsEids&&(o=A.A(e[0],"userIdAsEids"),n.user={ext:{eids:o}});let a=function(e,t){let i={};(0,_.Im)(e)||(i.schain={...e});(0,_.Im)(t)||(i.fpd={...t});return i}(r,s);(0,_.Im)(a)||(n.ext=a);null!=t&&null!==(i=t.ortb2)&&void 0!==i&&null!==(i=i.regs)&&void 0!==i&&i.gpp&&(n.regs=Object.assign({},t.ortb2.regs));null!=t&&t.ortb2&&(n.ext.ortb2=Object.assign({},t.ortb2));return n}(e,t);if(i=vl(i,"lib","prebid"),i=vl(i,"v","8.52.2"),t&&t.refererInfo){i=vl(i,"referrer",t.refererInfo.page)}return t&&t.timeout&&(i=vl(i,"tmax",t.timeout)),t&&t.gdprConsent&&(yl=void 0===t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies,i=vl(i,"gdpr",yl.toString()),void 0!==t.gdprConsent.consentString&&(Al=t.gdprConsent.consentString,i=vl(i,"cmp_cs",Al))),t&&t.uspConsent&&(i=vl(i,"us_privacy",t.uspConsent)),t&&t.fledgeEnabled&&(i=vl(i,"fledge",t.fledgeEnabled)),!0===y.$W.getConfig("coppa")&&(i=vl(i,"coppa",!0)),i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.length-1)),(0,_.OG)("tlCall request built: "+i),{method:"POST",url:i,data:n,bidderRequest:t}},interpretResponse:function(e,t){let{bidderRequest:i}=t,n=e.body.bids||[];const r=e.body.paapi||[];if(n=n.map((e=>function(e,t){let i={},n=t.width||1,r=t.height||1,s=t.deal_id||"",o=t.crid||"",a=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(i={requestId:a.bidId,cpm:t.cpm,width:n,height:r,netRevenue:!0,ad:t.ad,creativeId:o,dealId:s,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},Il(a)&&"video"===t.media_type&&(i.vastXml=t.ad,i.mediaType="video",i.ttl=3600),t.advertiser_name&&(i.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(i.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(Il(a)&&"video"===t.media_type?i.meta.mediaType="video":i.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(i.meta.mediaType="native"),o&&(i.meta.networkId=o.slice(0,o.indexOf("_"))));return i}(i,e))),r.length>0){const e=r.map((e=>({bidId:i.bids[e.imp_id].bidId,config:e.auctionConfig})));return(0,_.OG)("Response with FLEDGE:",{bids:n,fledgeAuctionConfigs:e}),{bids:n,fledgeAuctionConfigs:e}}return n},getUserSyncs:function(e,t,i,n,r){let s=function(e){if(!e)return;if(e.iframeEnabled)return"iframe";if(e.pixelEnabled)return"image"}(e);if(!s)return;let o="https://eb2.3lift.com/sync?";return"image"===s&&(o=vl(o,"px",1),o=vl(o,"src","prebid")),(null!==Al||yl)&&(o=vl(o,"gdpr",yl),o=vl(o,"cmp_cs",Al)),n&&(o=vl(o,"us_privacy",n)),r&&(r.gppString&&(o=vl(o,"gpp",r.gppString)),r.applicableSections&&0!==r.applicableSections.length&&(o=vl(o,"gpp_sid",r.applicableSections.filter((e=>Number.isInteger(e))).join(",")))),[{type:s,url:o}]}};function Il(e){return Sl(e)&&(wl(e)||function(e){return Sl(e)&&"outstream"===e.mediaTypes.video.context.toLowerCase()}(e))}function wl(e){return Sl(e)&&"instream"===e.mediaTypes.video.context.toLowerCase()}function Sl(e){return e.mediaTypes.video&&e.mediaTypes.video.context}function Cl(e){let t=null;if("function"==typeof e.getFloor)try{const i=e.getFloor({currency:"USD",mediaType:Il(e)?"video":"banner",size:"*"});"object"!=typeof i||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(t=parseFloat(i.floor))}catch(e){(0,_.vV)("Triplelift: getFloor threw an error: ",e)}return null!==t?t:e.params.floor}function Tl(e,t){(0,_.Im)(t)||Object.keys(t).forEach((i=>{null!=t[i]&&(e[i]=t[i])}))}function Ol(e){return e.filter(xl).map((function(e){return{w:e[0],h:e[1]}}))}function xl(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}(0,Is.a$)(El),(0,b.E)("tripleliftBidAdapter");var Rl=r(8058),Dl=r(9027),Ul=r(9614),Bl=r(1375);var kl=r(8218);function Pl(e){if(!e)return;let t=window.document.head||window.document.getElementsByTagName("head")[0],i=(0,kl.el)("style",{type:"text/css"});(0,kl.Or)(t,i),Object.prototype.hasOwnProperty.call(i,"styleSheet")?i.styleSheet.cssText=e:i.appendChild(window.document.createTextNode(e))}var $l=r(3269),Ml=r(4083),Ll=r(75);var Nl=r(5522),jl=r(8711);let Fl=!1;function zl(){window.dispatchEvent(new CustomEvent(jl.qb))}g.init=function(e,t){if(v.Ay.checkBidAdapter("rubicon"),Fl||!e)return!1;let i=e.getOption("YMPB_NOT_RUN_CHECKER");if(i&&(0,$l.V)(i))return!1;Fl=!0,T([]),(0,Rl.A)(t.ad_units,(e=>{(0,Rl.A)(e.bids,(e=>{"appnexus"===e.alias&&e.params&&(e.params.allow_smaller_sizes=!0)}))})),e.getOption("YMPB_ENABLE_CLEANIO_SCRIPT")&&(0,Ml.A)(Ul.yL),Pl(e.getOption("YMPB_TEMPLATE_CSS")),Pl(e.getOption("YMPB_CUSTOM_CSS")),e.$deviceDetector.isDesktop&&Pl('ins[data-google-query-id]::before {\n                content: "\\00d7";\n                display: block;\n                width: 48px;\n                height: 48px;\n                position: absolute;\n                right: 20px;\n                top:0;\n                z-index: 1;\n                font-size: 38px;\n                color: #ccc;\n                text-shadow: 0px 0px 1px #000;\n                pointer-events: none;\n            }'),Ll.rE&&!e.getOption("GDPR_ENABLED")&&(0,Nl.ix)()&&(e.getOption("USE_PARENT_TCF")?e.setOption("GDPR_ENABLED",!0,!1):(0,Nl.OG)()),e.getOption("GDPR_ENABLED")&&(0,Nl.OG)(),(window.googletag&&window.googletag.apiReady?Promise.resolve(!0):Bl.A.load(Ul.FZ)).then((()=>{(function(){let e=document.createElement("div");return e.innerHTML="&nbsp;",e.className="ads ad adsbox doubleclick ad-placement carbon-ads ad_container text-ad text_ad pub_",(0,kl.eC)(e,{width:"1px",height:"1px",position:"absolute",left:"-10px",top:"-10px"}),document.body?(document.body.appendChild(e),new Promise((function(t,i){window.setTimeout((function(){let n=!e||0===e.offsetHeight;if(null!==e)try{(0,kl.vs)(document.body,e)}catch(e){}n?i(new Error("AdBlock Enabled")):t(!0)}),Ll.Y8)}))):Promise.resolve(!0)})().then((()=>{m.Ay.processQueue(),googletag.cmd.push((()=>{Dl.A.init(e,t.ad_units,{enableRefresh:!0,blockthroughMode:!1})}))})).catch((()=>{e.setOptions({BIDDERS:[],BIDDER_LABELS_INITING:[],BIDDER_LABELS_PRECACHING:[],BIDDER_LABELS_PRECACHING_2:[],BIDDER_LABELS_INITCACHING:[],BIDDER_LABELS_PREFETCHING:[],YMPB_PRECACHE_INTERVAL:0,YMPB_PRECACHE_INTERVAL_2:0,YMPB_ENABLE_ADDITIONAL_BIDS:-1,YMPB_MEDREC_TO_MULTI_NUM:-1,YMPB_LEADERBOARD_TO_MULTI_NUM:-1,YMPB_ENABLE_CACHE:!1,YMPB_SINGLE_REQUEST:!1,ENABLE_INTERSTITIAL:!1}),e.getOption("YMPB_ENABLE_BLOCKTHROUGH")?(e.setOptions({YMPB_DESTROY_BEFORE_REFRESH:!0}),m.Ay.processQueue(),googletag.cmd.push((()=>{(0,Ml.A)(Ul.dK,(function(){Dl.A.init(e,t.ad_units,{enableRefresh:!0,blockthroughMode:!0})}),(function(){Dl.A.initWithBlocker(e,t.ad_units),zl()}))}))):(e.setOptions({YMPB_DEFAULT_REFRESHRATE:0,YMPB_REFRESHRATE_MIN:0,YMPB_ENABLE_SWAPPING:!1,YMPB_DESTROY_BEFORE_REFRESH:!1}),m.Ay.processQueue(),Dl.A.initWithBlocker(e,t.ad_units),zl())}))})).catch((()=>{m.Ay.processQueue(),Dl.A.initWithBlocker(e,t.ad_units),zl()}))}})()})();